<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords" content="Gridea静态个人博客">
<meta name="description" content="记录自己的Java学习过程">
<meta name="theme-color" content="#074181">
<title>Eureka | Juyss&#39;s Blog</title>
<link rel="shortcut icon" href="/favicon.ico?v=1608889670529">
<link rel="stylesheet" href="/media/css/gemini.css">
<link rel="stylesheet" href="/media/fonts/font-awesome.css">
<link
  href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Rosario:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext"
  rel="stylesheet" type="text/css">

<link href="/media/hljs/styles/androidstudio.css"
  rel="stylesheet">

<link rel="stylesheet" href="/styles/main.css">

<script src="/media/hljs/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.ui.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"
  integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">


<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"
  integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"
  integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
  onload="renderMathInElement(document.body);"></script>





  <meta name="description" content="Eureka" />
  <meta name="keywords" content="SpringCloud" />
</head>

<body>
  <div class="head-top-line"></div>
  <div class="header-box">
    
<div class="gemini">
  <header class="header  ">
    <div class="blog-header box-shadow-wrapper bg-color " id="header">
      <div class="nav-toggle" id="nav_toggle">
        <div class="toggle-box">
          <div class="line line-top"></div>
          <div class="line line-center"></div>
          <div class="line line-bottom"></div>
        </div>
      </div>
      <div class="site-meta">       
        <div class="site-title">
          
            <a href="/" class="brand">
              <span>Juyss&#39;s Blog</span>
            </a>  
          
        </div>
        
          <p class="subtitle">记录自己的Java学习过程</p>
        
      </div>
      <nav class="site-nav" id="site_nav">
        <ul id="nav_ul">
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/" target="_self">
                  <i class="fa fa-home"></i> 首页
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/archives/" target="_self">
                  <i class="fa fa-archive"></i> 归档
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/tags/" target="_self">
                  <i class="fa fa-tags"></i> 标签
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/post/about/" target="_self">
                  <i class="fa fa-user"></i> 关于
                </a>
              
            </li>
          
          
            
              <li class="nav-item ">
                <a href="/friends/" target="_self">
                  
                    <i class="fa fa-address-book"></i> 友情链接
                  
                </a>
              </li>
            
          
          
            <li id="fa_search" class="nav-item">
              <a href="javascript:void(0);">
                <i class="fa fa-search"></i> <span class="language" data-lan="search">搜索</span>
              </a>
            </li>
          
        </ul>
      </nav>
    </div>
  </header>
</div>

<script type="text/javascript"> 
 
  let showNav = true;

  let navToggle = document.querySelector('#nav_toggle'),
  siteNav = document.querySelector('#site_nav');
  
  function navClick() {
    let sideBar = document.querySelector('.sidebar');
    let navUl = document.querySelector('#nav_ul');
    navToggle.classList.toggle('nav-toggle-active');
    siteNav.classList.toggle('nav-menu-active');
    if (siteNav.classList.contains('nav-menu-active')) {
      siteNav.style = "height: " + (navUl.children.length * 42) +"px !important";
    } else {
      siteNav.style = "";
    }
  }

  navToggle.addEventListener('click',navClick);  
</script>
  </div>
  <div class="main-continer">
    
    <div
      class="section-layout gemini ">
      <div class="section-layout-wrapper">
        

<div class="sidebar">
  
    <div class="sidebar-box box-shadow-wrapper bg-color right-motion" id="sidebar">
      
        <div class="post-list-sidebar">
          <div class="sidebar-title">
            <span id="tocSideBar" class="sidebar-title-item sidebar-title-active language" data-lan="index">文章目录</span>
            <span id="metaSideBar" class="sidebar-title-item language" data-lan="preview">站点概览</span>
          </div>
        </div>
      
      <div class="sidebar-body gemini" id="sidebar_body">
        
          
            <div class="post-side-meta" id="post_side_meta">
              
<div class="sidebar-wrapper box-shadow-wrapper bg-color">
  <div class="sidebar-item">
    <img class="site-author-image right-motion" src="/images/avatar.png"/>
    <p class="site-author-name">Shmebluk</p>
    
  </div>
  <div class="sidebar-item side-item-stat right-motion">
    <div class="sidebar-item-box">
      <a href="/archives/">
        
        <span class="site-item-stat-count">50</span>
        <span class="site-item-stat-name language" data-lan="article">文章</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="">
        <span class="site-item-stat-count">25</span>
        <span class="site-item-stat-name language" data-lan="category">分类</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="/tags/">
        <span class="site-item-stat-count">25</span>
        <span class="site-item-stat-name language" data-lan="tag">标签</span>
      </a>
    </div>
  </div>
  
    
      <div class="sidebar-item">
        <span class="site-item-rss">
            <i class="fa fa-rss"></i>
            <a href="https://juyss.github.io//atom.xml" target="_blank">RSS</a>
        </span>
      </div>
    
  
  



  <div style="width: 100%; position: relative;">
    <canvas id="canvasDiyBlock" style="width:100%;">当前浏览器不支持canvas，请更换浏览器后再试</canvas>
    <script src="/media/js/magic/clock.js"></script>
  </div>

</div>
            </div>
            <div class="post-toc sidebar-body-active" id="post_toc" style="opacity: 1;">
              <div class="toc-box right-motion">
  <div class="toc-wrapper auto-number auto"
    id="toc_wrapper">
    <ul class="markdownIt-TOC">
<li><a href="#eureka">Eureka</a>
<ul>
<li><a href="#registry-center-%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83">Registry-Center 注册中心</a>
<ul>
<li><a href="#%E5%8D%95%E6%9C%BA%E7%89%88">单机版</a></li>
<li><a href="#%E9%9B%86%E7%BE%A4%E7%89%88">集群版</a></li>
</ul>
</li>
<li><a href="#provider-%E6%9C%8D%E5%8A%A1%E6%8F%90%E4%BE%9B%E8%80%85">Provider 服务提供者</a>
<ul>
<li><a href="#%E5%8D%95%E6%9C%BA%E7%89%88-2">单机版</a></li>
<li><a href="#%E9%9B%86%E7%BE%A4%E7%89%88-2">集群版</a></li>
</ul>
</li>
<li><a href="#consumer-%E6%9C%8D%E5%8A%A1%E6%B6%88%E8%B4%B9%E8%80%85">Consumer 服务消费者</a>
<ul>
<li><a href="#%E6%9C%8D%E5%8A%A1%E5%90%AF%E5%8A%A8%E9%A1%BA%E5%BA%8F">服务启动顺序</a></li>
<li><a href="#eureka%E8%87%AA%E6%88%91%E4%BF%9D%E6%8A%A4%E6%9C%BA%E5%88%B6">Eureka自我保护机制</a>
<ul>
<li><a href="#server%E7%AB%AF">Server端</a></li>
</ul>
</li>
<li><a href="#client%E7%AB%AF">Client端</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
</div>

<script>

  let lastTop = 0, lList = [], hList = [], postBody, lastIndex = -1;
  let active = 'active-show', activeClass = 'active-current';
  let tocWrapper = document.querySelector('#toc_wrapper');
  let tocContent = tocWrapper.children[0];
  let autoNumber = tocWrapper && tocWrapper.classList.contains('auto-number');

  function addTocNumber(elem, deep) {
    if (!elem) {
      return;
    }
    let prop = elem.__proto__;

    if (prop === HTMLUListElement.prototype) {
      for (let i = 0; i < elem.children.length; i++) {
        addTocNumber(elem.children[i], deep + (i + 1) + '.');
      }
    } else if (prop === HTMLLIElement.prototype) {
      // 保存li元素
      if (elem.children[0] && elem.children[0].__proto__ === HTMLAnchorElement.prototype) {
        lList.push(elem);
      }
      for (let i = 0; i < elem.children.length; i++) {
        let cur = elem.children[i];
        if (cur.__proto__ === HTMLAnchorElement.prototype) {
          if (autoNumber) {
            cur.text = deep + ' ' + cur.text;
          }
        } else if (cur.__proto__ === HTMLUListElement.prototype) {
          addTocNumber(cur, deep);
        }
      }
    }
  }

  function removeParentActiveClass() {
    let parents = tocContent.querySelectorAll('.' + active)
    parents.forEach(function (elem) {
      elem.classList.remove(active);
    });
  }

  function addActiveClass(index) {
    if (index >= 0 && index < hList.length) {
      lList[index].classList.add(activeClass);
    }
  }

  function removeActiveClass(index) {
    if (index >= 0 && index < hList.length) {
      lList[index].classList.remove(activeClass);
    }
  }

  function addActiveLiElemment(elem, parent) {
    if (!elem || elem === parent) {
      return;
    } else {
      if (elem.__proto__ === HTMLLIElement.prototype) {
        elem.classList.add(active);
      }
      addActiveLiElemment(elem.parentElement, parent);
    }
  }

  function showToc() {
    if (tocWrapper) {
      postBody = document.querySelector('#post_body');
      for (let i = 0; i < postBody.children.length; i++) {
        if (postBody.children[i].__proto__ === HTMLHeadingElement.prototype) {
          hList.push(postBody.children[i]);
        }
      }
      if (tocWrapper.classList.contains('compress')) {
        tocContent.classList.add('closed');
      } else if (tocWrapper.classList.contains('no_compress')) {
        tocContent.classList.add('expanded');
      } else {
        if (hList.length > 10) {
          active = 'active-hidden'
          tocContent.classList.add('closed');
        } else {
          tocContent.classList.add('expanded');
        }
      }
    }
  }

  (function () {
    // 处理不是从#一级标题开始目录
    if (tocContent.children.length === 1 && tocContent.children[0].__proto__ === HTMLLIElement.prototype) {
      let con = tocContent.children[0].children[0];
      tocContent.innerHTML = con.innerHTML;
    }
    let markdownItTOC = document.querySelector('.markdownIt-TOC');
    let innerHeight = window.innerHeight;
    markdownItTOC.style = `max-height: ${innerHeight - 80 > 0 ? innerHeight - 80 : innerHeight}px`
    addTocNumber(tocContent, '');
  })();

  document.addEventListener('scroll', function (e) {
    if (lList.length <= 0) {
      return;
    }
    let scrollTop = document.scrollingElement.scrollTop + 10;
    let dir;

    if (lastTop - scrollTop > 0) {
      dir = 'up';
    } else {
      dir = 'down';
    }

    lastTop = scrollTop;
    if (scrollTop <= 0) {
      if (lastIndex >= 0 && lastIndex < hList.length) {
        lList[lastIndex].classList.remove(activeClass);
      }
      return;
    }

    let current = 0, hasFind = false;
    for (let i = 0; i < hList.length; i++) {
      if (hList[i].offsetTop > scrollTop) {
        current = i;
        hasFind = true;
        break;
      }
    }
    if (!hasFind && scrollTop > lList[lList.length - 1].offsetTop) {
      current = hList.length - 1;
    } else {
      current--;
    }
    if (dir === 'down') {
      if (current > lastIndex) {
        addActiveClass(current);
        removeActiveClass(lastIndex)
        lastIndex = current;
        removeParentActiveClass();
        lList[current] && addActiveLiElemment(lList[current].parentElement, tocContent);
      }
    } else {
      if (current < lastIndex) {
        addActiveClass(current);
        removeActiveClass(lastIndex);
        lastIndex = current;
        removeParentActiveClass();
        lList[current] && addActiveLiElemment(lList[current].parentElement, tocContent);
      }
    }
  });


  window.addEventListener('load', function () {
    showToc();
    document.querySelector('#sidebar').style = 'display: block;';
    tocWrapper.classList.add('toc-active');
    setTimeout(function () {
      if ("createEvent" in document) {
        let evt = document.createEvent("HTMLEvents");
        evt.initEvent("scroll", false, true);
        document.dispatchEvent(evt);
      }
      else {
        document.fireEvent("scroll");
      }
    }, 500)
  })

</script>
            </div>
          
        
      </div>
    </div>
  
</div>
<script>
  const SIDEBAR_TITLE_ACTIVE = 'sidebar-title-active';
  const SIDEBAR_BODY_ACTIVE = 'sidebar-body-active';
  const SLIDE_UP_IN = 'slide-up-in';

  let sidebar = document.querySelector('#sidebar'),
  tocSideBar = document.querySelector('#tocSideBar'),
  metaSideBar = document.querySelector('#metaSideBar'),
  postToc = document.querySelector('#post_toc'),
  postSiteMeta = document.querySelector('#post_side_meta'),
  sidebarTitle = document.querySelector('.sidebar-title'),
  sidebarBody = document.querySelector('#sidebar_body');

  tocSideBar && tocSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  metaSideBar && metaSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  function toggleSidebar(e) {
    let currentTitle = document.querySelector("."+SIDEBAR_TITLE_ACTIVE);
    if (currentTitle == e.srcElement) {
      return ;
    }
    let current, showElement, hideElement;
    if (e.srcElement == metaSideBar) {
      showElement = postSiteMeta;
      hideElement = postToc;
    } else if (e.srcElement == tocSideBar){
      showElement = postToc;
      hideElement = postSiteMeta;
    }
    currentTitle.classList.remove(SIDEBAR_TITLE_ACTIVE);
    e.srcElement.classList.add(SIDEBAR_TITLE_ACTIVE);

    window.Velocity(hideElement, 'stop');
    window.Velocity(hideElement, 'transition.slideUpOut', {
      display: 'none',
      duration: 200,
      complete: function () {
        window.Velocity(showElement, 'transition.slideDownIn', {
          duration: 200
        });
      }
    })
    hideElement.classList.remove(SIDEBAR_BODY_ACTIVE);
    showElement.classList.add(SIDEBAR_BODY_ACTIVE);
  }

  postToc && postToc.addEventListener('transitionend', function() {
    this.classList.remove(SLIDE_UP_IN);
  });

  if (sidebarBody) {
    if (sidebarBody.classList.contains('pisces') || sidebarBody.classList.contains('gemini')) {
      let hasFix = false;
      let scrollEl = document.querySelector('.main-continer');
      let limitTop = document.querySelector('#nav_ul').children.length * 42 + 162;
      window.addEventListener('scroll', function(e) {
        if (document.scrollingElement.scrollTop >= limitTop) {
          if (!hasFix) {
            sidebar.classList.add('sidebar-fixed');
            hasFix = true;
          }
        } else {
          if (hasFix) {
            sidebar.classList.remove('sidebar-fixed');
            hasFix = false;
          }
        }
      });
    }
  }
  
</script>
        <div class="section-box box-shadow-wrapper">
          <div class="section bg-color post post-page">
            <header class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://juyss.github.io/post/eureka/">
      Eureka
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span class="language" data-lan="publish">发布于</span>
      <span>2020-11-03</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show language" data-lan="category-in">分类于</span>
      
      
      <a href="https://juyss.github.io/tag/lm6Cf8duY-/">
        <span>SpringCloud</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>5<span class="language" data-lan="minute">分钟</span></span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>1054<span class="pc-show language" data-lan="words">字数</span></span>
    </span>
    
  </div>
</header>
            <div class="post-body next-md-body" id="post_body">
              <h1 id="eureka">Eureka</h1>
<h2 id="registry-center-注册中心">Registry-Center 注册中心</h2>
<h3 id="单机版">单机版</h3>
<ol>
<li>
<p>导入依赖<code>reueka-server</code></p>
<pre><code class="language-xml">&lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
</li>
<li>
<p><code>application.yml</code>配置文件</p>
<pre><code class="language-yml">spring:
  application:
    name: eureka-registry-center # 注册中心服务名称

server:
  port: 8080 #微服务端口

eureka:
  instance:
    hostname: 118.31.244.185 # 表明注册中心的IP地址
    instance-id: provider8080 # 注册中心自定义显示服务名称
    prefer-ip-address: true # 服务名称链接显示ip
  server:
  	# 确保注册中心中不可用的实例被及时的剔除,开发时设为false,上线应该为true
    enableSelfPreservation: false 
  client:
    register-with-eureka: false # 不在注册中心注册自己
    fetch-registry: false # 表示自己就是注册中心，职责是维护服务实例，并不需要去检索服务
    service-url:
      defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/ # 注册中心url
</code></pre>
</li>
<li>
<p>主启动类配置</p>
<p>添加<code>@EnableEurekaServer</code>注解启动<code>Eureka</code> 注册中心服务</p>
</li>
</ol>
<h3 id="集群版">集群版</h3>
<p>配置与单机版一致,只需修改<code>yml</code>文件中的<code>defaultZone</code>属性,添加除自己之外的其他注册中心的URL</p>
<pre><code class="language-yml">defaultZone: http://another-server-ip:port/eureka/,http://another-server-ip:port/eureka/    #设置与eureka server交互的地址查询服务和注册服务都需要依赖这个地址,多个服务之间逗号分开
</code></pre>
<h2 id="provider-服务提供者">Provider 服务提供者</h2>
<h3 id="单机版-2">单机版</h3>
<ol>
<li>
<p>导入依赖<code>eureka-client</code></p>
<pre><code class="language-xml">&lt;dependency&gt;
      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
      &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
</li>
<li>
<p><code>application.yml</code>配置文件</p>
<pre><code class="language-yml">spring:
  application:
    name: service-provider # 注册中心应用名称

server:
  port: 8080 # 微服务端口

eureka:
  client:
    register-with-eureka: true # 在注册中心注册自己
    fetchRegistry: true # 需要去检索服务
    service-url:
      defaultZone: http://118.31.244.185:8080/eureka/
  instance:
    instance-id: provider8080 # 注册中心自定义显示服务名称
    prefer-ip-address: true # 服务名称链接显示ip
</code></pre>
</li>
<li>
<p>主启动类配置</p>
<p>添加<code>@EnableDiscoveryClient</code>或<code>@EnableEurekaClient</code>(只适用于<code>Erueka</code>注册中心)</p>
</li>
</ol>
<h3 id="集群版-2">集群版</h3>
<p>配置与单机版一致,只需修改<code>yml</code>文件中的<code>defaultZone</code>属性,添加集群中所有的注册中心URL,之间逗号分隔即可</p>
<h2 id="consumer-服务消费者">Consumer 服务消费者</h2>
<ol>
<li>
<p>导入依赖<code>eureka-client</code></p>
<pre><code class="language-xml">&lt;dependency&gt;
      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
      &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
</li>
<li>
<p><code>application.yml</code>配置文件</p>
<pre><code class="language-yml">spring:
  application:
    name: service-consumer-user # 注册中心服务名称
    
server:
  port: 8080 # 服务端口
  
eureka:
  client:
    register-with-eureka: true #在注册中心注册自己
    fetchRegistry: true # 需要去检索服务
    service-url:
      defaultZone: http://118.31.244.185:8080/eureka/ #若注册中心为集群服务,需写多个注册中心地址
  instance:
  	instance-id: provider8080 # 注册中心自定义显示服务名称
  	prefer-ip-address: true # 服务名称链接显示ip
</code></pre>
</li>
<li>
<p>添加配置类,向容器中注入<code>RestTemplate</code></p>
<pre><code class="language-java">import org.springframework.boot.SpringBootConfiguration;
import org.springframework.cloud.client.loadbalancer.LoadBalanced;
import org.springframework.context.annotation.Bean;
import org.springframework.web.client.RestTemplate;

/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: BeanConfig
 * @Desc:
 * @package com.juyss.config
 * @project HelloWorld
 * @date 2020/10/29 21:39
 */
@SpringBootConfiguration
public class BeanConfig {

    @LoadBalanced // 开启集群负载均衡,如果服务提供者端配置了集群,不开启会报错
    @Bean
    public RestTemplate restTemplate(){
        return new RestTemplate();
    }

}
</code></pre>
</li>
<li>
<p>调用远程服务过程</p>
<ol>
<li>
<p>在需要调用远程服务的<code>JavaBean</code>中注入<code>RestTemplate</code></p>
</li>
<li>
<p>使用<code>RestTemplate.getForObject(String url, Class&lt;T&gt; responseType, Object... uriVariables)</code></p>
</li>
<li>
<p>param --&gt; url : 远程服务地址,&quot;http://服务名称/controller映射路径/&quot;</p>
</li>
<li>
<p>param --&gt; responseType: 远程服务返回值类型</p>
</li>
<li>
<p>例如</p>
<pre><code class="language-java">Movie movie = restTemplate.getForObject(&quot;http://service-provider/movie&quot;,Movie.class);
</code></pre>
<p>调用注册中心服务名为<code>service-provider</code>的映射为<code>/movie</code>的服务,返回值类型为<code>Movie.class</code></p>
</li>
</ol>
</li>
<li>
<p>主启动类配置</p>
<p>添加<code>@EnableDiscoveryClient</code>或<code>@EnableEurekaClient</code>(只适用于<code>Erueka</code>注册中心)</p>
</li>
</ol>
<h3 id="服务启动顺序">服务启动顺序</h3>
<p>注册中心 ===&gt; 服务提供者 ===&gt; 服务消费者</p>
<h3 id="eureka自我保护机制">Eureka自我保护机制</h3>
<h4 id="server端">Server端</h4>
<pre><code class="language-yml">eureka:
  server:
  	# 确保注册中心中不可用的实例被及时的剔除,开发时设为false,上线应该为true
    enableSelfPreservation: false 
    # 清理无效节点的时间间隔,默认60000毫秒,即60秒
    eviction-interval-timer-in-ms: 2000
</code></pre>
<h3 id="client端">Client端</h3>
<pre><code class="language-yml">eureka:
  instance:
    # 客户端向服务端发送心跳的时间间隔,单位秒,默认30秒
    lease-renewal-interval-in-seconds:  1
    # 服务端收到客户端最后一次心跳的等待时间,单位秒,默认90秒,超时将剔除服务
    lease-expiration-duration-in-seconds:  2
</code></pre>

            </div>
            
            
              <div class="post-footer">
  <ul class="post-copyright">
    <li class="post-copyright-author">
      <strong class="language" data-lan="author">本文作者：</strong>
      Shmebluk
    </li>
    <li class="post-copyright-link">
      <strong class="language" data-lan="link">本文链接：</strong>
      <a href="https://juyss.github.io/post/eureka/" title="Eureka">https://juyss.github.io/post/eureka/</a>
    </li>
    <li class="post-copyright-license">
      <strong class="language" data-lan="copyright">版权声明： </strong>
      本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议。转载请注明出处！
    </li>
  </ul>
  <div class="tags">
    
      <a href="https://juyss.github.io/tag/lm6Cf8duY-/"># SpringCloud</a>
    
  </div>
  <div class="nav">
    <div class="nav-prev">
      
        <i class="fa fa-chevron-left"></i>
        <a class="nav-pc-next" title="Hystrix" href="https://juyss.github.io/post/hystrix/">Hystrix</a class="nav-pc-next">
        <a class="nav-mobile-prev" title="Hystrix" href="https://juyss.github.io/post/hystrix/">上一篇</a>
      
    </div>
    <div class="nav-next">
      
        <a class="nav-pc-next" title="Elasticsearch总结" href="https://juyss.github.io/post/elasticsearch-zong-jie/">Elasticsearch总结</a>
        <a class="nav-mobile-next" title="Elasticsearch总结" href="https://juyss.github.io/post/elasticsearch-zong-jie/">下一篇</a>
        <i class="fa fa-chevron-right"></i>
      
    </div>
  </div>
</div>
            
            
  

          </div>
        </div>
      </div>
    </div>
    <div class="footer-box">
  <footer class="footer">
    <div class="copyright">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | © 2019-2020 Theme By <a
        href="https://github.com/hsxyhao/gridea-theme-next" target="_blank">HsxyHao</a>
    </div>
    <div class="poweredby">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
    </div>
  </footer>
  
  
  <div class="gemini back-to-top" id="back_to_top">
    <i class="fa fa-arrow-up"></i>
    
    <span class="scrollpercent">
      <span id="back_to_top_text">0</span>%
    </span>
    
  </div>
  
  
  
<link rel="stylesheet" href="/media/live2d/css/live2d.css" />
<div class="box-scale">
  <div id="landlord" style="left: 1050px;bottom: 50px;"
    data-key="">
    <canvas id="live2d" width="500" height="560" class="live2d"></canvas>
    

      <div class="message" style="opacity:0"></div>
      <div class="live_talk_input_body">
        <div class="live_talk_input_name_body">
          <input name="name" type="text" class="live_talk_name white_input" id="AIuserName" autocomplete="off"
            placeholder="你的名字" />
        </div>
        <div class="live_talk_input_text_body">
          <input name="talk" type="text" class="live_talk_talk white_input" id="AIuserText" autocomplete="off"
            placeholder="要和我聊什么呀？" />
          <button type="button" class="live_talk_send_btn" id="talk_send">发送</button>
        </div>
      </div>
      <input name="live_talk" id="live_talk" value="1" type="hidden" />
      <div class="live_ico_box">
        <div class="live_ico_item type_info" id="showInfoBtn"></div>
        <div class="live_ico_item type_talk" id="showTalkBtn"></div>
        
        <div class="live_ico_item type_youdu" id="youduButton"></div>
        <div class="live_ico_item type_quit" id="hideButton"></div>
        <input name="live_statu_val" id="live_statu_val" value="0" type="hidden" />
        <audio src="" style="display:none;" id="live2d_bgm" data-bgm="0" preload="none"></audio>
        <input id="duType" value="douqilai" type="hidden">
        
      </div>
    
  </div>
</div>
<div id="open_live2d">召唤看板娘</div>
<script src="https://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
<script>
  var message_Path = 'https://cdn.jsdelivr.net/gh/hsxyhao/live2d.github.io@master/';
  let landlord = document.querySelector('#landlord');
  var apiKey = landlord.dataset.key;
</script>
<script type="text/javascript" src="/media/live2d/js/live2d.js"></script>
<script>
	var home_Path = document.location.protocol + '//' + window.document.location.hostname + ":" + window.document.location.port + '/';
	var userAgent = window.navigator.userAgent.toLowerCase();
	var norunAI = ["android", "iphone", "ipod", "ipad", "windows phone", "mqqbrowser", "msie", "trident/7.0"];
	var norunFlag = false;

	for (var i = 0; i < norunAI.length; i++) {
		if (userAgent.indexOf(norunAI[i]) > -1) {
			norunFlag = true;
			break;
		}
	}

	if (!window.WebGLRenderingContext) {
		norunFlag = true;
	}

	if (!norunFlag) {
		var hitFlag = false;
		var AIFadeFlag = false;
		var liveTlakTimer = null;
		var sleepTimer_ = null;
		var AITalkFlag = false;
		var talkNum = 0;
		(function () {
			function renderTip(template, context) {
				var tokenReg = /(\\)?\{([^\{\}\\]+)(\\)?\}/g;
				return template.replace(tokenReg, function (word, slash1, token, slash2) {
					if (slash1 || slash2) {
						return word.replace('\\', '');
					}
					var variables = token.replace(/\s/g, '').split('.');
					var currentObject = context;
					var i, length, variable;
					for (i = 0, length = variables.length; i < length; ++i) {
						variable = variables[i];
						currentObject = currentObject[variable];
						if (currentObject === undefined || currentObject === null) return '';
					}
					return currentObject;
				});
			}

			String.prototype.renderTip = function (context) {
				return renderTip(this, context);
			};

			var re = /x/;
			re.toString = function () {
				showMessage('哈哈，你打开了控制台，是想要看看我的秘密吗？', 5000);
				return '';
			};

			$(document).on('copy', function () {
				showMessage('你都复制了些什么呀，转载要记得加上出处哦~~', 5000);
			});

			function initTips() {
				$.ajax({
					cache: true,
					url: message_Path + 'message.json',
					dataType: "json",
					success: function (result) {
						$.each(result.mouseover, function (index, tips) {
							$(tips.selector).mouseover(function () {
								var text = tips.text;
								if (Array.isArray(tips.text)) text = tips.text[Math.floor(Math.random() * tips.text.length + 1) - 1];
								text = text.renderTip({ text: $(this).text() });
								showMessage(text, 3000);
								talkValTimer();
								clearInterval(liveTlakTimer);
								liveTlakTimer = null;
							});
							$(tips.selector).mouseout(function () {
								showHitokoto();
								if (liveTlakTimer == null) {
									liveTlakTimer = window.setInterval(function () {
										showHitokoto();
									}, 15000);
								};
							});
						});
						$.each(result.click, function (index, tips) {
							$(tips.selector).click(function () {
								if (hitFlag) {
									return false
								}
								hitFlag = true;
								setTimeout(function () {
									hitFlag = false;
								}, 8000);
								var text = tips.text;
								if (Array.isArray(tips.text)) text = tips.text[Math.floor(Math.random() * tips.text.length + 1) - 1];
								text = text.renderTip({ text: $(this).text() });
								showMessage(text, 3000);
							});
							clearInterval(liveTlakTimer);
							liveTlakTimer = null;
							if (liveTlakTimer == null) {
								liveTlakTimer = window.setInterval(function () {
									showHitokoto();
								}, 15000);
							};
						});
					}
				});
			}
			initTips();

			var text;
			if (document.referrer !== '') {
				var referrer = document.createElement('a');
				referrer.href = document.referrer;
				text = '嗨！来自 <span style="color:#0099cc;">' + referrer.hostname + '</span> 的朋友！';
				var domain = referrer.hostname.split('.')[1];
				if (domain == 'baidu') {
					text = '嗨！ 来自 百度搜索 的朋友！<br>欢迎访问<span style="color:#0099cc;">「 ' + document.title.split(' - ')[0] + ' 」</span>';
				} else if (domain == 'so') {
					text = '嗨！ 来自 360搜索 的朋友！<br>欢迎访问<span style="color:#0099cc;">「 ' + document.title.split(' - ')[0] + ' 」</span>';
				} else if (domain == 'google') {
					text = '嗨！ 来自 谷歌搜索 的朋友！<br>欢迎访问<span style="color:#0099cc;">「 ' + document.title.split(' - ')[0] + ' 」</span>';
				}
			} else {
				if (window.location.href == home_Path) { //主页URL判断，需要斜杠结尾
					var now = (new Date()).getHours();
					if (now > 23 || now <= 5) {
						text = '你是夜猫子呀？这么晚还不睡觉，明天起的来嘛？';
					} else if (now > 5 && now <= 7) {
						text = '早上好！一日之计在于晨，美好的一天就要开始了！';
					} else if (now > 7 && now <= 11) {
						text = '上午好！工作顺利嘛，不要久坐，多起来走动走动哦！';
					} else if (now > 11 && now <= 14) {
						text = '中午了，工作了一个上午，现在是午餐时间！';
					} else if (now > 14 && now <= 17) {
						text = '午后很容易犯困呢，今天的运动目标完成了吗？';
					} else if (now > 17 && now <= 19) {
						text = '傍晚了！窗外夕阳的景色很美丽呢，最美不过夕阳红~~';
					} else if (now > 19 && now <= 21) {
						text = '晚上好，今天过得怎么样？';
					} else if (now > 21 && now <= 23) {
						text = '已经这么晚了呀，早点休息吧，晚安~~';
					} else {
						text = '嗨~ 快来逗我玩吧！';
					}
				} else {
					text = '欢迎阅读<span style="color:#0099cc;">「 ' + document.title.split(' - ')[0] + ' 」</span>';
				}
			}
			showMessage(text, 12000);
		})();

		liveTlakTimer = setInterval(function () {
			showHitokoto();
		}, 15000);

		function showHitokoto() {
			if (sessionStorage.getItem("Sleepy") !== "1") {
				if (!AITalkFlag) {
					$.getJSON('https://v1.hitokoto.cn/', function (result) {
						talkValTimer();
						showMessage(result.hitokoto, 0);
					});
				}
			} else {
				hideMessage(0);
				if (sleepTimer_ == null) {
					sleepTimer_ = setInterval(function () {
						checkSleep();
					}, 200);
				}
			}
		}

		function checkSleep() {
			var sleepStatu = sessionStorage.getItem("Sleepy");
			if (sleepStatu !== '1') {
				talkValTimer();
				showMessage('你回来啦~', 0);
				clearInterval(sleepTimer_);
				sleepTimer_ = null;
			}
		}

		function showMessage(text, timeout) {
			if (Array.isArray(text)) text = text[Math.floor(Math.random() * text.length + 1) - 1];
			$('.message').stop();
			$('.message').html(text);
			$('.message').fadeTo(200, 1);
			//if (timeout === null) timeout = 5000;
			//hideMessage(timeout);
		}
		function talkValTimer() {
			$('#live_talk').val('1');
		}

		function hideMessage(timeout) {
			//$('.message').stop().css('opacity',1);
			if (timeout === null) timeout = 5000;
			$('.message').delay(timeout).fadeTo(200, 0);
		}

		function initLive2d() {
			$('#hideButton').on('click', function () {
				if (AIFadeFlag) {
					return false;
				} else {
					AIFadeFlag = true;
					localStorage.setItem("live2dhidden", "0");
					$('#landlord').fadeOut(200);
					$('#open_live2d').delay(200).fadeIn(200);
					setTimeout(function () {
						AIFadeFlag = false;
					}, 300);
				}
			});
			$('#open_live2d').on('click', function () {
				if (AIFadeFlag) {
					return false;
				} else {
					AIFadeFlag = true;
					localStorage.setItem("live2dhidden", "1");
					$('#open_live2d').fadeOut(200);
					$('#landlord').delay(200).fadeIn(200);
					setTimeout(function () {
						AIFadeFlag = false;
					}, 300);
				}
			});
			$('#youduButton').on('click', function () {
				if ($('#youduButton').hasClass('doudong')) {
					var typeIs = $('#youduButton').attr('data-type');
					$('#youduButton').removeClass('doudong');
					$('body').removeClass(typeIs);
					$('#youduButton').attr('data-type', '');
				} else {
					var duType = $('#duType').val();
					var duArr = duType.split(",");
					var dataType = duArr[Math.floor(Math.random() * duArr.length)];

					$('#youduButton').addClass('doudong');
					$('#youduButton').attr('data-type', dataType);
					$('body').addClass(dataType);
				}
			});
			if (apiKey) {
				$('#showInfoBtn').on('click', function () {
					var live_statu = $('#live_statu_val').val();
					if (live_statu == "0") {
						return
					} else {
						$('#live_statu_val').val("0");
						$('.live_talk_input_body').fadeOut(500);
						AITalkFlag = false;
						showHitokoto();
						$('#showTalkBtn').show();
						$('#showInfoBtn').hide();
					}
				});
				$('#showTalkBtn').on('click', function () {
					var live_statu = $('#live_statu_val').val();
					if (live_statu == "1") {
						return
					} else {
						$('#live_statu_val').val("1");
						$('.live_talk_input_body').fadeIn(500);
						AITalkFlag = true;
						$('#showTalkBtn').hide();
						$('#showInfoBtn').show();

					}
				});
				$('#talk_send').on('click', function () {
					var info_ = $('#AIuserText').val();
					var userid_ = $('#AIuserName').val();
					if (info_ == "") {
						showMessage('写点什么吧！', 0);
						return;
					}
					if (userid_ == "") {
						showMessage('聊之前请告诉我你的名字吧！', 0);
						return;
					}
					showMessage('思考中~', 0);
					let protocol = window.location.protocol.indexOf("s") > 0 ? "https" : "http";
					$.ajax({
						type: "get",
						url: `${protocol}://www.tuling123.com/openapi/api?key=${apiKey}&info=${info_}`,
						dataType: "json",
						success: function (res) {
							talkValTimer();
							showMessage(res.text, 0);
							$('#AIuserText').val("");
							sessionStorage.setItem("live2duser", userid_);
						},
						error: function (e) {
							talkValTimer();
							showMessage('似乎有什么错误，请和站长联系！', 0);
						}
					});
				});
			} else {
				$('#showInfoBtn').hide();
				$('#showTalkBtn').hide();
			}
			//获取音乐信息初始化
			var bgmListInfo = $('input[name=live2dBGM]');
			if (bgmListInfo.length == 0) {
				$('#musicButton').hide();
			} else {
				var bgmPlayNow = parseInt($('#live2d_bgm').attr('data-bgm'));
				var bgmPlayTime = 0;
				var live2dBGM_Num = sessionStorage.getItem("live2dBGM_Num");
				var live2dBGM_PlayTime = sessionStorage.getItem("live2dBGM_PlayTime");
				if (live2dBGM_Num) {
					if (live2dBGM_Num <= $('input[name=live2dBGM]').length - 1) {
						bgmPlayNow = parseInt(live2dBGM_Num);
					}
				}
				if (live2dBGM_PlayTime) {
					bgmPlayTime = parseInt(live2dBGM_PlayTime);
				}
				var live2dBGMSrc = bgmListInfo.eq(bgmPlayNow).val();
				$('#live2d_bgm').attr('data-bgm', bgmPlayNow);
				$('#live2d_bgm').attr('src', live2dBGMSrc);
				$('#live2d_bgm')[0].currentTime = bgmPlayTime;
				$('#live2d_bgm')[0].volume = 0.5;
				var live2dBGM_IsPlay = sessionStorage.getItem("live2dBGM_IsPlay");
				var live2dBGM_WindowClose = sessionStorage.getItem("live2dBGM_WindowClose");
				if (live2dBGM_IsPlay == '0' && live2dBGM_WindowClose == '0') {
					$('#live2d_bgm')[0].play();
					$('#musicButton').addClass('play');
				}
				sessionStorage.setItem("live2dBGM_WindowClose", '1');
				$('#musicButton').on('click', function () {
					if ($('#musicButton').hasClass('play')) {
						$('#live2d_bgm')[0].pause();
						$('#musicButton').removeClass('play');
						sessionStorage.setItem("live2dBGM_IsPlay", '1');
					} else {
						$('#live2d_bgm')[0].play();
						$('#musicButton').addClass('play');
						sessionStorage.setItem("live2dBGM_IsPlay", '0');
					}
				});
				window.onbeforeunload = function () {
					sessionStorage.setItem("live2dBGM_WindowClose", '0');
					if ($('#musicButton').hasClass('play')) {
						sessionStorage.setItem("live2dBGM_IsPlay", '0');
					}
				}
				document.getElementById('live2d_bgm').addEventListener("timeupdate", function () {
					var live2dBgmPlayTimeNow = document.getElementById('live2d_bgm').currentTime;
					sessionStorage.setItem("live2dBGM_PlayTime", live2dBgmPlayTimeNow);
				});
				document.getElementById('live2d_bgm').addEventListener("ended", function () {
					var listNow = parseInt($('#live2d_bgm').attr('data-bgm'));
					listNow++;
					if (listNow > $('input[name=live2dBGM]').length - 1) {
						listNow = 0;
					}
					var listNewSrc = $('input[name=live2dBGM]').eq(listNow).val();
					sessionStorage.setItem("live2dBGM_Num", listNow);
					$('#live2d_bgm').attr('src', listNewSrc);
					$('#live2d_bgm')[0].play();
					$('#live2d_bgm').attr('data-bgm', listNow);
				});
				document.getElementById('live2d_bgm').addEventListener("error", function () {
					$('#live2d_bgm')[0].pause();
					$('#musicButton').removeClass('play');
					showMessage('音乐似乎加载不出来了呢！', 0);
				});
			}
			//获取用户名
			var live2dUser = sessionStorage.getItem("live2duser");
			if (live2dUser !== null) {
				$('#AIuserName').val(live2dUser);
			}
			//获取位置
			var landL = sessionStorage.getItem("historywidth");
			var landB = sessionStorage.getItem("historyheight");
			if (landL == null || landB == null) {
				landL = '5px'
				landB = '0px'
			}
			$('#landlord').css('left', landL + 'px');
			$('#landlord').css('bottom', landB + 'px');
			//移动
			function getEvent() {
				return window.event || arguments.callee.caller.arguments[0];
			}
			var smcc = document.getElementById("landlord");
			var moveX = 0;
			var moveY = 0;
			var moveBottom = 0;
			var moveLeft = 0;
			var moveable = false;
			var docMouseMoveEvent = document.onmousemove;
			var docMouseUpEvent = document.onmouseup;
			smcc.onmousedown = function () {
				var ent = getEvent();
				moveable = true;
				moveX = ent.clientX;
				moveY = ent.clientY;
				var obj = smcc;
				moveBottom = parseInt(obj.style.bottom);
				moveLeft = parseInt(obj.style.left);
				if (isFirefox = navigator.userAgent.indexOf("Firefox") > 0) {
					window.getSelection().removeAllRanges();
				}
				document.onmousemove = function () {
					if (moveable) {
						var ent = getEvent();
						var x = moveLeft + ent.clientX - moveX;
						var y = moveBottom + (moveY - ent.clientY);
						obj.style.left = x + "px";
						obj.style.bottom = y + "px";
					}
				};
				document.onmouseup = function () {
					if (moveable) {
						var historywidth = obj.style.left;
						var historyheight = obj.style.bottom;
						historywidth = historywidth.replace('px', '');
						historyheight = historyheight.replace('px', '');
						sessionStorage.setItem("historywidth", historywidth);
						sessionStorage.setItem("historyheight", historyheight);
						document.onmousemove = docMouseMoveEvent;
						document.onmouseup = docMouseUpEvent;
						moveable = false;
						moveX = 0;
						moveY = 0;
						moveBottom = 0;
						moveLeft = 0;
					}
				};
			};
		}
		$(document).ready(function () {
			var AIimgSrc = [];
			let chooseLive2d = 'aoba'
			if (chooseLive2d === 'histoire') {
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_00.png");
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_01.png");
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_02.png");
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_03.png");
			} else if (chooseLive2d === 'rem') {
				AIimgSrc.push(message_Path + "model/rem/remu2048/texture_00.png");
			} else if (chooseLive2d === 'aoba') {
				AIimgSrc.push(message_Path + "model/aoba/textures/texture_00.png");
			} else if (chooseLive2d === 'hijiki') {
				AIimgSrc.push(message_Path + "model/hijiki/moc/hijiki.2048/texture_00.png");
			} else if (chooseLive2d === 'tororo') {
				AIimgSrc.push(message_Path + "model/tororo/moc/tororo.2048/texture_00.png");
			}
			var images = [];
			var imgLength = AIimgSrc.length;
			var loadingNum = 0;
			for (var i = 0; i < imgLength; i++) {
				images[i] = new Image();
				images[i].src = AIimgSrc[i];
				images[i].onload = function () {
					loadingNum++;
					if (loadingNum === imgLength) {
						var live2dhidden = localStorage.getItem("live2dhidden");
						if (live2dhidden === "0") {
							setTimeout(function () {
								$('#open_live2d').fadeIn(200);
							}, 1300);
						} else {
							setTimeout(function () {
								$('#landlord').fadeIn(200);
							}, 1300);
						}
						let model = '';
						if (chooseLive2d === 'histoire') {
							model = message_Path + "model/histoire/model.json";
						} else if (chooseLive2d === 'rem') {
							model = message_Path + "model/rem/model.json";
						} else if (chooseLive2d === 'aoba') {
							model = message_Path + "model/aoba/model.json";
						} else if (chooseLive2d === 'hijiki') {
							model = message_Path + "model/hijiki/hijiki.model.json";
						} else if (chooseLive2d === 'tororo') {
							model = message_Path + "model/tororo/tororo.model.json";
						}
						setTimeout(function () {
							loadlive2d("live2d", model);
						}, 1000);
						initLive2d();
						images = null;
					}
				}
			}
		});
	}
</script>
  
  
  
  <script src="https://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
  <script src="https://player.lmih.cn/player/js/player.js" id="myhk" key="demo" m="1"></script>


  
</div>
<script>

  let sideBarOpen = 'sidebar-open';
  let body = document.body;
  let back2Top = document.querySelector('#back_to_top'),
    back2TopText = document.querySelector('#back_to_top_text'),
    drawerBox = document.querySelector('#drawer_box'),
    rightSideBar = document.querySelector('.sidebar'),
    viewport = document.querySelector('body');

  function scrollAnimation(currentY, targetY) {

    let needScrollTop = targetY - currentY
    let _currentY = currentY
    setTimeout(() => {
      const dist = Math.ceil(needScrollTop / 10)
      _currentY += dist
      window.scrollTo(_currentY, currentY)
      if (needScrollTop > 10 || needScrollTop < -10) {
        scrollAnimation(_currentY, targetY)
      } else {
        window.scrollTo(_currentY, targetY)
      }
    }, 1)
  }

  back2Top.addEventListener("click", function (e) {
    scrollAnimation(document.scrollingElement.scrollTop, 0);
    e.stopPropagation();
    return false;
  });

  window.addEventListener('scroll', function (e) {
    let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
    if (percent > 1 && !back2Top.classList.contains('back-top-active')) {
      back2Top.classList.add('back-top-active');
    }
    if (percent == 0) {
      back2Top.classList.remove('back-top-active');
    }
    if (back2TopText) {
      back2TopText.textContent = Math.floor(percent);
    }
  });


  let hasCacu = false;
  window.onresize = function () {
    calcuHeight();
  }

  function calcuHeight() {
    // 动态调整站点概览高度
    if (!hasCacu && back2Top.classList.contains('pisces') || back2Top.classList.contains('gemini')) {
      let sideBar = document.querySelector('.sidebar');
      let navUl = document.querySelector('#site_nav');
      sideBar.style = 'margin-top:' + (navUl.offsetHeight + navUl.offsetTop + 15) + 'px;';
      hasCacu = true;
    }
  }
  calcuHeight();

  let open = false, MOTION_TIME = 300, RIGHT_MOVE_DIS = '320px';

  if (drawerBox) {
    let rightMotions = document.querySelectorAll('.right-motion');
    let right = drawerBox.classList.contains('right');

    let transitionDir = right ? "transition.slideRightIn" : "transition.slideLeftIn";

    let openProp, closeProp;
    if (right) {
      openProp = {
        paddingRight: RIGHT_MOVE_DIS
      };
      closeProp = {
        paddingRight: '0px'
      };
    } else {
      openProp = {
        paddingLeft: RIGHT_MOVE_DIS
      };
      closeProp = {
        paddingLeft: '0px'
      };
    }

    drawerBox.onclick = function () {
      open = !open;
      window.Velocity(rightSideBar, 'stop');
      window.Velocity(viewport, 'stop');
      window.Velocity(rightMotions, 'stop');
      if (open) {
        window.Velocity(rightSideBar, {
          width: RIGHT_MOVE_DIS
        }, {
          duration: MOTION_TIME,
          begin: function () {
            window.Velocity(rightMotions, transitionDir, {});
          }
        })
        window.Velocity(viewport, openProp, {
          duration: MOTION_TIME
        });
      } else {
        window.Velocity(rightSideBar, {
          width: '0px'
        }, {
          duration: MOTION_TIME,
          begin: function () {
            window.Velocity(rightMotions, {
              opacity: 0
            });
          }
        })
        window.Velocity(viewport, closeProp, {
          duration: MOTION_TIME
        });
      }
      for (let i = 0; i < drawerBox.children.length; i++) {
        drawerBox.children[i].classList.toggle('muse-line');
      }
      drawerBox.classList.toggle(sideBarOpen);
    }
  }

  // 链接跳转
  let newWindow = 'true'
  if (newWindow === 'true') {
    let links = document.querySelectorAll('.post-body a')
    links.forEach(item => {
      if (!item.classList.contains('btn')) {
        item.setAttribute("target", "_blank");
      }
    })
  }

  let faSearch = document.querySelector('#fa_search');
  faSearch.addEventListener('click', function () {
    document.querySelector('#search_mask').style = ''
  })

  // 代码高亮
  hljs.initHighlightingOnLoad();
  
  // 离开当前页title变化
  var leaveTitle = '';
  if (leaveTitle) {
    document.addEventListener('visibilitychange', function () {
      if (document.visibilityState == 'hidden') {
        normal_title = document.title;
        document.title = leaveTitle;
      } else {
        document.title = normal_title;
      }
    });
  }

</script>
    <div class="light-box" id="light_box"></div>
<script>
  let imgs = document.querySelectorAll('.post-body img');
  let lightBox = document.querySelector('#light_box');
  lightBox.addEventListener('mousedown', (e) => {
    e.preventDefault()
  })
  lightBox.addEventListener('mousewheel', (e) => {
    e.preventDefault()
  })
  let width = window.innerWidth * 0.8;
  lightBox.onclick = () => {
    let img = lightBox.querySelector('img');
    lightBox.style = '';
    img && img.remove();
  }
  imgs.forEach(item => {
    item.onclick = function (e) {
      let lightImg = document.createElement('img');
      lightImg.src = this.src;
      lightBox.style = `height: 100%; opacity: 1; background-color: rgba(0, 0, 0, 0.5);cursor: zoom-out;`;
      lightImg.style = `width: ${width}px; border: 1px solid #fff; border-radius: 2px;`;
      lightImg.onclick = function () {
        lightBox.style = '';
        this.remove();
      }
      lightBox.append(lightImg);
    }
  })
</script>
    <div class="reward-mask" style="display: none;">
  <div class="reward-relative">
    <span class="close" aria-hidden="true">x</span>
    <div class="reward-body">
      <h2>感谢您的支持，我会继续努力的!</h2>
      <div class="reward-img-box">
        <div style="position: relative; width: 140px; height: 140px;">
          
          
          
        </div>
      </div>
      <p class="reward-word">扫码打赏，你说多少就多少</p>
      <p class="reward-tip">打开微信扫一扫，即可进行扫码打赏哦</p>
    </div>
    <div class="bottom">
      
      
    </div>
  </div>
</div>
<style>
  .reward-mask {
    position: fixed;
    z-index: 99999;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: #00000054;
  }

  .reward-relative {
    position: relative;
    width: 480px;
    text-align: center;
    margin: 0 auto;
    border-radius: 5px;
    background-color: #fff;
    top: 50%;
    margin-top: -205px;
  }

  .reward-relative .close {
    position: absolute;
    right: 10px;
    font-weight: normal;
    font-size: 16px;
    color: #929292;
  }

  .reward-body {
    padding: 40px 20px 20px;
  }

  .bottom {
    display: flex;
  }

  .reward-btn {
    text-align: center;
  }

  .reward-btn-text {
    display: inline-block;
    cursor: pointer;
    width: 60px;
    height: 60px;
    line-height: 60px;
    border-radius: 50%;
    background-color: #ff9734;
    color: #FFF;
    margin-top: 20px;
  }

  .pay-text {
    margin-top: 10px;
    padding: 10px;
    flex: 1;
    transition: all .2s linear;
  }

  .pay-text:hover {
    background-color: #a5a5a536;
  }

  .reward-body h2 {
    padding-top: 10px;
    text-align: center;
    color: #a3a3a3;
    font-size: 16px;
    font-weight: normal;
    margin: 0 0 20px;
  }

  .reward-body h2:after,
  .reward-body h2:before {
    font-family: Arial, Helvetica, sans-serif;
    background: 0 0;
    width: 0;
    height: 0;
    font-style: normal;
    color: #eee;
    font-size: 80px;
    position: absolute;
    top: 20px;
  }

  .reward-body h2:before {
    content: '\201c';
    left: 50px;
  }

  .reward-body h2:after {
    content: '\201d';
    right: 80px;
  }

  .reward-img-box {
    display: inline-block;
    padding: 10px;
    border: 6px solid #ea5f00;
    margin: 0 auto;
    border-radius: 3px;
    position: relative;
  }

  .reward-img {
    position: absolute;
    left: 0px;
    top: 0px;
    width: 100%;
    height: 100%;
  }

  @media (max-width: 767px) {
    .reward-relative {
      height: 100%;
      top: 0px;
      margin-top: 0;
      width: auto;
    }

    .reward-relative .bottom {
      flex-direction: column;
    }

    .reward-relative .pay-text {
      width: 80%;
      margin: 5px auto;
      border: 1px solid silver;
      padding: 6px;
      border-radius: 4px;
    }

    .reward-body h2:after {
      right: 40px;
    }

    .reward-body h2:after,
    .reward-body h2:before {
      font-size: 60px;
    }

    .reward-body h2:before {
      left: 20px;
    }
  }
</style>
<script>
  !function () {
    var mask = document.querySelector('.reward-mask');
    let close = document.querySelector('.reward-relative .close');
    let rewardBtn = document.querySelector('.reward-btn');

    let zfb = document.querySelector('#zfb'),
      wx = document.querySelector('#wx'),
      zfbBtn = document.querySelector('#zfbBtn'),
      wxBtn = document.querySelector('#wxBtn');

    if (zfbBtn && wxBtn) {
      zfbBtn.addEventListener('click', () => {
        window.Velocity(zfb, 'transition.slideLeftIn', {
          duration: 400
        });
        window.Velocity(wx, 'transition.slideRightOut', {
          display: 'none',
          duration: 400
        });
      });

      wxBtn.addEventListener('click', () => {
        window.Velocity(wx, 'transition.slideRightIn', {
          duration: 400
        });
        window.Velocity(zfb, 'transition.slideLeftOut', {
          display: 'none',
          duration: 400
        });
      });
    }

    rewardBtn.addEventListener('click', (e) => {
      window.Velocity(mask, 'transition.slideDownIn', {
        duration: 400
      })
    });

    close.addEventListener('click', (e) => {
      e.preventDefault();
      window.Velocity(mask, 'transition.slideUpOut', {
        duration: 400
      })
    })
  }()
</script>

  </div>
</body>

  <div class="search-mask" id="search_mask" style="display: none;">
  <div class="search-box">
    <div class="search-title">
      <i class="fa fa-search"></i>
      <div class="input-box">
        <input id="search" type="text" class="language" data-lan="search" placeholder="搜索">
      </div>
      <i id="close" class="fa fa-times-circle"></i>
    </div>
    <div class="stat-box">
      <span id="stat_count">0</span><span class="language" data-lan="stat">条相关条目，使用了</span><span id="stat_times">0</span><span class="language" data-lan="stat-time">毫秒</span>
      <hr>
    </div>
    <div class="result" id="result">
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/rabbitmq/"" data-c="
          &lt;h1 id=&#34;rabbitmq&#34;&gt;RabbitMQ&lt;/h1&gt;
&lt;p&gt;RabbitMQ是基于AMQP的一款消息管理系统。AMQP&lt;code&gt;(Advanced Message Queuing Protocol)&lt;/code&gt;，是一个提供消息服务的应用层标准高级消息队列协议，其中RabbitMQ就是基于这种协议的一种实现。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h2 id=&#34;rabbitmq五种常见的消息模型&#34;&gt;RabbitMQ五种常见的消息模型&lt;/h2&gt;
&lt;p&gt;（基于SpringBoot项目）&lt;/p&gt;
&lt;h3 id=&#34;消息生产者&#34;&gt;消息生产者&lt;/h3&gt;
&lt;p&gt;包含五种消息类型的发送代码&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;引入依赖pom.xml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-boot-starter-amqp&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-boot-starter-web&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;application.yml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yml&#34;&gt;server:
  port: 5673 # 服务端口号

spring:
  application:
    name: rabbitmq-provider # 服务名
  # rabbitmq 相关配置
  rabbitmq:
    host: 192.168.112.133 
    port: 5672
    username: user
    password: 102850
    virtual-host: /host-1
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;代码部分&lt;/p&gt;
&lt;p&gt;service接口&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: MessageSender
 * @Desc:
 * @package com.juyss.service
 * @project RabbitMQ
 * @date 2020/11/23 14:08
 */
public interface MessageSender {

    /**
     * 发送消息
     * Direct模式 : 一对一
     * Work queues模式 : 一对多
     * @param msg 请求传入的消息
     */
    void sendMessage(String msg);

    /**
     * Publish/Subscribe示例
     * 交换机类型为fanout
     * @param msg 消息
     */
    void fanout(String msg);

    /**
     * Routing示例
     * 交换机类型为direct(默认)
     * @param msg 消息
     * @param routeKey 路由key
     */
    void routing(String msg,String routeKey);

    /**
     * Topic示例
     * 按路由key匹配
     * @param msg 消息
     * @param routeKey 路由key
     */
    void topic(String msg,String routeKey);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;service实现类&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: MessageSenderImpl
 * @Desc:
 * @package com.juyss.service.impl
 * @project RabbitMQ
 * @date 2020/11/23 14:10
 */
@Service
public class MessageSenderImpl implements MessageSender {

    private final RabbitTemplate template;

    @Autowired
    public MessageSenderImpl(RabbitTemplate template) {
        this.template = template;
    }

    /**
     * 发送消息
     * Direct模式 : 一对一
     * Work queues模式 : 一对多
     * @param msg 请求传入的消息
     */
    @Override
    public void sendMessage(String msg) {
        template.convertAndSend(&amp;quot;hello&amp;quot;,&amp;quot;消息提供者发送消息:&amp;quot;+msg);
    }

    /**
     * Publish/Subscribe示例
     * 交换机类型为fanout
     *
     * @param msg 消息
     */
    @Override
    public void fanout(String msg) {
        template.convertAndSend(&amp;quot;logs&amp;quot;, &amp;quot;&amp;quot;, &amp;quot;消息提供者发送消息&amp;quot;+msg);
    }

    /**
     * Routing示例
     * 交换机类型为direct(默认)
     *
     * @param msg      消息
     * @param routeKey 路由key
     */
    @Override
    public void routing(String msg,String routeKey) {
        template.convertAndSend(&amp;quot;routing&amp;quot;, routeKey, &amp;quot;消息提供者发送消息&amp;quot;+msg);
    }

    /**
     * Topic示例
     * 按路由key匹配
     *
     * @param msg      消息
     * @param routeKey 路由key
     */
    @Override
    public void topic(String msg, String routeKey) {
        template.convertAndSend(&amp;quot;topic&amp;quot;,routeKey, &amp;quot;消息提供者发送消息&amp;quot;+msg);
    }
}

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;controller&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: MsgController
 * @Desc:
 * @package com.juyss.controller
 * @project RabbitMQ
 * @date 2020/11/23 14:12
 */
@RestController
public class MsgController {

    @Autowired
    private MessageSender sender;

    @RequestMapping(&amp;quot;/&amp;quot;)
    public String Hello(){
        return &amp;quot;Hello,RabbitMQ&amp;quot;;
    }

    /**
     * 提供者向队列发送消息,接受者从队列接收消息
     * 1. 一对一发送消息 (Hello World示例)
     * 2. 一对多发送消息,一个消息只能给一个接受者,公平分配 (Work Queues示例)
     * @param msg 消息
     * @return String
     */
    @RequestMapping(&amp;quot;/send/{msg}&amp;quot;)
    public String sendMsg(@PathVariable(&amp;quot;msg&amp;quot;)String msg){
        sender.sendMessage(msg);
        return &amp;quot;消息发送成功&amp;quot;+msg;
    }

    /**
     * 提供者向交换机(exchange)发送消息,接收者从指定交换机找到消息队列获取消息
     * 一对多同时发送,一个消息同时给多个接受者 (Publish/Subscribe示例)
     * @param msg 消息
     * @return String
     */
    @RequestMapping(&amp;quot;/fanout/{msg}&amp;quot;)
    public String sendFanoutMsg(@PathVariable(&amp;quot;msg&amp;quot;)String msg){
        sender.fanout(msg);
        return &amp;quot;消息发送成功&amp;quot;+msg;
    }

    /**
     * 提供者向交换机(exchange)发送消息,同时指定路由key,然后接受者寻找指定交换机,判断路由key是否匹配,然后接受对应消息
     * 一对多同时发送,一个消息可以给多个接受者,但是需要路由key匹配 (Routing示例)
     * @param key 路由key
     * @param msg 消息
     * @return String
     */
    @RequestMapping(&amp;quot;/route/{key}/{msg}&amp;quot;)
    public String sendRouting(@PathVariable(&amp;quot;key&amp;quot;)String key,
                              @PathVariable(&amp;quot;msg&amp;quot;)String msg){
        sender.routing(msg,key);
        return &amp;quot;消息发送成功&amp;quot;+msg;
    }

    /**
     * 提供者向交换机发送消息,指定路由key,一般由两个以上字段,然后接受者找到交换机,根据自己的路由key匹配规则,获取对应消息.
     * @param key 路由key
     * @param msg 消息
     * @return String
     */
    @RequestMapping(&amp;quot;/topic/{key}/{msg}&amp;quot;)
    public String sendTopic(@PathVariable(&amp;quot;key&amp;quot;)String key,
                            @PathVariable(&amp;quot;msg&amp;quot;)String msg){
        sender.routing(msg,key);
        return &amp;quot;消息发送成功&amp;quot;+msg;
    }

}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;1-基本消息模型&#34;&gt;1. 基本消息模型&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://juyss.github.io//post-images/1608361309360.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;生产者将消息发送到队列，消费者从队列中获取消息，队列是存储消息的缓冲区。&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;消息消费者&#34;&gt;消息消费者&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;pom.xml 与生产者相同&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;application.yml&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;MessageReceiver.java&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: MessageReceiver
 * @Desc: 消费者接收消息
 * @package com.juyss.rabbit
 * @project RabbitMQ
 * @date 2020/11/23 15:03
 */
@Component
@RabbitListener(queuesToDeclare = @Queue(value = &amp;quot;hello&amp;quot;))
public class MessageReceiver {

    @RabbitHandler
    public void receive(String msg) {
        System.out.println(&amp;quot;消费者接收消息==============&amp;gt;&amp;quot;+msg);
    }

}

&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-工作队列模型work-queues&#34;&gt;2. 工作队列模型（Work queues）&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://juyss.github.io//post-images/1608361322140.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;一个生产发送消息到队列，允许有多个消费者接收消息，但是一条消息只会被一个消费者获取。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;消息接收者代码部分&lt;/p&gt;
&lt;p&gt;MessageReceive.java&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: MsgConsumer
 * @Desc:
 * @package com.juyss.rabbitmq
 * @project RabbitMQ
 * @date 2020/11/23 15:33
 */
@Component
public class MsgConsumer {

    @RabbitListener(queuesToDeclare = @Queue(value = &amp;quot;hello&amp;quot;))
    public void receiver1(String msg){
        System.out.println(&amp;quot;消费者1接收消息==============&amp;gt;&amp;quot;+msg);
    }

    @RabbitListener(queuesToDeclare = @Queue(value = &amp;quot;hello&amp;quot;))
    public void receiver2(String msg){
        System.out.println(&amp;quot;消费者2接收消息==============&amp;gt;&amp;quot;+msg);
    }

    @RabbitListener(queuesToDeclare = @Queue(value = &amp;quot;hello&amp;quot;))
    public void receiver3(String msg){
        System.out.println(&amp;quot;消费者3接收消息==============&amp;gt;&amp;quot;+msg);
    }

    @RabbitListener(queuesToDeclare = @Queue(value = &amp;quot;hello&amp;quot;))
    public void receiver4(String msg){
        System.out.println(&amp;quot;消费者4接收消息==============&amp;gt;&amp;quot;+msg);
    }

}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;3-订阅模式&#34;&gt;3. 订阅模式&lt;/h3&gt;
&lt;h5 id=&#34;31-fanout广播&#34;&gt;3.1 Fanout（广播）&lt;/h5&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://juyss.github.io//post-images/1608361345771.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;交换机将消息发送到所有与之绑定的队列中去&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;消息接收者代码部分&lt;/p&gt;
&lt;p&gt;MessageReceive.java&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: MsgConsumer
 * @Desc:
 * @package com.juyss.rabbitmq
 * @project RabbitMQ
 * @date 2020/11/23 16:03
 */
@Component
public class MsgConsumer {

    @RabbitListener(bindings = {
            @QueueBinding(value = @Queue,exchange = @Exchange(value = &amp;quot;logs&amp;quot;,type = &amp;quot;fanout&amp;quot;))
    })
    public void receiver1(String msg){
        System.out.println(&amp;quot;消费者1接收消息=====================&amp;gt;&amp;quot;+msg);
    }

    @RabbitListener(bindings = {
            @QueueBinding(value = @Queue,exchange = @Exchange(value = &amp;quot;logs&amp;quot;,type = &amp;quot;fanout&amp;quot;))
    })
    public void receiver2(String msg){
        System.out.println(&amp;quot;消费者2接收消息=====================&amp;gt;&amp;quot;+msg);
    }

    @RabbitListener(bindings = {
            @QueueBinding(value = @Queue,exchange = @Exchange(value = &amp;quot;logs&amp;quot;,type = &amp;quot;fanout&amp;quot;))
    })
    public void receiver3(String msg){
        System.out.println(&amp;quot;消费者3接收消息=====================&amp;gt;&amp;quot;+msg);
    }

    @RabbitListener(bindings = {
            @QueueBinding(value = @Queue,exchange = @Exchange(value = &amp;quot;logs&amp;quot;,type = &amp;quot;fanout&amp;quot;))
    })
    public void receiver4(String msg){
        System.out.println(&amp;quot;消费者4接收消息=====================&amp;gt;&amp;quot;+msg);
    }

}

&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;32-direct-定向&#34;&gt;3.2  Direct （定向）&lt;/h5&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://juyss.github.io//post-images/1608361357882.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;交换机按照指定的Routing Key发送到匹配的队列中去&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;消息接收者代码部分&lt;/p&gt;
&lt;p&gt;MessageReceive.java&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: RoutingConsumer
 * @Desc:
 * @package com.juyss.rabbitmq
 * @project RabbitMQ
 * @date 2020/11/23 16:45
 */
@Component
public class RoutingConsumer {

    @RabbitListener(bindings = {
            @QueueBinding(value = @Queue,
                          exchange = @Exchange(&amp;quot;routing&amp;quot;),
                          key = {&amp;quot;debug&amp;quot;,&amp;quot;info&amp;quot;,&amp;quot;warning&amp;quot;,&amp;quot;error&amp;quot;})
    })
    public void routingReceiver1(String msg){
        System.out.println(&amp;quot;Routing消费者1接收消息=================&amp;gt;&amp;quot;+msg);
    }


    @RabbitListener(bindings = {
            @QueueBinding(value = @Queue,
                          exchange = @Exchange(&amp;quot;routing&amp;quot;),
                          key = {&amp;quot;error&amp;quot;})
    })
    public void routingReceiver2(String msg){
        System.out.println(&amp;quot;Routing消费者2接收消息=================&amp;gt;&amp;quot;+msg);
    }

}

&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;33-topic-通配符&#34;&gt;3.3 Topic （通配符）&lt;/h5&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://juyss.github.io//post-images/1608361367342.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;与Direct大致相同，不同在于Routing Key可以根据通配符进行匹配&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;消息接收者代码部分&lt;/p&gt;
&lt;p&gt;MessageReceive.java&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: TopicConsumer
 * @Desc:
 * @package com.juyss.rabbitmq
 * @project RabbitMQ
 * @date 2020/11/23 17:09
 */
@Component
public class TopicConsumer {

    @RabbitListener(bindings = {
            @QueueBinding(value = @Queue,
                    exchange = @Exchange(value = &amp;quot;topic&amp;quot;,type = &amp;quot;topic&amp;quot;),
                    key = {&amp;quot;user.*&amp;quot;,&amp;quot;admin.#&amp;quot;})
    })
    public void topicReceiver1(String msg){
        System.out.println(&amp;quot;Topic消费者1接收消息====================&amp;gt;&amp;quot;+msg);
    }

    @RabbitListener(bindings = {
            @QueueBinding(value = @Queue,
                    exchange = @Exchange(value = &amp;quot;topic&amp;quot;,type = &amp;quot;topic&amp;quot;),
                    key = {&amp;quot;user.#&amp;quot;,&amp;quot;admin.*&amp;quot;})
    })
    public void topicReceiver2(String msg){
        System.out.println(&amp;quot;Topic消费者2接收消息====================&amp;gt;&amp;quot;+msg);
    }
}

&lt;/code&gt;&lt;/pre&gt;
">RabbitMQ</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/sentinel/"" data-c="
          &lt;h1 id=&#34;sentinel&#34;&gt;Sentinel&lt;/h1&gt;
&lt;p&gt;Sentinel 是面向分布式服务架构的流量控制组件，主要以流量为切入点，从流量控制、熔断降级、系统自适应保护等多个维度来帮助您保障微服务的稳定性。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h4 id=&#34;使用总结&#34;&gt;使用总结:&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;提前启动Nacos注册中心&lt;code&gt;端口号:8848&lt;/code&gt;和Sentinel Dashboard服务&lt;code&gt;端口号: 8080&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;构建微服务项目,注册进入注册中心.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置Sentinel,微服务与DashBoard通过&lt;code&gt;端口:8719&lt;/code&gt;进行通讯,对微服务进行监控&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;@SentinelResource&lt;/code&gt;表明某个方法为资源方法.可以指定属性&lt;/p&gt;
&lt;p&gt;&lt;code&gt;value&lt;/code&gt;:定义一个资源名称&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fallback&lt;/code&gt;:定义一个回调方法,针对所有异常&lt;/p&gt;
&lt;p&gt;&lt;code&gt;fallbackClass&lt;/code&gt;:定义回调方法所在类,对应方法必须为&lt;code&gt;static&lt;/code&gt;,若不指定则为本类&lt;/p&gt;
&lt;p&gt;&lt;code&gt;blockHandler&lt;/code&gt;:定义处理 &lt;code&gt;BlockException&lt;/code&gt; 的函数名称,,会在原方法被限流/降级/系统保护的时候调用,&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;被标记的方法,正常执行时,不影响.当服务调用时抛出异常,则会调用&lt;code&gt;fallback&lt;/code&gt;定义的回调方法,当方法被降级限流或者熔断时,调用方法会抛出&lt;code&gt;BlockException&lt;/code&gt;,进而调用&lt;code&gt;blockHandler&lt;/code&gt;指定的方法.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;需要被流控的微服务&#34;&gt;需要被流控的微服务&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;导入依赖&lt;/p&gt;
&lt;p&gt;pom.xml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;        &amp;lt;!--SpringCloud alibaba nacos --&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;com.alibaba.cloud&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-cloud-starter-alibaba-nacos-discovery&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
		&amp;lt;!--SpringCloud alibaba sentinel-datasource-nacos 后续做持久化用到--&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;com.alibaba.csp&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;sentinel-datasource-nacos&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;!--SpringCloud alibaba sentinel --&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;com.alibaba.cloud&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-cloud-starter-alibaba-sentinel&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;application.yml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yml&#34;&gt;server:
  port: 8401 # 当前服务端口

spring:
  application:
    name: cloudalibaba-sentinel-service
  cloud:
    # 注册中心配置
    nacos:
      discovery:
        server-addr: localhost:8848 #Nacos服务注册中心地址
    # 流控配置
    sentinel:
      transport:
        dashboard: localhost:8080 #配置Sentinel dashboard地址
        port: 8719 # 微服务和Sentinel dashboard通讯端口
      datasource:
        ds1: # 流控规则持久化数据源
          nacos:
            server-addr: localhost:8848
            dataId: cloudalibaba-sentinel-service
            groupId: DEFAULT_GROUP
            data-type: json
            rule-type: flow

management:
  endpoints:
    web:
      exposure:
        include: &#39;*&#39;

feign:
  sentinel:
    enabled: true # 激活Sentinel对Feign的支持
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;根据业务逻辑添加&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;    // 资源方法
	@GetMapping(&amp;quot;/byResource&amp;quot;)
    @SentinelResource(value = &amp;quot;byResource&amp;quot;, blockHandler = &amp;quot;handleException&amp;quot;)
    public CommonResult byResource() {
        return new CommonResult(200, &amp;quot;按资源名称限流测试OK&amp;quot;, new Payment(2020L, &amp;quot;serial001&amp;quot;));
    }

	// 降级回调方法
    public CommonResult handleException(BlockException exception) {
        return new CommonResult(444, exception.getClass().getCanonicalName() + &amp;quot;\t 服务不可用&amp;quot;);
    }

	// 资源方法
    @GetMapping(&amp;quot;/rateLimit/byUrl&amp;quot;)
    @SentinelResource(value = &amp;quot;byUrl&amp;quot;)
    public CommonResult byUrl() {
        return new CommonResult(200, &amp;quot;按url限流测试OK&amp;quot;, new Payment(2020L, &amp;quot;serial002&amp;quot;));
    }

 	//资源方法,指定了降级回调方法为另一个类
    @GetMapping(&amp;quot;/rateLimit/customerBlockHandler&amp;quot;)
    @SentinelResource(value = &amp;quot;customerBlockHandler&amp;quot;,
            blockHandlerClass = CustomerBlockHandler.class,
            blockHandler = &amp;quot;handlerException2&amp;quot;)
    public CommonResult customerBlockHandler() {
        return new CommonResult(200, &amp;quot;按客戶自定义&amp;quot;, new Payment(2020L, &amp;quot;serial003&amp;quot;));
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;CustomerBlockHandler.class&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public class CustomerBlockHandler {
    public static CommonResult handlerException(BlockException exception) {
        return new CommonResult(4444, &amp;quot;按客戶自定义,global handlerException----1&amp;quot;);
    }

    public static CommonResult handlerException2(BlockException exception) {
        return new CommonResult(4444, &amp;quot;按客戶自定义,global handlerException----2&amp;quot;);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
">Sentinel</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/ribbon/"" data-c="
          &lt;h1 id=&#34;ribbon&#34;&gt;Ribbon&lt;/h1&gt;
&lt;h2 id=&#34;核心组件irule&#34;&gt;核心组件IRule&lt;/h2&gt;
&lt;h4 id=&#34;默认-轮询&#34;&gt;默认 : 轮询&lt;/h4&gt;
&lt;p&gt;根据特定算法从服务列表选取一个要访问的服务&lt;/p&gt;
&lt;p&gt;共有7种算法&lt;/p&gt;
&lt;h4 id=&#34;替换方法&#34;&gt;替换方法&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;创建自定义配置类&lt;code&gt;@Configuration&lt;/code&gt;,注意不能放在&lt;code&gt;@ComponentScan&lt;/code&gt;所扫描的包下.即不能与&lt;code&gt;SpringBoot启动类&lt;/code&gt;同一个包&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;package com.atguigu.myrule;

import com.netflix.loadbalancer.IRule;
import com.netflix.loadbalancer.RandomRule;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
public class MySelfRule {

    @Bean
    public IRule myRule(){
        return new RandomRule();//定义为随机
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;主启动类添加注解&lt;code&gt;@RibbanClient&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@SpringBootApplication
@EnableEurekaClient
@RibbonClient(name = &amp;quot;CLOUD-PAYMENT-SERVICE&amp;quot;, configuration = MySelfRule.class)
public class OrderMain80 {
       
    public static void main(String[] args) {
        SpringApplication.run(OrderMain80.class, args);
    }
       
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
">Ribbon</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/openfegin/"" data-c="
          &lt;h1 id=&#34;openfeign&#34;&gt;OpenFeign&lt;/h1&gt;
&lt;p&gt;（主要用在服务消费端）&lt;/p&gt;
&lt;h2 id=&#34;service-consumer服务消费者&#34;&gt;Service-Consumer服务消费者&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;引入pom依赖&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Eurkea&lt;/code&gt;作为注册中心,引入&lt;code&gt;OpenFeign&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;        &amp;lt;!--openfeign--&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.cloud&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-cloud-starter-openfeign&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;!--eureka client--&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.cloud&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-cloud-starter-netflix-eureka-client&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置application.yml , 和&lt;code&gt;OpenFeign&lt;/code&gt;关系不大,主要是配置注册服务和负载均衡、日志监控&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yml&#34;&gt;eureka:
  client:
    register-with-eureka: false
    service-url:
      defaultZone: http://eureka7001.com:7001/eureka/,http://eureka7002.com:7002/eureka/
#设置feign客户端超时时间(OpenFeign默认支持ribbon)
ribbon:
#指的是建立连接所用的时间，适用于网络状况正常的情况下,两端连接所用的时间
  ReadTimeout: 5000
#指的是建立连接后从服务器读取到可用资源所用的时间
  ConnectTimeout: 5000

logging:
  level:
    # feign日志以什么级别监控哪个接口
    com.atguigu.springcloud.service.PaymentFeignService: debug
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;主启动类添加注解&lt;code&gt;@EnableDiscoveryClient&lt;/code&gt;和&lt;code&gt;@EnableFeignClients&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;编写消费端接口,用于调取远程服务,方法声明&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Component
@FeignClient(value = &amp;quot;CLOUD-PAYMENT-SERVICE&amp;quot;) //表明调用远程服务的名称
public interface PaymentFeignService {
    
    @GetMapping(value = &amp;quot;/payment/get/{id}&amp;quot;) //对应远程服务的请求路径
    CommonResult&amp;lt;Payment&amp;gt; getPaymentById(@PathVariable(&amp;quot;id&amp;quot;) Long id);

}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;当程序调用此接口的方法时,Feign会自动去调用注册中心对应服务名称的对应请求路径的方法.并获得返回值作为此接口方法的返回值.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
">OpenFegin</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/nacos/"" data-c="
          &lt;h1 id=&#34;naocs&#34;&gt;Naocs&lt;/h1&gt;
&lt;h2 id=&#34;服务治理&#34;&gt;服务治理&lt;/h2&gt;
&lt;h3 id=&#34;服务注册&#34;&gt;服务注册&lt;/h3&gt;
&lt;h4 id=&#34;前提&#34;&gt;前提&lt;/h4&gt;
&lt;p&gt;启动NacosServer服务注册中心&lt;/p&gt;
&lt;p&gt;父工程引入依赖&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;dependencyManagement&amp;gt;
    &amp;lt;dependencies&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;com.alibaba.cloud&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-cloud-alibaba-dependencies&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;2.2.3.RELEASE&amp;lt;/version&amp;gt;
            &amp;lt;type&amp;gt;pom&amp;lt;/type&amp;gt;
            &amp;lt;scope&amp;gt;import&amp;lt;/scope&amp;gt;
        &amp;lt;/dependency&amp;gt;
    &amp;lt;/dependencies&amp;gt;
&amp;lt;/dependencyManagement&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;服务提供者provider&#34;&gt;服务提供者（Provider）&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;pom.xml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;        &amp;lt;!--SpringCloud ailibaba nacos --&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;com.alibaba.cloud&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-cloud-starter-alibaba-nacos-discovery&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;application.yml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yml&#34;&gt;spring:
  application:
    name: nacos-payment-provider # 服务名称
  cloud:
    nacos:
      discovery:
        server-addr: localhost:8848 # 配置Nacos地址,注册中心地址

management:
  endpoints:
    web:
      exposure:
        include: &#39;*&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;主启动类&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@EnableDiscoveryClient //开启服务发现功能
@SpringBootApplication
public class PaymentMain9001 {
    public static void main(String[] args) {
        SpringApplication.run(PaymentMain9001.class, args);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;业务类&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@RestController
public class PaymentController {
    @Value(&amp;quot;${server.port}&amp;quot;)
    private String serverPort;

    @GetMapping(value = &amp;quot;/payment/nacos/{id}&amp;quot;)
    public String getPayment(@PathVariable(&amp;quot;id&amp;quot;) Integer id) {
        return &amp;quot;nacos registry, serverPort: &amp;quot; + serverPort + &amp;quot;\t id&amp;quot; + id;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;服务消费者consumer&#34;&gt;服务消费者（Consumer）&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;pom.xml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;        &amp;lt;!--SpringCloud ailibaba nacos --&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;com.alibaba.cloud&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-cloud-starter-alibaba-nacos-discovery&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;application.yml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yml&#34;&gt;spring:
  application:
    name: nacos-order-consumer # 服务名称
  cloud:
    nacos:
      discovery:
        server-addr: localhost:8848 # 注册中心地址


#消费者将要去访问的微服务名称(注册成功进nacos的微服务提供者)
service-url:
  nacos-user-service: http://nacos-payment-provider
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;容器内注入RestTemplate,通过RestTemplate方式进行远程服务调用&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Configuration
public class RestTemplateConfig
{
    @Bean
    @LoadBalanced // 启用负载均衡
    public RestTemplate getRestTemplate()
    {
        return new RestTemplate();
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;主启动类&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@EnableDiscoveryClient //开启服务发现
@SpringBootApplication
public class OrderNacosMain83 {
    public static void main(String[] args) {
        SpringApplication.run(OrderNacosMain83.class, args);
    }
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;业务类&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@RestController
@Slf4j
public class OrderNacosController
{
    @Resource
    private RestTemplate restTemplate;

    @Value(&amp;quot;${service-url.nacos-user-service}&amp;quot;)
    private String serverURL;

    @GetMapping(value = &amp;quot;/consumer/payment/nacos/{id}&amp;quot;)
    public String paymentInfo(@PathVariable(&amp;quot;id&amp;quot;) Long id)
    {
        return restTemplate.getForObject(serverURL+&amp;quot;/payment/nacos/&amp;quot;+id,String.class);
    }

}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;配置中心&#34;&gt;配置中心&lt;/h3&gt;
&lt;h4 id=&#34;微服务配置&#34;&gt;微服务配置&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;pom.xml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;com.alibaba.cloud&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;spring-cloud-starter-alibaba-nacos-config&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;${latest.version}&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;bootstrap.yml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yml&#34;&gt;spring:
  application:
    name: nacos-config-client
  cloud:
    nacos:
      discovery:
        server-addr: localhost:8848 #Nacos服务注册中心地址
      config:
        server-addr: localhost:8848 #Nacos作为配置中心地址
        file-extension: yaml #指定yaml格式的配置
        group: DEFAULT_GROUP # 默认为`default group`
        namespace: public # 默认为`public`
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;application.yml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yml&#34;&gt;spring:
  profiles: 
    active: prod
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;业务类,添加&lt;code&gt;@RefreshScope&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@RestController
@RefreshScope //支持Nacos的动态刷新功能。
public class ConfigClientController {
    
    @Value(&amp;quot;${config.info}&amp;quot;)
    private String configInfo;

    @GetMapping(&amp;quot;/config/info&amp;quot;)
    public String getConfigInfo() {
        return configInfo;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;nacos控制台配置&#34;&gt;Nacos控制台配置&lt;/h4&gt;
&lt;p&gt;Nacos配置管理页面添加文件&lt;/p&gt;
&lt;p&gt;dataId完整格式 :&lt;/p&gt;
&lt;p&gt;&lt;code&gt;${prefix}-${spring.profiles.active}.${file-extension}&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;prefix&lt;/code&gt; 默认为 &lt;code&gt;spring.application.name&lt;/code&gt; 的值，也可以通过配置项 &lt;code&gt;spring.cloud.nacos.config.prefix&lt;/code&gt; 来配置&lt;/li&gt;
&lt;li&gt;&lt;code&gt;spring.profiles.active&lt;/code&gt; 即为当前环境对应的 &lt;code&gt;profile&lt;/code&gt;。 注意：当 &lt;code&gt;spring.profiles.active&lt;/code&gt; 为空时，对应的连接符 - 也将不存在，&lt;code&gt;dataId&lt;/code&gt; 的拼接格式变成 &lt;code&gt;${prefix}.${file-extension}&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;file-exetension&lt;/code&gt; 为配置内容的数据格式，可以通过配置项 &lt;code&gt;spring.cloud.nacos.config.file-extension&lt;/code&gt; 来配置。目前只支持 &lt;code&gt;properties&lt;/code&gt; 和 &lt;code&gt;yaml&lt;/code&gt; 类型&lt;/li&gt;
&lt;/ol&gt;
">Nacos</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/hystrix/"" data-c="
          &lt;h1 id=&#34;hystrix&#34;&gt;Hystrix&lt;/h1&gt;
&lt;h2 id=&#34;重要概念&#34;&gt;重要概念&lt;/h2&gt;
&lt;h3 id=&#34;服务降级fallback&#34;&gt;服务降级（fallback）&lt;/h3&gt;
&lt;p&gt;某些服务不可用时&lt;code&gt;（服务超时、服务出现异常、服务熔断触发服务降级、线程池或信号量打满）&lt;/code&gt;，执行备用逻辑从故障服务中快速失败或快速返回，以保障主体业务不受影响&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h3 id=&#34;服务熔断circuit-breaker&#34;&gt;服务熔断（circuit breaker）&lt;/h3&gt;
&lt;p&gt;应对雪崩效应的一种微服务链路保护机制.当某个微服务出现报错或者响应超时,会进行服务降级,进而熔断该服务的调用,快速返回错误响应.在一定时间后进行尝试调用,如果调用相应恢复正常,则恢复该服务的的调用链路&lt;/p&gt;
&lt;h3 id=&#34;总结&#34;&gt;总结&lt;/h3&gt;
&lt;p&gt;在配置了熔断器后,微服务调用过程中,微服务执行业务逻辑过程中响应超时或者程序错误,触发服务降级,执行降级方法.在一定时间内出现一定比率的服务调用错误后,熔断器打开,之后再发送的请求不执行业务逻辑,直接执行降级方法,返回错误响应.熔断器打开过程中,尽管微服务恢复正常,仍会直接调用降级方法.熔断持续时间过后,熔断器处于半开状态,尝试执行一次请求,调用正常的业务逻辑,若出错,则继续保持打开状态,如果调用成功,则关闭熔断,恢复调用链路,让请求执行正确的业务逻辑&lt;/p&gt;
&lt;h2 id=&#34;微服务使用hystrix&#34;&gt;微服务使用Hystrix&lt;/h2&gt;
&lt;p&gt;（Provider端或Consumer端都可配置）&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;引入依赖&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.cloud&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-cloud-starter-netflix-hystrix&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置application.yml （无特殊配置）&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yml&#34;&gt;feign:
  hystrix:
    enabled: true # 和OpenFegin一起使用需要配置此选项
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;主启动类添加&lt;code&gt;@EnableHystrix&lt;/code&gt;,启用&lt;code&gt;Hystrix&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;服务降级配置&#34;&gt;服务降级配置&lt;/h3&gt;
&lt;h4 id=&#34;针对方法的服务降级&#34;&gt;针对方法的服务降级&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;添加&lt;code&gt;@HystrixCommand&lt;/code&gt;注解,配置注解属性&lt;code&gt;fallbackMethod&lt;/code&gt;,指定服务降级后执行的方法&lt;/li&gt;
&lt;li&gt;配置注解属性&lt;code&gt;commandProperties&lt;/code&gt;,指定超时时间&lt;code&gt;@HystrixProperty(name = &amp;quot;execution.isolation.thread.timeoutInMilliseconds&amp;quot;, value = &amp;quot;3000&amp;quot;)&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;    @HystrixCommand(fallbackMethod = &amp;quot;paymentInfo_TimeOutHandler&amp;quot;, commandProperties = {
            @HystrixProperty(name = &amp;quot;execution.isolation.thread.timeoutInMilliseconds&amp;quot;, value = &amp;quot;3000&amp;quot;)
    })
    public String paymentInfo_TimeOut(Integer id) {
        int age = 10/0; //程序异常,触发降级
        try {
            TimeUnit.MILLISECONDS.sleep(5000); //响应超时,触发降级
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        return &amp;quot;线程池:  &amp;quot; + Thread.currentThread().getName() + &amp;quot; id:  &amp;quot; + id + &amp;quot;\t&amp;quot; + &amp;quot;O(∩_∩)O哈哈~&amp;quot; + &amp;quot;  耗时(秒): &amp;quot;;
    }

    public String paymentInfo_TimeOutHandler(Integer id) {
        return &amp;quot;线程池:  &amp;quot; + Thread.currentThread().getName() + &amp;quot;  8001系统繁忙或者运行报错，请稍后再试,id:  &amp;quot; + id + &amp;quot;\t&amp;quot; + &amp;quot;o(╥﹏╥)o&amp;quot;;
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;当服务响应时间超过设定值,便会执行降级方法&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;针对全局的服务降级&#34;&gt;针对全局的服务降级&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;在类上添加注解&lt;code&gt;@DefaultProperties(defaultFallback = &amp;quot;payment_Global_FallbackMethod&amp;quot;)&lt;/code&gt;,指定全局降级方法&lt;/li&gt;
&lt;li&gt;在需要降级的方法上添加注解&lt;code&gt;@HystrixCommand&lt;/code&gt;即可&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@RestController
@Slf4j
@DefaultProperties(defaultFallback = &amp;quot;payment_Global_FallbackMethod&amp;quot;)
public class OrderHystirxController {
    @Resource
    private PaymentHystrixService paymentHystrixService;

    @GetMapping(&amp;quot;/consumer/payment/hystrix/ok/{id}&amp;quot;)
    public String paymentInfo_OK(@PathVariable(&amp;quot;id&amp;quot;) Integer id) {
        return paymentHystrixService.paymentInfo_OK(id);
    }

    @GetMapping(&amp;quot;/consumer/payment/hystrix/timeout/{id}&amp;quot;)
    @HystrixCommand
    public String paymentInfo_TimeOut(@PathVariable(&amp;quot;id&amp;quot;) Integer id) {
        int age = 10 / 0;
        return paymentHystrixService.paymentInfo_TimeOut(id);
    }

    // 下面是全局fallback方法
    public String payment_Global_FallbackMethod() {
        return &amp;quot;Global异常处理信息，请稍后再试，/(ㄒoㄒ)/~~&amp;quot;;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;降级方法与业务逻辑解耦&#34;&gt;降级方法与业务逻辑解耦&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;服务消费者端远程调用接口的&lt;code&gt;@FeignClient&lt;/code&gt;注解,添加属性&lt;code&gt;fallback&lt;/code&gt;指向一个实现此接口的类&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;此实现类是实现接口的所有方法,作为服务降级的调用方法&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;调用远程服务的接口&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Component
@FeignClient(value = &amp;quot;CLOUD-PROVIDER-HYSTRIX-PAYMENT&amp;quot;, fallback = PaymentFallbackService.class)
public interface PaymentHystrixService {

    @GetMapping(&amp;quot;/payment/hystrix/ok/{id}&amp;quot;)
    String paymentInfo_OK(@PathVariable(&amp;quot;id&amp;quot;) Integer id);

    @GetMapping(&amp;quot;/payment/hystrix/timeout/{id}&amp;quot;)
    String paymentInfo_TimeOut(@PathVariable(&amp;quot;id&amp;quot;) Integer id);

}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;接口实现类,实现方法作为服务降级方法,实现业务逻辑和服务降级的解耦&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Component
public class PaymentFallbackService implements PaymentHystrixService {

    @Override
    public String paymentInfo_OK(Integer id) {
        return &amp;quot;-----PaymentFallbackService fall back-paymentInfo_OK ,o(╥﹏╥)o&amp;quot;;
    }

    @Override
    public String paymentInfo_TimeOut(Integer id) {
        return &amp;quot;-----PaymentFallbackService fall back-paymentInfo_TimeOut ,o(╥﹏╥)o&amp;quot;;
    }

}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;服务熔断配置&#34;&gt;服务熔断配置&lt;/h3&gt;
&lt;p&gt;配置服务熔断需在&lt;code&gt;@HystrixCommand&lt;/code&gt;添加属性&lt;code&gt;commandProperty&lt;/code&gt;的值,开启服务熔断&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;//=====服务熔断
    @HystrixCommand(fallbackMethod = &amp;quot;paymentCircuitBreaker_fallback&amp;quot;, commandProperties = {
            @HystrixProperty(name = &amp;quot;circuitBreaker.enabled&amp;quot;, value = &amp;quot;true&amp;quot;),// 是否开启断路器
            @HystrixProperty(name = &amp;quot;circuitBreaker.requestVolumeThreshold&amp;quot;, value = &amp;quot;10&amp;quot;),// 请求次数
            @HystrixProperty(name = &amp;quot;circuitBreaker.sleepWindowInMilliseconds&amp;quot;, value = &amp;quot;10000&amp;quot;), // 时间窗口期
            @HystrixProperty(name = &amp;quot;circuitBreaker.errorThresholdPercentage&amp;quot;, value = &amp;quot;60&amp;quot;),// 失败率达到多少后跳闸
    })
&lt;/code&gt;&lt;/pre&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;配置断路器开关&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@HystrixProperty(name = &amp;quot;circuitBreaker.enabled&amp;quot;, value = &amp;quot;true&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;请求总数阈值&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@HystrixProperty(name = &amp;quot;circuitBreaker.requestVolumeThreshold&amp;quot;, value = &amp;quot;10&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;快照时间窗&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@HystrixProperty(name = &amp;quot;circuitBreaker.sleepWindowInMilliseconds&amp;quot;, value = &amp;quot;10000&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;错误百分比阈值&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@HystrixProperty(name = &amp;quot;circuitBreaker.errorThresholdPercentage&amp;quot;, value = &amp;quot;60&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;断路器开启条件&#34;&gt;断路器开启条件&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;请求达到设定阈值数（默认10秒内超过20个请求次数）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;失败请求百分比达到设定值（默认10秒内超过50%请求失败）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;达到以上任意一种情况,断路器打开,并持续快照时间窗设定的时间,所有请求直接返回服务降级方法&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;快照时间窗过后（默认是5秒）,会尝试恢复请求,此时熔断器处于半开状态,如果响应错误,则重复1-3步骤,如果响应成功则关闭断路器,恢复服务调用链路.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;hystrixdashboard&#34;&gt;HystrixDashBoard&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;新建项目作为监控服务&lt;/li&gt;
&lt;li&gt;引入依赖&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!--Hystrix服务监控Dashboard依赖--&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.springframework.cloud&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;spring-cloud-starter-hystrix&amp;lt;/artifactId&amp;gt;
&amp;lt;/dependency&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.springframework.cloud&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;spring-cloud-starter-hystrix-dashboard&amp;lt;/artifactId&amp;gt;
&amp;lt;/dependency&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;spring-boot-starter-actuator&amp;lt;/artifactId&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;启动类添加注解&lt;code&gt;@EnableHystrixDashBoard&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;被监听的服务提供者，都需要添加&lt;code&gt;spring-boot-starter-actuator&lt;/code&gt;依赖&lt;/li&gt;
&lt;li&gt;启动访问本服务的&lt;code&gt;/hystrix&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;页面输入被监控的服务&lt;code&gt;/hystrix.stream&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
">Hystrix</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/eureka/"" data-c="
          &lt;h1 id=&#34;eureka&#34;&gt;Eureka&lt;/h1&gt;
&lt;h2 id=&#34;registry-center-注册中心&#34;&gt;Registry-Center 注册中心&lt;/h2&gt;
&lt;h3 id=&#34;单机版&#34;&gt;单机版&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;导入依赖&lt;code&gt;reueka-server&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.cloud&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-cloud-starter-netflix-eureka-server&amp;lt;/artifactId&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;application.yml&lt;/code&gt;配置文件&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yml&#34;&gt;spring:
  application:
    name: eureka-registry-center # 注册中心服务名称

server:
  port: 8080 #微服务端口

eureka:
  instance:
    hostname: 118.31.244.185 # 表明注册中心的IP地址
    instance-id: provider8080 # 注册中心自定义显示服务名称
    prefer-ip-address: true # 服务名称链接显示ip
  server:
  	# 确保注册中心中不可用的实例被及时的剔除,开发时设为false,上线应该为true
    enableSelfPreservation: false 
  client:
    register-with-eureka: false # 不在注册中心注册自己
    fetch-registry: false # 表示自己就是注册中心，职责是维护服务实例，并不需要去检索服务
    service-url:
      defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/ # 注册中心url
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;主启动类配置&lt;/p&gt;
&lt;p&gt;添加&lt;code&gt;@EnableEurekaServer&lt;/code&gt;注解启动&lt;code&gt;Eureka&lt;/code&gt; 注册中心服务&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;集群版&#34;&gt;集群版&lt;/h3&gt;
&lt;p&gt;配置与单机版一致,只需修改&lt;code&gt;yml&lt;/code&gt;文件中的&lt;code&gt;defaultZone&lt;/code&gt;属性,添加除自己之外的其他注册中心的URL&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yml&#34;&gt;defaultZone: http://another-server-ip:port/eureka/,http://another-server-ip:port/eureka/    #设置与eureka server交互的地址查询服务和注册服务都需要依赖这个地址,多个服务之间逗号分开
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;provider-服务提供者&#34;&gt;Provider 服务提供者&lt;/h2&gt;
&lt;h3 id=&#34;单机版-2&#34;&gt;单机版&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;导入依赖&lt;code&gt;eureka-client&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;org.springframework.cloud&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;spring-cloud-starter-netflix-eureka-client&amp;lt;/artifactId&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;application.yml&lt;/code&gt;配置文件&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yml&#34;&gt;spring:
  application:
    name: service-provider # 注册中心应用名称

server:
  port: 8080 # 微服务端口

eureka:
  client:
    register-with-eureka: true # 在注册中心注册自己
    fetchRegistry: true # 需要去检索服务
    service-url:
      defaultZone: http://118.31.244.185:8080/eureka/
  instance:
    instance-id: provider8080 # 注册中心自定义显示服务名称
    prefer-ip-address: true # 服务名称链接显示ip
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;主启动类配置&lt;/p&gt;
&lt;p&gt;添加&lt;code&gt;@EnableDiscoveryClient&lt;/code&gt;或&lt;code&gt;@EnableEurekaClient&lt;/code&gt;(只适用于&lt;code&gt;Erueka&lt;/code&gt;注册中心)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;集群版-2&#34;&gt;集群版&lt;/h3&gt;
&lt;p&gt;配置与单机版一致,只需修改&lt;code&gt;yml&lt;/code&gt;文件中的&lt;code&gt;defaultZone&lt;/code&gt;属性,添加集群中所有的注册中心URL,之间逗号分隔即可&lt;/p&gt;
&lt;h2 id=&#34;consumer-服务消费者&#34;&gt;Consumer 服务消费者&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;导入依赖&lt;code&gt;eureka-client&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;org.springframework.cloud&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;spring-cloud-starter-netflix-eureka-client&amp;lt;/artifactId&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;application.yml&lt;/code&gt;配置文件&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yml&#34;&gt;spring:
  application:
    name: service-consumer-user # 注册中心服务名称
    
server:
  port: 8080 # 服务端口
  
eureka:
  client:
    register-with-eureka: true #在注册中心注册自己
    fetchRegistry: true # 需要去检索服务
    service-url:
      defaultZone: http://118.31.244.185:8080/eureka/ #若注册中心为集群服务,需写多个注册中心地址
  instance:
  	instance-id: provider8080 # 注册中心自定义显示服务名称
  	prefer-ip-address: true # 服务名称链接显示ip
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;添加配置类,向容器中注入&lt;code&gt;RestTemplate&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;import org.springframework.boot.SpringBootConfiguration;
import org.springframework.cloud.client.loadbalancer.LoadBalanced;
import org.springframework.context.annotation.Bean;
import org.springframework.web.client.RestTemplate;

/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: BeanConfig
 * @Desc:
 * @package com.juyss.config
 * @project HelloWorld
 * @date 2020/10/29 21:39
 */
@SpringBootConfiguration
public class BeanConfig {

    @LoadBalanced // 开启集群负载均衡,如果服务提供者端配置了集群,不开启会报错
    @Bean
    public RestTemplate restTemplate(){
        return new RestTemplate();
    }

}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;调用远程服务过程&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;在需要调用远程服务的&lt;code&gt;JavaBean&lt;/code&gt;中注入&lt;code&gt;RestTemplate&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用&lt;code&gt;RestTemplate.getForObject(String url, Class&amp;lt;T&amp;gt; responseType, Object... uriVariables)&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;param --&amp;gt; url : 远程服务地址,&amp;quot;http://服务名称/controller映射路径/&amp;quot;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;param --&amp;gt; responseType: 远程服务返回值类型&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;例如&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;Movie movie = restTemplate.getForObject(&amp;quot;http://service-provider/movie&amp;quot;,Movie.class);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;调用注册中心服务名为&lt;code&gt;service-provider&lt;/code&gt;的映射为&lt;code&gt;/movie&lt;/code&gt;的服务,返回值类型为&lt;code&gt;Movie.class&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;主启动类配置&lt;/p&gt;
&lt;p&gt;添加&lt;code&gt;@EnableDiscoveryClient&lt;/code&gt;或&lt;code&gt;@EnableEurekaClient&lt;/code&gt;(只适用于&lt;code&gt;Erueka&lt;/code&gt;注册中心)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;服务启动顺序&#34;&gt;服务启动顺序&lt;/h3&gt;
&lt;p&gt;注册中心 ===&amp;gt; 服务提供者 ===&amp;gt; 服务消费者&lt;/p&gt;
&lt;h3 id=&#34;eureka自我保护机制&#34;&gt;Eureka自我保护机制&lt;/h3&gt;
&lt;h4 id=&#34;server端&#34;&gt;Server端&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-yml&#34;&gt;eureka:
  server:
  	# 确保注册中心中不可用的实例被及时的剔除,开发时设为false,上线应该为true
    enableSelfPreservation: false 
    # 清理无效节点的时间间隔,默认60000毫秒,即60秒
    eviction-interval-timer-in-ms: 2000
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;client端&#34;&gt;Client端&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-yml&#34;&gt;eureka:
  instance:
    # 客户端向服务端发送心跳的时间间隔,单位秒,默认30秒
    lease-renewal-interval-in-seconds:  1
    # 服务端收到客户端最后一次心跳的等待时间,单位秒,默认90秒,超时将剔除服务
    lease-expiration-duration-in-seconds:  2
&lt;/code&gt;&lt;/pre&gt;
">Eureka</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/elasticsearch-zong-jie/"" data-c="
          &lt;h1 id=&#34;elasticsearch&#34;&gt;Elasticsearch&lt;/h1&gt;
&lt;p&gt;Elasticsearch是一个基于Lucene的搜索服务器。它提供了一个分布式多用户能力的全文搜索引擎，基于RESTful web接口。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h2 id=&#34;基本概念&#34;&gt;基本概念&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;index (索引)&lt;br&gt;
相当于数据库中的库或者表&lt;br&gt;
&lt;code&gt;ES-6后索引只允许存在一个type(文档类型),ES-7中不允许创建指定type,默认type为_doc,ES-8中移除type&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;mapping(映射)&lt;br&gt;
相当于数据库中表的结构,比如说字段类型,或者表的属性.&lt;br&gt;
mapping是对document的格式进行限制&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;document(文档)&lt;br&gt;
相当于数据库中的一行数据,包含一个或多个存有数据的字段.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;field(字段)&lt;br&gt;
相当于数据库中的字段,可以指定字段的数据类型或属性&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;索引操作&#34;&gt;索引操作&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;# 添加索引
PUT /test
PUT /dangdang

# 查看索引
GET /dangdang
# 查看所有索引
GET /_cat/indices?v

# 删除索引
DELETE /test
DELETE /dangdang
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;映射操作&#34;&gt;映射操作&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;# 创建索引dangdang 映射字段 id name price detail
PUT /dangdang
{
  &amp;quot;mappings&amp;quot;: {
      &amp;quot;properties&amp;quot;: {
        &amp;quot;id&amp;quot;: {
          &amp;quot;type&amp;quot;: &amp;quot;integer&amp;quot;
        },
        &amp;quot;name&amp;quot;: {
          &amp;quot;type&amp;quot;: &amp;quot;keyword&amp;quot;
        },
        &amp;quot;price&amp;quot;: {
          &amp;quot;type&amp;quot;: &amp;quot;double&amp;quot;
        },
        &amp;quot;detail&amp;quot;: {
          &amp;quot;type&amp;quot;: &amp;quot;text&amp;quot;
        }
      }
  }
}

# 查看mapping
GET /dangdang/_mapping
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;文档操作&#34;&gt;文档操作&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;# 插入一条文档(不指定`_id`,会默认生成一个)
POST /dangdang/_doc/
{
  &amp;quot;id&amp;quot;: 1,
  &amp;quot;name&amp;quot;:&amp;quot;java核心思想&amp;quot;,
  &amp;quot;price&amp;quot;:21.21,
  &amp;quot;detail&amp;quot;: &amp;quot;默认(MaxHeapFreeRatio参数可以调整)空余堆内存大于70%时，JVM会减少堆直到 -Xms的最小限制&amp;quot;
}

# 插入一条文档(指定`_id`)
POST /dangdang/_doc/{_id}
{
  &amp;quot;id&amp;quot;: 1,
  &amp;quot;name&amp;quot;:&amp;quot;java核心思想2&amp;quot;,
  &amp;quot;price&amp;quot;:21.212,
  &amp;quot;detail&amp;quot;: &amp;quot;默认(MaxHeapFreeRatio参数可以调整)空余堆内存大于70%时，JVM会减少堆直到 -Xms的最小限制2&amp;quot;
}

# 根据`_id`获取文档数据
GET /dangdang/_doc/{_id}

# 查询索引下的所有文档
GET /dangdang/_search

# 更新文档
# 1.覆盖更新
POST /dangdang/_doc/{_id}
{
  &amp;quot;id&amp;quot;: 1,
  &amp;quot;name&amp;quot;:&amp;quot;java入门到入土&amp;quot;,
  &amp;quot;price&amp;quot;:15.78,
  &amp;quot;detail&amp;quot;: &amp;quot;使用的ES版本为7.2.0,不再支持创建指定类型,索引的默认类型为`_doc`&amp;quot;
}
# 2.部分更新
POST /dangdang/_update/{_id}
{
  &amp;quot;doc&amp;quot;:{
    &amp;quot;price&amp;quot;:44.44
  }
}


# 删除文档
DELETE /dangdang/_doc/{_id}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;文档查询&#34;&gt;文档查询&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;# 查询文档
GET /dangdang/_search
{
  &amp;quot;query&amp;quot;:{
    &amp;quot;match_all&amp;quot;:{}
  }
}

# 查询排序
GET /dangdang/_search
{
  &amp;quot;query&amp;quot;: {
    &amp;quot;match_all&amp;quot;: {}
  }
  , &amp;quot;sort&amp;quot;: [
    {
      &amp;quot;price&amp;quot;: {
        &amp;quot;order&amp;quot;: &amp;quot;asc&amp;quot;
      }
    },
    {
      &amp;quot;name&amp;quot;: {
        &amp;quot;order&amp;quot;: &amp;quot;desc&amp;quot;
      }
    }
  ]
}

# 分页查询
GET /dangdang/_search
{
  &amp;quot;query&amp;quot;: {
    &amp;quot;match_all&amp;quot;: {}
  },
  &amp;quot;size&amp;quot;: 10,
  &amp;quot;from&amp;quot;: 0,
  &amp;quot;sort&amp;quot;: [
    {
      &amp;quot;id&amp;quot;: {
        &amp;quot;order&amp;quot;: &amp;quot;desc&amp;quot;
      }
    }
  ]
}

# 指定查询结果返回的字段 _source
GET /dangdang/_search
{
  &amp;quot;query&amp;quot;: {
    &amp;quot;match_all&amp;quot;: {}
  },
  &amp;quot;_source&amp;quot;: [&amp;quot;name&amp;quot;,&amp;quot;detail&amp;quot;]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;# 关键词查询 term
# text类型查询会进行分词,其他类型不分词
# 英文按空格分词,中文按单字分词
GET /dangdang/_search
{
  &amp;quot;query&amp;quot;: {
    &amp;quot;term&amp;quot;: {
      &amp;quot;name&amp;quot;: {
        &amp;quot;value&amp;quot;: &amp;quot;java核心思想&amp;quot;
      }
    }
  }
}

# 测试分词效果,可以指定分词器
POST /dangdang/_analyze
{
  &amp;quot;analyzer&amp;quot;: &amp;quot;ik_smart&amp;quot;, 
  &amp;quot;text&amp;quot;: &amp;quot;默认(MaxHeapFreeRatio参数可以调)空余堆内存大于70%时，JVM会减少堆直到 -Xms的最小限制&amp;quot;
}

# 范围查询:range 前缀查询:perfix
# 通配符查询:wildcard  ?匹配一个字符 *匹配多个字符
GET /dangdang/_search
{
  &amp;quot;query&amp;quot;: {
    &amp;quot;range&amp;quot;: {
      &amp;quot;price&amp;quot;: {
        &amp;quot;gte&amp;quot;: 10,
        &amp;quot;lte&amp;quot;: 50
      }
    }
  }
}

# 高亮查询
GET /dangdang/_search
{
  &amp;quot;query&amp;quot;: {
    &amp;quot;term&amp;quot;: {
      &amp;quot;detail&amp;quot;: {
        &amp;quot;value&amp;quot;: &amp;quot;小&amp;quot;
      }
    }
  },
  &amp;quot;highlight&amp;quot;: {
    &amp;quot;fields&amp;quot;: {
      &amp;quot;detail&amp;quot;: {}
    }, 
    &amp;quot;pre_tags&amp;quot;: &amp;quot;&amp;lt;span style: red&amp;gt;&amp;quot;,
    &amp;quot;post_tags&amp;quot;: &amp;quot;&amp;lt;/span&amp;gt;&amp;quot;
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;java操作es&#34;&gt;Java操作ES&lt;/h1&gt;
&lt;h2 id=&#34;springboot项目&#34;&gt;SpringBoot项目&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;引入依赖 pom.xml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;        &amp;lt;!--引入ElasticSearch依赖--&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-boot-starter-data-elasticsearch&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;容器中注入&lt;code&gt;RestHighLevelClient&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Configuration
public class ElasticSearchConfig extends AbstractElasticsearchConfiguration {

    @Override
    @Bean
    public RestHighLevelClient elasticsearchClient() {
        // 定义客户端配置对象 9200端口
        final ClientConfiguration clientConfiguration = ClientConfiguration.builder()
                // 9200 : Restful风格调用端口 , 9300 : tcp端口
                .connectedTo(&amp;quot;192.168.112.133:9200&amp;quot;)
                .build();

        return RestClients.create(clientConfiguration).rest();
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;实体类注解配置&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Document(indexName = &amp;quot;moti-blog&amp;quot;)
public class Article{

    /**
    * 文章的主键ID
    */
    @Id
    private Integer id;

    /**
    * 文章标题
    */
    @Field(type = FieldType.Text,analyzer = &amp;quot;ik_max_word&amp;quot;)
    private String title;

    /**
    * 正文
    */
    @Field(type = FieldType.Text,analyzer = &amp;quot;ik_max_word&amp;quot;)
    private Object content;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;注解说明:The following annotations are available:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;@Document&lt;/code&gt;: Applied at the class level to indicate this class is a candidate for mapping to the database. The most important attributes are:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;indexName&lt;/code&gt;: the name of the index to store this entity in. This can contain a SpEL template expression like &lt;code&gt;&amp;quot;log-#{T(java.time.LocalDate).now().toString()}&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;type&lt;/code&gt;: the mapping type. If not set, the lowercased simple name of the class is used. (deprecated since version 4.0)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;shards&lt;/code&gt;: the number of shards for the index.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;replicas&lt;/code&gt;: the number of replicas for the index.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;refreshIntervall&lt;/code&gt;: Refresh interval for the index. Used for index creation. Default value is &lt;em&gt;&amp;quot;1s&amp;quot;&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;indexStoreType&lt;/code&gt;: Index storage type for the index. Used for index creation. Default value is &lt;em&gt;&amp;quot;fs&amp;quot;&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;createIndex&lt;/code&gt;: flag whether to create an index on repository bootstrapping. Default value is &lt;em&gt;true&lt;/em&gt;. See &lt;a href=&#34;https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.repositories.autocreation&#34;&gt;Automatic creation of indices with the corresponding mapping&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;versionType&lt;/code&gt;: Configuration of version management. Default value is &lt;em&gt;EXTERNAL&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@Id&lt;/code&gt;: Applied at the field level to mark the field used for identity purpose.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@Transient&lt;/code&gt;: By default all fields are mapped to the document when it is stored or retrieved, this annotation excludes the field.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@PersistenceConstructor&lt;/code&gt;: Marks a given constructor - even a package protected one - to use when instantiating the object from the database. Constructor arguments are mapped by name to the key values in the retrieved Document.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@Field&lt;/code&gt;: Applied at the field level and defines properties of the field, most of the attributes map to the respective &lt;a href=&#34;https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping.html&#34;&gt;Elasticsearch Mapping&lt;/a&gt; definitions (the following list is not complete, check the annotation Javadoc for a complete reference):
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;name&lt;/code&gt;: The name of the field as it will be represented in the Elasticsearch document, if not set, the Java field name is used.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;type&lt;/code&gt;: the field type, can be one of &lt;em&gt;Text, Keyword, Long, Integer, Short, Byte, Double, Float, Half_Float, Scaled_Float, Date, Date_Nanos, Boolean, Binary, Integer_Range, Float_Range, Long_Range, Double_Range, Date_Range, Ip_Range, Object, Nested, Ip, TokenCount, Percolator, Flattened, Search_As_You_Type&lt;/em&gt;. See &lt;a href=&#34;https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-types.html&#34;&gt;Elasticsearch Mapping Types&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;format&lt;/code&gt; and &lt;code&gt;pattern&lt;/code&gt; definitions for the &lt;em&gt;Date&lt;/em&gt; type. &lt;code&gt;format&lt;/code&gt; must be defined for date types.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;store&lt;/code&gt;: Flag whether the original field value should be store in Elasticsearch, default value is &lt;em&gt;false&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;analyzer&lt;/code&gt;, &lt;code&gt;searchAnalyzer&lt;/code&gt;, &lt;code&gt;normalizer&lt;/code&gt; for specifying custom analyzers and normalizer.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@GeoPoint&lt;/code&gt;: marks a field as &lt;em&gt;geo_point&lt;/em&gt; datatype. Can be omitted if the field is an instance of the &lt;code&gt;GeoPoint&lt;/code&gt; class.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;resthighlevelclient-api&#34;&gt;RestHighLevelClient API&lt;/h2&gt;
">Elasticsearch总结</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/zookeeper/"" data-c="
          &lt;h1 id=&#34;zookeeper&#34;&gt;Zookeeper&lt;/h1&gt;
&lt;h2 id=&#34;zookeeper注册中心&#34;&gt;Zookeeper注册中心&lt;/h2&gt;
&lt;p&gt;启动&lt;code&gt;zookeeper&lt;/code&gt;注册中心&lt;/p&gt;
&lt;h2 id=&#34;service-provider-服务提供者&#34;&gt;Service-provider 服务提供者&lt;/h2&gt;
&lt;h4 id=&#34;引入zookeeper依赖&#34;&gt;引入zookeeper依赖&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;        &amp;lt;!-- SpringBoot整合zookeeper客户端 --&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.cloud&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-cloud-starter-zookeeper-discovery&amp;lt;/artifactId&amp;gt;
            &amp;lt;!--先排除自带的zookeeper3.5.3--&amp;gt;
            &amp;lt;exclusions&amp;gt;
                &amp;lt;exclusion&amp;gt;
                    &amp;lt;groupId&amp;gt;org.apache.zookeeper&amp;lt;/groupId&amp;gt;
                    &amp;lt;artifactId&amp;gt;zookeeper&amp;lt;/artifactId&amp;gt;
                &amp;lt;/exclusion&amp;gt;
            &amp;lt;/exclusions&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;!--添加zookeeper3.6.9版本--&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.apache.zookeeper&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;zookeeper&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;3.6.2&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;配置applicationyml&#34;&gt;配置application.yml&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-yml&#34;&gt;#8004表示注册到zookeeper服务器的支付服务提供者端口号
server:
  port: 8004

spring:
  application:
    # 服务别名----注册到zookeeper注册中心的名称
    name: cloud-provider-payment
  cloud:
    zookeeper:
      # 注册中心地址
      connect-string: 192.168.112.133:2181
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;主启动类配置&#34;&gt;主启动类配置&lt;/h4&gt;
&lt;p&gt;添加注解&lt;code&gt;@EnableDiscoveryClient&lt;/code&gt; , 该注解用于向使用consul或者zookeeper作为注册中心时注册服务&lt;/p&gt;
&lt;h2 id=&#34;service-consumer-服务消费者&#34;&gt;Service-consumer 服务消费者&lt;/h2&gt;
&lt;h4 id=&#34;引入zookeeper依赖-2&#34;&gt;引入zookeeper依赖&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;        &amp;lt;!-- SpringBoot整合zookeeper客户端 --&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.cloud&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-cloud-starter-zookeeper-discovery&amp;lt;/artifactId&amp;gt;
            &amp;lt;!--先排除自带的zookeeper--&amp;gt;
            &amp;lt;exclusions&amp;gt;
                &amp;lt;exclusion&amp;gt;
                    &amp;lt;groupId&amp;gt;org.apache.zookeeper&amp;lt;/groupId&amp;gt;
                    &amp;lt;artifactId&amp;gt;zookeeper&amp;lt;/artifactId&amp;gt;
                &amp;lt;/exclusion&amp;gt;
            &amp;lt;/exclusions&amp;gt;
        &amp;lt;/dependency&amp;gt;
        &amp;lt;!--添加zookeeper3.4.9版本--&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.apache.zookeeper&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;zookeeper&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;3.4.9&amp;lt;/version&amp;gt;
        &amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;配置applicationyml-2&#34;&gt;配置application.yml&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-yml&#34;&gt;server:
  port: 8005

spring:
  application:
    # 服务别名----注册到zookeeper注册中心的名称
    name: cloud-consumer-order
  cloud:
    zookeeper:
      #注册到zookeeper地址
      connect-string: 192.168.112.133:2181
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;注入resttemplate&#34;&gt;注入RestTemplate&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;import org.springframework.cloud.client.loadbalancer.LoadBalanced;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.web.client.RestTemplate;

/**
 * @auther juyss
 * @create 2020-02-19 15:20
 */
@Configuration
public class ApplicationContextConfig {

    @Bean
    @LoadBalanced //开启负载均衡
    public RestTemplate getRestTemplate() {
        return new RestTemplate();
    }

}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;主启动类配置-2&#34;&gt;主启动类配置&lt;/h4&gt;
&lt;p&gt;添加注解&lt;code&gt;@EnableDiscoveryClient&lt;/code&gt; , 该注解用于向使用consul或者zookeeper作为注册中心时注册服务&lt;/p&gt;
&lt;h4 id=&#34;远程调用服务&#34;&gt;远程调用服务&lt;/h4&gt;
&lt;p&gt;通过&lt;code&gt;RestTemplate&lt;/code&gt;的&lt;code&gt;getObject()&lt;/code&gt;方法进行远程调用,传入参数&lt;code&gt;url&lt;/code&gt; ===&amp;gt;&lt;code&gt;http://注册中心的服务名称/请求映射&lt;/code&gt; ; 参数&lt;code&gt;responseType&lt;/code&gt;为远程服务的返回值的实例,通过这两个参数即可完成远程调用.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;import lombok.extern.slf4j.Slf4j;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.client.RestTemplate;

import javax.annotation.Resource;

/**
 * @auther zzyy
 * @create 2020-02-19 15:21
 */
@RestController
@Slf4j
public class OrderZKController {

    public static final String INVOKE_URL = &amp;quot;http://cloud-provider-payment&amp;quot;; //提供者的地址

    @Resource
    private RestTemplate restTemplate;

    @GetMapping(value = &amp;quot;/consumer/payment/zk&amp;quot;) //消费者请求映射
    public String paymentInfo() {
        return restTemplate.getForObject(INVOKE_URL + &amp;quot;/payment/zk&amp;quot;, String.class); //远程调用的服务映射
    }

}
&lt;/code&gt;&lt;/pre&gt;
">ZooKeeper</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/suo-yin/"" data-c="
          &lt;h1 id=&#34;索引&#34;&gt;索引&lt;/h1&gt;
&lt;p&gt;索引就是数据结构&lt;/p&gt;
&lt;p&gt;Tree:&lt;/p&gt;
&lt;p&gt;​	B Tree : 一个节点(磁盘块)包含&lt;code&gt;数据项、向下指针、指向数据的指针&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;​	B+ Tree : 一个节点(磁盘块)包含&lt;code&gt;数据项、向下指针&lt;/code&gt; 非叶子节点不存储真实数据,叶子节点才包含真实数据&lt;/p&gt;
&lt;p&gt;建立索引的效果 :&lt;/p&gt;
&lt;p&gt;​	提高查询性能,但是会降低增删改性能&lt;/p&gt;
&lt;p&gt;聚簇索引 : 主键索引&lt;/p&gt;
&lt;p&gt;非聚簇索引 : 非主键索引的其他索引&lt;/p&gt;
&lt;h2 id=&#34;索引分类&#34;&gt;索引分类&lt;/h2&gt;
&lt;h3 id=&#34;单值索引&#34;&gt;单值索引&lt;/h3&gt;
&lt;p&gt;一个索引只包含单个列,一个表可以有多个单值索引&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sq&#34;&gt;# 创建索引
CREATE INDEX idx_name ON table_name(column_name);
# 删除索引
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;唯一索引&#34;&gt;唯一索引&lt;/h3&gt;
&lt;p&gt;索引对应列的值必须唯一,但可以为空&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;# 创建索引
CREATE UNIQUE INDEX idx_name ON table_name(column_name);
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;主键索引&#34;&gt;主键索引&lt;/h3&gt;
&lt;p&gt;指定主键后数据库会自动建立索引,InnoDB存储引擎为聚簇索引&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;# 创建索引(可在建表时添加)
ALTER TABLE table_name add PRIMARY KEY table_name(column_name);

# 删除主键
ALTER TABLE table_name drop PRIMARY KEY;

# 修改主键索引
(先删除,再添加)
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;复合索引&#34;&gt;复合索引&lt;/h3&gt;
&lt;p&gt;一个索引包含多个列&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;# 创建索引
CREATE INDEX idx_name ON table_name(column_name,...,column_name);
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;使用alter命令创建索引&#34;&gt;使用ALTER命令创建索引&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;# 该语句添加一个主键索引，这意味着索引值必须是唯一的，且不能为NULL。
ALTER TABLE tbl_name ADD PRIMARY KEY (column_list);

# 这条语句创建索引的值必须是唯一的（除了NULL外，NULL可能会出现多次）。
ALTER TABLE tbl_name ADD UNIQUE index_name (column_list);

# 添加普通索引，索引值可出现多次。
ALTER TABLE tbl_name ADD INDEX index_name (column_list): 

# 该语句指定了索引为 FULLTEXT ，用于全文索引。
ALTER TABLE tbl_name ADD FULLTEXT index_name (column_list):
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;哪些情况需要创建索引&#34;&gt;哪些情况需要创建索引&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;主键自动创建索引&lt;/li&gt;
&lt;li&gt;频繁作为查询条件的字段需要创建索引&lt;/li&gt;
&lt;li&gt;查询中与其他表关联的字段,外键关系创建索引&lt;/li&gt;
&lt;li&gt;单键/组合索引的选择,组合索引更好&lt;/li&gt;
&lt;li&gt;查询中排序的字段,排序字段通过索引访问能提高排序速度&lt;/li&gt;
&lt;li&gt;查询中统计或分组字段 (group by更消耗性能,因为是先进行排序(order by),然后再执行的分组(group by))&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;哪些情况不要穿建索引&#34;&gt;哪些情况不要穿建索引&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;表记录过少&lt;/li&gt;
&lt;li&gt;经常在增删改的表或字段&lt;/li&gt;
&lt;li&gt;where条件用不到的字段不创建索引&lt;/li&gt;
&lt;li&gt;过滤型不好的不适合创建索引&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;建索引的几大原则&#34;&gt;建索引的几大原则&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;最左前缀匹配原则，非常重要的原则，mysql会一直向右匹配直到遇到范围查询(&amp;gt;、&amp;lt;、between、like)就停止匹配，比如a = 1 and b = 2 and c &amp;gt; 3 and d = 4 如果建立(a,b,c,d)顺序的索引，d是用不到索引的，如果建立(a,b,d,c)的索引则都可以用到，a,b,d的顺序可以任意调整。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;=和in可以乱序，比如a = 1 and b = 2 and c = 3 建立(a,b,c)索引可以任意顺序，mysql的查询优化器会帮你优化成索引可以识别的形式。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;尽量选择区分度高的列作为索引，区分度的公式是count(distinct col)/count(*)，表示字段不重复的比例，比例越大我们扫描的记录数越少，唯一键的区分度是1，而一些状态、性别字段可能在大数据面前区分度就是0，那可能有人会问，这个比例有什么经验值吗？使用场景不同，这个值也很难确定，一般需要join的字段我们都要求是0.1以上，即平均1条扫描10条记录。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;索引列不能参与计算，保持列“干净”，比如from_unixtime(create_time) = ’2014-05-29’就不能使用到索引，原因很简单，b+树中存的都是数据表中的字段值，但进行检索时，需要把所有元素都应用函数才能比较，显然成本太大。所以语句应该写成create_time = unix_timestamp(’2014-05-29’)。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;尽量的扩展索引，不要新建索引。比如表中已经有a的索引，现在要加(a,b)的索引，那么只需要修改原来的索引即可。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;explain&#34;&gt;Explain&lt;/h2&gt;
&lt;p&gt;使用explain关键字可以模拟MySQL优化器执行SQL查询语句.&lt;/p&gt;
&lt;p&gt;作用:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;查看表的读取顺序&lt;/li&gt;
&lt;li&gt;那些索引可以使用&lt;/li&gt;
&lt;li&gt;数据读取操作的操作类型&lt;/li&gt;
&lt;li&gt;哪些索引被实际引用&lt;/li&gt;
&lt;li&gt;表之间的引用&lt;/li&gt;
&lt;li&gt;每张表有多少行被物理查询&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;解释结果分析:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;id&lt;/strong&gt; : id相同,代表一趟查询,按从上到下的顺序执行. id不相同,值越大,优先级越高,越先执行&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;select_type&lt;/strong&gt; : 查询类型&lt;code&gt;SIMPLE: 简单查询&lt;/code&gt;、 &lt;code&gt;PRIMARY: 最外层查询&lt;/code&gt;、&lt;code&gt;DERIVED : 衍生查询,临时的&lt;/code&gt;、&lt;code&gt;SUBQUERY : 包含了子查询&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;type&lt;/strong&gt; : 访问类型&lt;code&gt;system&amp;gt;const&amp;gt;eq_ref&amp;gt;ref&amp;gt;range&amp;gt;index&amp;gt;ALL&lt;/code&gt;,应该尽量避免出现&lt;code&gt;ALL&lt;/code&gt;全表扫描&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;possible_keys : 查询涉及到的字段上若存在索引，则该索引将被列出，但不一定被查询实际使用&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;key&lt;/strong&gt; : 实际起作用的索引,如果值为NULL,则没用上索引.查询中若使用了覆盖索引,则该索引和查询的select字段重叠&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;key_len : 表示索引中使用的字节数,可以计算查询中使用索引的长度&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ref : 显示索引的哪一列被使用了&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;rows&lt;/strong&gt; : 显示MySQL执行查询时必须检查的行数.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;filtered : 这个字段表示存储引擎返回的数据在server层过滤后，剩下多少满足查询的记录数量的比例，注意是百分比，不是具体记录数&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Extra : 额外信息.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
">索引</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/springboot-shi-yong-aop-bian-cheng/"" data-c="
          &lt;h1 id=&#34;aspect&#34;&gt;Aspect&lt;/h1&gt;
&lt;p&gt;（与SpringBoot整合）&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h3 id=&#34;总结&#34;&gt;总结&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;作用位置&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;try{
	try{
		@Around 前置环绕通知
		@Before 前置通知
		method.invoke(..);
       }catch(){
        @AfterThrowing 异常通知
		throw.....;
   }finally{
		@After 后置通知
   }
	@AfterReturning 返回通知
}finally{
    @Around 后置环绕通知
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;执行流程&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;正常情况: @Around ==&amp;gt; @Before ==&amp;gt; 目标方法 ==&amp;gt; @After ==&amp;gt; @AfterReturning ==&amp;gt; @Around;&lt;/li&gt;
&lt;li&gt;异常情况: @Around ==&amp;gt; @Before ==&amp;gt; 目标方法(出现异常) ==&amp;gt; @AfterThrowing ==&amp;gt; @After ==&amp;gt; @Around;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;同级通知优先级问题&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;添加@Order注解指定属性为优先级&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;此注解只能用在类上,不能用在方法上&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;代码演示&#34;&gt;代码演示&lt;/h3&gt;
&lt;h4 id=&#34;1-引入aop依赖&#34;&gt;1. 引入aop依赖&lt;/h4&gt;
&lt;p&gt;pom.xml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;        &amp;lt;!--    引入AOP依赖    --&amp;gt;
        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;spring-boot-starter-aop&amp;lt;/artifactId&amp;gt;
        &amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;2-核心业务类&#34;&gt;2. 核心业务类&lt;/h4&gt;
&lt;p&gt;Service层&lt;/p&gt;
&lt;p&gt;UserService.java&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Service
public class UserService {

 public void service1(){
     System.out.println(&amp;quot;Service-1-执行&amp;quot;);
 }

 public String service2(){
     System.out.println(&amp;quot;Service-2-执行&amp;quot;);
     //int i = 1/0;  //异常测试
     return &amp;quot;Success!!!&amp;quot;;
 }

 public ArrayList&amp;lt;String&amp;gt; service3(String userName){
     System.out.println(&amp;quot;Service-3-执行&amp;quot;);
     ArrayList&amp;lt;String&amp;gt; list = new ArrayList&amp;lt;&amp;gt;();
     list.add(&amp;quot;Service-3-执行成功!!!&amp;quot;);
     list.add(userName);
     return list;
 }

}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;3-切面&#34;&gt;3. 切面&lt;/h4&gt;
&lt;p&gt;MyAspect.java&lt;/p&gt;
&lt;p&gt;注:一定要将切面作为Spring组件注入容器&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Component
@Aspect
public class MyAspect {

    //定义切入点
    @Pointcut(&amp;quot;within(com.juyss.service.*)&amp;quot;)
    public void pointcut(){}

    //环绕通知 ===&amp;gt; 正常情况执行在@Before和@After之前,如果执行过程中抛异常,只执行前置环绕通知,后置环绕不执行
    @Around(value = &amp;quot;pointcut()&amp;quot;)
    public Object around(ProceedingJoinPoint point){
        System.out.println(&amp;quot;前置环绕通知!!!&amp;quot;);
        Object proceed = null;
        try {
            System.out.println(&amp;quot;point.proceed()执行前----------------------------&amp;quot;);
            Signature signature = point.getSignature();
            System.out.println(&amp;quot;获取类名:&amp;quot;+signature.getName());
            System.out.println(&amp;quot;point.proceed()执行前----------------------------&amp;quot;);
            proceed = point.proceed();
            System.out.println(&amp;quot;point.proceed()执行后----------------------------&amp;quot;);
            System.out.println(&amp;quot;获取返回值:&amp;quot;+proceed);
            System.out.println(&amp;quot;point.proceed()执行后----------------------------&amp;quot;);
        } catch (Throwable throwable) {
            throwable.printStackTrace();
        }
        System.out.println(&amp;quot;后置环绕通知!!!&amp;quot;);
        return proceed;
    }

    //前置通知 ===&amp;gt; 方法执行前
    @Before(&amp;quot;pointcut()&amp;quot;)
    public void before(){
        System.out.println(&amp;quot;前置通知生效!!!&amp;quot;);
    }

    //返回通知 ===&amp;gt; 方法正常执行完后执行,可以获取返回值.如果方法执行过程中抛异常,则不会执行
    @AfterReturning(value = &amp;quot;pointcut()&amp;quot;,returning = &amp;quot;returnValue&amp;quot;)
    public void afterReturning(Object returnValue){
        System.out.println(&amp;quot;返回通知生效!!! ------返回值:&amp;quot;+returnValue);
    }

    //后置通知 ===&amp;gt; 在finally代码块中执行,无论如何都会执行的通知
    @After(&amp;quot;pointcut()&amp;quot;)
    public void after(JoinPoint joinPoint){
        Signature signature = joinPoint.getSignature();
        System.out.println(&amp;quot;后置通知生效!!! ------ 方法名:&amp;quot;+signature.getName());
    }

    //异常通知 ===&amp;gt; 在执行过程中抛出异常时执行
    @AfterThrowing(value = &amp;quot;pointcut()&amp;quot;,throwing = &amp;quot;e&amp;quot;)
    public void afterThrowing(Exception e){
        System.out.println(&amp;quot;异常通知生效!!! 异常信息:&amp;quot;+e.getMessage());
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;4-测试类&#34;&gt;4. 测试类&lt;/h4&gt;
&lt;p&gt;AspectApplicationTests.java&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@SpringBootTest
class AspectApplicationTests {

    @Autowired
    private UserService service;

    @Test
    public void Test(){
        service.service1();
        System.out.println(&amp;quot;************************************************************************&amp;quot;);
        service.service2();
        System.out.println(&amp;quot;************************************************************************&amp;quot;);
        service.service3(&amp;quot;方法参数&amp;quot;);
        System.out.println(&amp;quot;************************************************************************&amp;quot;);
    }

}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;5-测试结果&#34;&gt;5. 测试结果&lt;/h4&gt;
&lt;p&gt;正常运行时:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;前置环绕通知!!!
point.proceed()执行前----------------------------
获取类名:service1
point.proceed()执行前----------------------------
前置通知生效!!!
Service-1-执行
返回通知生效!!! ------返回值:null
后置通知生效!!! ------ 方法名:service1
point.proceed()执行后----------------------------
获取返回值:null
point.proceed()执行后----------------------------
后置环绕通知!!!
************************************************************************************************
前置环绕通知!!!
point.proceed()执行前----------------------------
获取类名:service2
point.proceed()执行前----------------------------
前置通知生效!!!
Service-2-执行
返回通知生效!!! ------返回值:Success!!!
后置通知生效!!! ------ 方法名:service2
point.proceed()执行后----------------------------
获取返回值:Success!!!
point.proceed()执行后----------------------------
后置环绕通知!!!
************************************************************************************************
前置环绕通知!!!
point.proceed()执行前----------------------------
获取类名:service3
point.proceed()执行前----------------------------
前置通知生效!!!
Service-3-执行
返回通知生效!!! ------返回值:[Service-3-执行成功!!!, 方法参数]
后置通知生效!!! ------ 方法名:service3
point.proceed()执行后----------------------------
获取返回值:[Service-3-执行成功!!!, 方法参数]
point.proceed()执行后----------------------------
后置环绕通知!!!
************************************************************************************************
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;方法运行抛出异常时&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;前置环绕通知!!!
point.proceed()执行前----------------------------
获取类名:service1
point.proceed()执行前----------------------------
前置通知生效!!!
Service-1-执行
返回通知生效!!! ------返回值:null
后置通知生效!!! ------ 方法名:service1
point.proceed()执行后----------------------------
获取返回值:null
point.proceed()执行后----------------------------
后置环绕通知!!!
************************************************************************************************
前置环绕通知!!!
point.proceed()执行前----------------------------
获取类名:service2
point.proceed()执行前----------------------------
前置通知生效!!!
Service-2-执行
异常通知生效!!! 异常信息:/ by zero
后置通知生效!!! ------ 方法名:service2
java.lang.ArithmeticException: / by zero
	at com.juyss.service.UserService.service2(UserService.java:25)
	##############其他异常信息省略################
后置环绕通知!!!
************************************************************************************************
前置环绕通知!!!
point.proceed()执行前----------------------------
获取类名:service3
point.proceed()执行前----------------------------
前置通知生效!!!
Service-3-执行
返回通知生效!!! ------返回值:[Service-3-执行成功!!!, 方法参数]
后置通知生效!!! ------ 方法名:service3
point.proceed()执行后----------------------------
获取返回值:[Service-3-执行成功!!!, 方法参数]
point.proceed()执行后----------------------------
后置环绕通知!!!
************************************************************************************************
&lt;/code&gt;&lt;/pre&gt;
">SpringBoot使用AOP编程</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/jwt-zheng-he-springboot/"" data-c="
          &lt;h1 id=&#34;jwt&#34;&gt;JWT&lt;/h1&gt;
&lt;p&gt;（整合SpringBoot）&lt;/p&gt;
&lt;h3 id=&#34;1-引入依赖&#34;&gt;1. 引入依赖&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!--    引入JWT    --&amp;gt;
&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;com.auth0&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;java-jwt&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;3.4.0&amp;lt;/version&amp;gt;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;2-编写工具类&#34;&gt;2. 编写工具类&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public class JWTUtil {

    // 用于JWT进行签名加密的秘钥
    private static String SECRET = &amp;quot;code-duck-*%#@*!&amp;amp;&amp;quot;;

    /**
     * @Param: 传入需要设置的payload信息
     * @return: 返回token
     */
    public static String generateToken(Map&amp;lt;String, String&amp;gt; map) {
        JWTCreator.Builder builder = JWT.create();

        // 将map内的信息传入JWT的payload中
        map.forEach((k, v) -&amp;gt; {
            builder.withClaim(k, v);
        });

        // 设置JWT令牌的过期时间为60
        Calendar instance = Calendar.getInstance();
        instance.add(Calendar.SECOND, 60);
        builder.withExpiresAt(instance.getTime());

        // 设置签名并返回token
        return builder.sign(Algorithm.HMAC256(SECRET)).toString();
    }

    /**
     * @Param: 传入token
     * @return:
     */
    public static void verify(String token) {
        JWT.require(Algorithm.HMAC256(SECRET)).build().verify(token);
    }

    /**
     * @Param: 传入token
     * @return: 解密的token信息
     */
    public static DecodedJWT getTokenInfo(String token) {
        return JWT.require(Algorithm.HMAC256(SECRET)).build().verify(token);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;3-准备项目测试环境&#34;&gt;3. 准备项目测试环境&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://juyss.github.io//post-images/1608360846281.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;编写&lt;code&gt;controller&lt;/code&gt;&lt;mark&gt;&amp;gt;&lt;code&gt;service&lt;/code&gt;&lt;/mark&gt;&amp;gt;&lt;code&gt;mapper&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;4-获取token&#34;&gt;4. 获取Token&lt;/h3&gt;
&lt;p&gt;UserController.java&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@RestController
@RequestMapping(&amp;quot;/user&amp;quot;)
public class UserController {

    @Autowired
    private UserService userService;

    @PostMapping(&amp;quot;/login&amp;quot;)
    public Map&amp;lt;String,String&amp;gt; login(@RequestParam(&amp;quot;username&amp;quot;)String username,
                                    @RequestParam(&amp;quot;password&amp;quot;)String password){

        HashMap&amp;lt;String, String&amp;gt; result = new HashMap&amp;lt;&amp;gt;();

        User user = userService.getUser(username);

        //返回用户为空,则说明此用户名信息不存在
        if (user==null){
            result.put(&amp;quot;msg&amp;quot;, &amp;quot;用户不存在&amp;quot;);
            return result;
        }

        //判断密码是否正确
        if (!user.getPassword().equals(password)){
            result.put(&amp;quot;msg&amp;quot;, &amp;quot;密码错误&amp;quot;);
            return result;
        }

        //验证通过
        HashMap&amp;lt;String, String&amp;gt; map = new HashMap&amp;lt;&amp;gt;();
        map.put(&amp;quot;msg&amp;quot;,&amp;quot;success&amp;quot;);
        map.put(&amp;quot;username&amp;quot;,username);
        map.put(&amp;quot;role&amp;quot;,&amp;quot;admin&amp;quot;);

        //生成token
        String token = JwtUtils.generateToken(map);

        result.put(&amp;quot;token&amp;quot;, token);

        return result;
    }

    @RequestMapping(&amp;quot;/test&amp;quot;)
    public String test(){

        return &amp;quot;请求成功!!!&amp;quot;;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;5-编写拦截器&#34;&gt;5. 编写拦截器&lt;/h3&gt;
&lt;p&gt;JwtInceptor.java&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public class JwtInterceptor implements HandlerInterceptor {
    @Override
    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {
        String token = request.getHeader(&amp;quot;token&amp;quot;);
        HashMap&amp;lt;String, String&amp;gt; map = new HashMap&amp;lt;&amp;gt;();
        try {
            JwtUtils.verify(token);//验证令牌
            return true;//放行请求
        } catch (SignatureVerificationException e) {
            e.printStackTrace();
            map.put(&amp;quot;msg&amp;quot;, &amp;quot;无效签名!&amp;quot;);
        } catch (TokenExpiredException e) {
            e.printStackTrace();
            map.put(&amp;quot;msg&amp;quot;, &amp;quot;token过期!&amp;quot;);
        } catch (AlgorithmMismatchException e) {
            e.printStackTrace();
            map.put(&amp;quot;msg&amp;quot;, &amp;quot;token算法不一致!&amp;quot;);
        } catch (Exception e) {
            e.printStackTrace();
            map.put(&amp;quot;msg&amp;quot;, &amp;quot;token无效!!&amp;quot;);
        }
        map.put(&amp;quot;code&amp;quot;, &amp;quot;403&amp;quot;);//设置状态
        //将 map 转为json  jackson
        String json = new ObjectMapper().writeValueAsString(map);
        response.setContentType(&amp;quot;application/json;charset=UTF-8&amp;quot;);
        response.getWriter().println(json); //前台返回数据
        return false;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;6-注册mvc配置&#34;&gt;6. 注册MVC配置&lt;/h3&gt;
&lt;p&gt;JwtInterceptorConfig.java&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Configuration
public class JwtInterceptorConfig implements WebMvcConfigurer {

    @Override
    public void addInterceptors(InterceptorRegistry registry) {
        registry.addInterceptor(new JwtInterceptor()) //注册自定义拦截器
                .addPathPatterns(&amp;quot;/**&amp;quot;) //拦截所有路径
                .excludePathPatterns(&amp;quot;/user/login&amp;quot;); //排除登陆请求
    }
}
&lt;/code&gt;&lt;/pre&gt;
">JWT整合SpringBoot</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/ji-ben-shu-ju-lei-xing-zhuan-huan-yuan-ze/"" data-c="
          &lt;p&gt;基本数据类型之间互相转换遵循的一些原则&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;&lt;em&gt;(只讨论数值型,不包含布尔类型)&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&#34;1-自动类型提升&#34;&gt;1. 自动类型提升&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;正常情况:容量小的数据类型变量和容量大的数据类型变量运算,结果自动提升为容量大的变量的数据类型&lt;/li&gt;
&lt;li&gt;当byte、char、short三种数据类型的变量互相做运算(包括同类型之间),结果自动提升为int&lt;br&gt;
byte、char、short --&amp;gt; int --&amp;gt; long --&amp;gt; float --&amp;gt; double&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-强制类型转换&#34;&gt;2. 强制类型转换&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;使用 	(目标数据类型)变量名	进行操作&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;浮点型转换为整形 : 精度损失(丢失小数点后的数据)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;变量值超出目标数据类型取值范围 : 精度损失(会被截断)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;整形常量默认为&lt;code&gt;int&lt;/code&gt;型,浮点型常量默认为&lt;code&gt;double&lt;/code&gt;型&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3-string类型&#34;&gt;3. String类型&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;String&lt;/code&gt;是&lt;strong&gt;引用数据类型&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;char c = &#39;&#39;;//编译不通过
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;char c = &#39; &#39;;//放了一个空格,编译通过
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;其他基础数据类型和String类进行运算,进行字符串拼接,结果仍然为String&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;System.out.println(&amp;quot;*	*&amp;quot;); //*	* (字符串)
System.out.println(&#39;*&#39;+&#39;\t&#39;+&#39;*&#39;); //93 (char类型运算,结果为int)
System.out.println(&#39;*&#39;+&amp;quot;\t&amp;quot;+&#39;*&#39;); //*	* (char+String+char,结果为String)
System.out.println(&#39;*&#39;+&#39;\t&#39;+&amp;quot;*&amp;quot;); //51* (前两项结果为int,再加上String,结果为String)
System.out.println(&#39;*&#39;+(&#39;\t&#39;+&amp;quot;*&amp;quot;)); //*    * (小括号内优先运算,结果为String,再加一个char,结果依然为String)
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;String s1 = 3.5f + &amp;quot;&amp;quot;;
System.out.println(); // &amp;quot;3.5&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;4-进制&#34;&gt;4. 进制&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;二进制 : 以0b或0B开头&lt;/li&gt;
&lt;li&gt;十进制 :&lt;/li&gt;
&lt;li&gt;八进制 : 以零开头&lt;/li&gt;
&lt;li&gt;十六进制 : 以0x或0X开头&lt;/li&gt;
&lt;/ul&gt;
">基本数据类型转换原则</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/you-jian-fa-song-gong-neng-shi-xian/"" data-c="
          &lt;p&gt;使用Java程序实现邮件发送功能&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;实现步骤:&lt;/p&gt;
&lt;h3 id=&#34;导包&#34;&gt;导包&lt;/h3&gt;
&lt;p&gt;导入&lt;code&gt;javax.mail&lt;/code&gt;和&lt;code&gt;javax.activation&lt;/code&gt;两个依赖包&lt;br&gt;
&lt;img src=&#34;https://juyss.github.io//post-images/1595246472129.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;打开邮箱的pop3smtp服务&#34;&gt;打开邮箱的&lt;code&gt;pop3/smtp&lt;/code&gt;服务&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://juyss.github.io//post-images/1595246483544.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;编写java程序&#34;&gt;编写java程序&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: MailSend
 * @Desc: 简单邮件发送实现
 * @package PACKAGE_NAME
 * @project File_and_Mail
 * @date 2020/7/18 19:25
 */
public class MailSend {
    public static void main(String[] args) {
        Transport transport = null;
        try {
            Properties prop = new Properties();
            prop.setProperty(&amp;quot;mail.host&amp;quot;, &amp;quot;smtp.qq.com&amp;quot;); //邮件服务器
            prop.setProperty(&amp;quot;mail.transport.protocol&amp;quot;, &amp;quot;smtp&amp;quot;); //邮件发送协议
            prop.setProperty(&amp;quot;mail.smtp.auth&amp;quot;, &amp;quot;true&amp;quot;); //需要验证用户名和密码

            //QQ邮箱额外需要的
            MailSSLSocketFactory mailSSLSocket = new MailSSLSocketFactory();
            mailSSLSocket.setTrustAllHosts(true);
            prop.put(&amp;quot;mail.smtp.ssl.enable&amp;quot;, &amp;quot;true&amp;quot;);
            prop.put(&amp;quot;mail.smtp.ssl.socketFactory&amp;quot;, mailSSLSocket);

            //使用JavaMail发送邮件的5个步骤
            //1.创建整个程序所需的环境信息的Session对象
            PasswordAuthentication passwordAuthentication = new PasswordAuthentication(&amp;quot;1028507471@qq.com&amp;quot;, &amp;quot;drjeleykuqavbbgb&amp;quot;);
            Authenticator authenticator = new Authenticator() {
                @Override
                protected PasswordAuthentication getPasswordAuthentication() {
                    return passwordAuthentication;
                }
            };
            Session session = Session.getDefaultInstance(prop, authenticator);

            session.setDebug(true);//开启session的debug模式

            //2.获取Transport对象
            transport = session.getTransport();

            //3.连接邮件服务器
            transport.connect(&amp;quot;smtp.qq.com&amp;quot;, &amp;quot;1028507471@qq.com&amp;quot;, &amp;quot;drjeleykuqavbbgb&amp;quot;);

            //4.创建邮件
            MimeMessage message = new MimeMessage(session); //创建session对象
            InternetAddress sender = new InternetAddress(&amp;quot;1028507471@qq.com&amp;quot;);//发件人(需开启smtp服务)
            InternetAddress receiver = new InternetAddress(&amp;quot;1828433175@qq.com&amp;quot;);//收件人

            message.setFrom(sender);//设置发件人
            message.setRecipient(Message.RecipientType.TO, receiver);//设置收件人类型和收件人
            message.setSubject(&amp;quot;SimpleTextMail&amp;quot;);//设置主题

            //两个方法不能同时存在,后面的会覆盖前面的邮件内容
            message.setText(&amp;quot;第一段&amp;lt;br&amp;gt;第二段&amp;lt;br&amp;gt;第三段&amp;lt;br&amp;gt;&amp;quot;, &amp;quot;UTF-8&amp;quot;);//设置发送内容(普通文本内容)
            message.setContent(&amp;quot;&amp;lt;h1&amp;gt;一级标题&amp;lt;/h1&amp;gt;&amp;lt;hr&amp;gt;&amp;lt;h2&amp;gt;二级标题&amp;lt;/h2&amp;gt;&amp;quot;, &amp;quot;text/html;charset=UTF-8&amp;quot;);//设置发送内容(HTML格式)

            //5.发送邮件
            transport.sendMessage(message, message.getAllRecipients());
        } catch (GeneralSecurityException e) {
            e.printStackTrace();
        } catch (MessagingException e) {
            e.printStackTrace();
        } finally {
            //6.关闭资源
            try {
                if (transport != null)
                    transport.close();
            } catch (MessagingException e) {
                e.printStackTrace();
            }
        }


    }
}
&lt;/code&gt;&lt;/pre&gt;
">邮件发送功能实现</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/wang-ye-wen-jian-shang-chuan-gong-neng-shi-xian/"" data-c="
          &lt;p&gt;通过前端页面操作文件上传到服务器的指定保存路径&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;项目结构(Maven)&lt;br&gt;
&lt;img src=&#34;https://juyss.github.io//post-images/1595245735136.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;文件上传实现思路及步骤&#34;&gt;文件上传实现思路及步骤&lt;/h2&gt;
&lt;h3 id=&#34;1-导包&#34;&gt;1. 导包&lt;/h3&gt;
&lt;p&gt;导入&lt;code&gt;commons-io&lt;/code&gt;和&lt;code&gt;commons-fileupload&lt;/code&gt;   jar包&lt;/p&gt;
&lt;h3 id=&#34;2-前端页面&#34;&gt;2. 前端页面&lt;/h3&gt;
&lt;p&gt;action:页面请求,需和&lt;code&gt;web.xml&lt;/code&gt;中匹配&lt;/p&gt;
&lt;p&gt;method:设置为&lt;code&gt;post&lt;/code&gt;,没有文件大小限制&lt;/p&gt;
&lt;p&gt;enctype:值为&lt;code&gt;multipart/form-data&lt;/code&gt;用于识别是否为文件表单还是普通文本表单&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;form action=&amp;quot;${pageContext.request.contextPath}/upload.do&amp;quot; enctype=&amp;quot;multipart/form-data&amp;quot; method=&amp;quot;post&amp;quot;&amp;gt;
    &amp;lt;input type=&amp;quot;file&amp;quot; name=&amp;quot;file1&amp;quot;&amp;gt;
    &amp;lt;br&amp;gt;
    &amp;lt;input type=&amp;quot;file&amp;quot; name=&amp;quot;file2&amp;quot;&amp;gt;
    &amp;lt;br&amp;gt;
    &amp;lt;input type=&amp;quot;submit&amp;quot;&amp;gt;
    &amp;lt;br&amp;gt;
&amp;lt;/form&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;3-注册webxml&#34;&gt;3. 注册web.xml&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;    &amp;lt;servlet&amp;gt;
        &amp;lt;servlet-name&amp;gt;FileUploadServlet&amp;lt;/servlet-name&amp;gt;
        &amp;lt;servlet-class&amp;gt;com.juyss.servlet.FileUploadServlet&amp;lt;/servlet-class&amp;gt;
    &amp;lt;/servlet&amp;gt;
    &amp;lt;servlet-mapping&amp;gt;
        &amp;lt;servlet-name&amp;gt;FileUploadServlet&amp;lt;/servlet-name&amp;gt;
        &amp;lt;url-pattern&amp;gt;/upload.do&amp;lt;/url-pattern&amp;gt;
    &amp;lt;/servlet-mapping&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;4-编写servlet&#34;&gt;4. 编写Servlet&lt;/h3&gt;
&lt;h4 id=&#34;实现步骤&#34;&gt;实现步骤&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;判断表单为普通文本表单还是文件表单&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;创建上传文件的保存根路径&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;创建临时文件的保存根路径&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;获取&lt;code&gt;FileItem&lt;/code&gt;对象&lt;/p&gt;
&lt;p&gt;​		需要&lt;code&gt;ServletFileUpload&lt;/code&gt;对象&lt;/p&gt;
&lt;p&gt;​				需要用到&lt;code&gt;DiskFileItemFactory&lt;/code&gt;对象,用于处理上传路径和限制文件大小&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;通过&lt;code&gt;FileItem&lt;/code&gt;对象获取文件名,文件后缀&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用UUID创建唯一保存路径&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用&lt;code&gt;fileItem.getInputStream()&lt;/code&gt;获取文件输入流&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;创建文件输出流&lt;code&gt;FileOutputStream fos = new FileOutputStream(savePath + &amp;quot;/&amp;quot; + fileName)&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;关闭流资源,同时删除临时文件&lt;code&gt;fileItem.delete()&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public class FileUploadServlet extends HttpServlet {
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

        System.out.println(&amp;quot;进入了FileUploadServlet.class&amp;quot;);

        //判断表单是否为带有文件的表单
        if (!ServletFileUpload.isMultipartContent(request)) {
            return; //终止方法运行
        }

        //定义文件上传后保存的根路径
        String rootPath = this.getServletContext().getRealPath(&amp;quot;/WEB-INF/upload&amp;quot;);
        File rootFile = new File(rootPath);
        if (!rootFile.exists()) {
            rootFile.mkdir();
        }

        //定义文件缓存路径
        String tempPath = this.getServletContext().getRealPath(&amp;quot;/WEB-INF/temp&amp;quot;);
        File tempFile = new File(tempPath);
        if (!tempFile.exists()) {
            tempFile.mkdir();
        }

        //创建DiskFileItemFactory对象,处理上传路径和限制文件大小
        DiskFileItemFactory fileItemFactory = new DiskFileItemFactory(1024 * 1024, tempFile);

        //创建ServletFileUpload对象
        ServletFileUpload servletFileUpload = new ServletFileUpload(fileItemFactory);

        //获取FileItem对象
        List&amp;lt;FileItem&amp;gt; fileItems = null;
        try {
            fileItems = servletFileUpload.parseRequest(request);
        } catch (FileUploadException e) {
            e.printStackTrace();
        }
        if (fileItems==null){
            System.out.println(&amp;quot;fileItem空指针&amp;quot;);
            return;
        }
        Iterator&amp;lt;FileItem&amp;gt; iterator = fileItems.iterator();

        //遍历fileItems集合
        while (iterator.hasNext()) {
            FileItem fileItem = iterator.next();
            if (fileItem.isFormField()) {//是普通文本表单
                continue; //跳出循环
            } else {//是文件表单
                //获取文件字段名,标签中name属性的值
                String fieldName = fileItem.getFieldName();
                //获取文件上传字段中的文件名,一般来说为为文件名(不包含路径信息),在opera浏览器中可能会包含文件路径信息
                String name = fileItem.getName();
                System.out.println(&amp;quot;文件字段名:&amp;quot;+fieldName);
                System.out.println(&amp;quot;文件名:&amp;quot;+name);

                //判断文件名是否合法
                if (name.trim().equals(&amp;quot;&amp;quot;) || name == null) {
                    continue;
                }

                //获取文件名和文件后缀

                String fileName; //文件名
                if (name.contains(&amp;quot;/&amp;quot;)){ //判断name是否包含路径信息
                    fileName = name.substring(name.lastIndexOf(&amp;quot;/&amp;quot;));
                }else{
                    fileName = name;
                }

                String fileExtension = fileName.substring(fileName.indexOf(&amp;quot;.&amp;quot;) + 1);//获取文件后缀
                System.out.println(&amp;quot;文件名:&amp;quot; + fileName);
                System.out.println(&amp;quot;文件类型:&amp;quot; + fileExtension);
                //获取随机UUID
                String uuid = UUID.randomUUID().toString();

                //使用uuid创建唯一的文件夹作为文件存放路径
                String savePath = rootPath + &amp;quot;/&amp;quot; + uuid; //文件存放路径
                File savePathFile = new File(savePath);
                if (!savePathFile.exists()) { //路径不存在就创建
                    savePathFile.mkdir();
                }

                //获取输入流读取上传的文件
                InputStream is = fileItem.getInputStream();

                //用输出流保存到本地
                FileOutputStream fos = new FileOutputStream(savePath + &amp;quot;/&amp;quot; + fileName);

                int len;
                byte[] bytes = new byte[1024 * 1024];
                while((len = is.read(bytes))!=-1){
                    fos.write(bytes,0,len);
                }

                fos.close();
                is.close();
                //删除临时文件
                fileItem.delete();
            }
        }


    }

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        this.doPost(request, response);
    }
}

&lt;/code&gt;&lt;/pre&gt;
">网页文件上传功能实现</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/mvc-jia-gou-fen-xi/"" data-c="
          &lt;h2 id=&#34;mvc&#34;&gt;MVC&lt;/h2&gt;
&lt;p&gt;简要分析一下MVC三层架构中每个部分的组成与功能&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h3 id=&#34;介绍&#34;&gt;介绍&lt;/h3&gt;
&lt;p&gt;MVC：  Model 			模型&lt;/p&gt;
&lt;p&gt;​			  View   			视图&lt;/p&gt;
&lt;p&gt;​			  Controller  	 控制器&lt;/p&gt;
&lt;h3 id=&#34;m-model-模型&#34;&gt;M    (Model) : 模型&lt;/h3&gt;
&lt;h4 id=&#34;功能&#34;&gt;功能&lt;/h4&gt;
&lt;p&gt;DAO层 : 对数据库进行操作(CRUD)&lt;/p&gt;
&lt;p&gt;Service层 : 处理业务逻辑 , 调用DAO层获取数据&lt;/p&gt;
&lt;h3 id=&#34;v-view-视图&#34;&gt;V    (View) : 视图&lt;/h3&gt;
&lt;h4 id=&#34;功能-2&#34;&gt;功能&lt;/h4&gt;
&lt;p&gt;前端页面 : 展示数据 , 发起 Servlet 请求&lt;/p&gt;
&lt;h3 id=&#34;c-controller-控制&#34;&gt;C    (Controller) : 控制&lt;/h3&gt;
&lt;h4 id=&#34;功能-3&#34;&gt;功能&lt;/h4&gt;
&lt;p&gt;接受请求 , 控制页面跳转 , 调用Service层处理数据&lt;/p&gt;
">MVC架构分析</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/innodb-he-myisam-de-qu-bie/"" data-c="
          &lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;对比项&lt;/th&gt;
&lt;th&gt;外键&lt;/th&gt;
&lt;th&gt;事务&lt;/th&gt;
&lt;th&gt;行表锁&lt;/th&gt;
&lt;th&gt;缓存&lt;/th&gt;
&lt;th&gt;关注点&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;MyISAM&lt;/td&gt;
&lt;td&gt;不支持&lt;/td&gt;
&lt;td&gt;不支持&lt;/td&gt;
&lt;td&gt;表锁,直接锁住整张表&lt;/td&gt;
&lt;td&gt;只缓存索引,不缓存数据&lt;/td&gt;
&lt;td&gt;节省资源,消耗少&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;InnoDB&lt;/td&gt;
&lt;td&gt;支持&lt;/td&gt;
&lt;td&gt;支持&lt;/td&gt;
&lt;td&gt;行锁(适合高并发,会发生死锁)&lt;/td&gt;
&lt;td&gt;数据和索引都缓存&lt;/td&gt;
&lt;td&gt;并发写,事务,消耗资源更大&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;引擎物理存储区别:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;MyIASM:	&lt;code&gt;.frm&lt;/code&gt;表结构定义文件&lt;/p&gt;
&lt;p&gt;​				  &lt;code&gt;.MYD&lt;/code&gt;数据文件&lt;/p&gt;
&lt;p&gt;​				 &lt;code&gt;.MYI&lt;/code&gt;索引文件&lt;/p&gt;
&lt;p&gt;InnoDB:	只有一个&lt;code&gt;.frm&lt;/code&gt;文件&lt;/p&gt;
">InnoDB和MyISAM的区别</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/springboot-zi-dong-pei-zhi-yuan-li/"" data-c="
          &lt;h1 id=&#34;sprigboot自动配置原理&#34;&gt;SprigBoot自动配置原理&lt;/h1&gt;
&lt;!-- more --&gt;
&lt;p&gt;简要总结:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Spring Boot启动的时候会通过@EnableAutoConfiguration注解找到META-INF/spring.factories配置文件中的所有自动配置类，并对其进行加载，而这些自动配置类都是以AutoConfiguration结尾来命名的，它实际上就是一个JavaConfig形式的Spring容器配置类，它能通过以Properties结尾命名的类中取得在全局配置文件中配置的属性如：server.port，而XxxxProperties类是通过@ConfigurationProperties注解与全局配置文件中对应的属性进行绑定的。&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&#34;自动配置流程&#34;&gt;自动配置流程&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;@SpringBootApplication
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;@SpringBootConfiguration ---表明这是一个配置类&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;@Configuration ---表明这是一个配置类&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;@EnableAutoConfiguration ---开启自动配置&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;@AtuoConfigurationPackages ---指示包含注释类的程序包应向AutoConfigurationPackages注册。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;@Import(AutoConfigurationPackages.Registrar.class) ---&amp;gt;静态内部类,用于储存导入的基本包&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;@Import(AutoConfigurationImportSelector.class)   &lt;em&gt;重点&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;selectImports(AnnotationMetadata annotationMetadata){
    ***
    AutoConfigurationEntry autoConfigurationEntry = getAutoConfigurationEntry(autoConfigurationMetadata,
				annotationMetadata);
    ***
}
|
|  调用
V
protected AutoConfigurationEntry getAutoConfigurationEntry(AutoConfigurationMetadata autoConfigurationMetadata,
			AnnotationMetadata annotationMetadata) {
     ***
     List&amp;lt;String&amp;gt; configurations = getCandidateConfigurations(annotationMetadata, attributes);
     ***
 }
|
|  调用
V
protected List&amp;lt;String&amp;gt; getCandidateConfigurations(AnnotationMetadata metadata, AnnotationAttributes attributes) {
	***
	List&amp;lt;String&amp;gt; configurations = SpringFactoriesLoader.loadFactoryNames(getSpringFactoriesLoaderFactoryClass(),
				getBeanClassLoader());
	***
}

&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;@ComponentScan ---&amp;gt;扫描当前类所在包及其子包&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;xxxautoconfiguration配置生效&#34;&gt;XxxAutoConfiguration配置生效&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;首先,要符合条件才能生效&lt;/p&gt;
&lt;p&gt;以下为常见的条件注解&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@ConditionalOnBean：当容器里有指定的bean的条件下。

@ConditionalOnMissingBean：当容器里不存在指定bean的条件下。

@ConditionalOnClass：当类路径下有指定类的条件下。

@ConditionalOnMissingClass：当类路径下不存在指定类的条件下。

@ConditionalOnProperty：指定的属性是否有指定的值，比如@ConditionalOnProperties(prefix=”xxx.xxx”, value=”enable”, matchIfMissing=true)，代表当xxx.xxx为enable时条件的布尔值为true，如果没有设置的情况下也为true。
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;@EnableConfigurationProperties(XxxProperties.calss)注解&lt;/p&gt;
&lt;p&gt;开启配置属性,关联XxxProperties类,在这个类上，我们看到了一个非常熟悉的注解：&lt;strong&gt;@ConfigurationProperties&lt;/strong&gt;，它的作用就是从配置文件中绑定属性到对应的bean上，而**@EnableConfigurationProperties&lt;strong&gt;负责导入这个已经绑定了属性的bean到spring容器中（见上面截图）。那么所有其他的和这个类相关的属性都可以在全局配置文件中定义，也就是说，真正“限制”我们可以在全局配置文件中配置哪些属性的类就是这些&lt;/strong&gt;XxxxProperties**类，它与配置文件中定义的prefix关键字开头的一组属性是唯一对应的。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
">SpringBoot自动配置原理</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/xian-cheng-tong-bu-wen-ti/"" data-c="
          &lt;h2 id=&#34;线程同步&#34;&gt;线程同步&lt;/h2&gt;
&lt;h3 id=&#34;synchronized关键字&#34;&gt;synchronized关键字&lt;/h3&gt;
&lt;h4 id=&#34;方式一同步代码块&#34;&gt;方式一:同步代码块&lt;/h4&gt;
&lt;p&gt;把可能出现线程安全问题的代码包起来&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;synchronized(Object object){
//同步的代码
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;同步监视器(锁):可以是任意一个对象,需要线程共用一把锁&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;继承Thread类的多线程可以使用&lt;code&gt;ClassName.class&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;实现Runnable接口的多线程可使用&lt;code&gt;this&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;方式二同步方法&#34;&gt;方式二:同步方法&lt;/h4&gt;
&lt;p&gt;使用synchronized修饰方法&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;同步监视器(不需要显示声明): 非静态方法,默认为this&lt;/li&gt;
&lt;li&gt;静态方法,同步监视器变为&lt;code&gt;ClassName.class&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
">线程同步问题</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/dan-li-mo-shi-shi-li-dai-ma/"" data-c="
          &lt;p&gt;package singleton;&lt;/p&gt;
&lt;p&gt;/**&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;@author ShmeBluk&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;@version 1.0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;@ClassName: Singleton&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;@Desc: 单例模式示例代码,&lt;code&gt;懒汉式&lt;/code&gt;和&lt;code&gt;饿汉式&lt;/code&gt;两种实现方式&lt;br&gt;
懒汉式:&lt;br&gt;
1. 延迟创建实例&lt;br&gt;
饿汉式:&lt;br&gt;
1. 提前创建实例&lt;br&gt;
2. 线程安全&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;@package singleton&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;@project DailyDemo&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;@date 2020/7/26 18:45&lt;br&gt;
*/&lt;br&gt;
public class Singleton {&lt;br&gt;
public static void main(String[] args) {&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; //饿汉式
 Bank bank1 = Bank.getInstance();
 Bank bank2 = Bank.getInstance();
 System.out.println(bank1==bank2);

 //懒汉式
 Person person1 = Person.getInstance();
 Person person2 = Person.getInstance();
 System.out.println(person1==person2);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;}&lt;br&gt;
}&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;//饿汉式&lt;br&gt;
class Bank {&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//1. 私有化类构造器
private Bank() {
}

//2. 内部创建类的实例
private static Bank instance = new Bank();

//3. 提供公共的静态方法返回类的实例
public static Bank getInstance() {
    return instance;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;//懒汉式&lt;br&gt;
class Person {&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;//声明类的对象
private static Person instance;

//私有化构造器
private Person() {
}

//提供静态方法获取实例
public static Person getInstance() {
    if (instance != null) {
        instance = new Person();
    }
    return instance;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;}&lt;/p&gt;
">单例模式示例代码</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/xiu-gai-maven-xiang-mu-mo-ren-jdk-ban-ben/"" data-c="
          &lt;p&gt;问题：&lt;/p&gt;
&lt;p&gt;1、创建maven项目的时候，jdk版本是1.5版本，而自己安装的是1.7或者1.8版本。&lt;/p&gt;
&lt;p&gt;2、每次右键项目名-maven-&amp;gt;update project 时候，项目jdk版本变了，变回1.5版本或者其他版本&lt;/p&gt;
&lt;p&gt;解决办法如下:&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;此办法修改maven设置文件,以后所有的项目默认JDK版本都为自己设置的&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;修改settings.xml&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;profile&amp;gt;
    &amp;lt;id&amp;gt;jdk-1.8&amp;lt;/id&amp;gt;
     &amp;lt;activation&amp;gt;
          &amp;lt;activeByDefault&amp;gt;true&amp;lt;/activeByDefault&amp;gt;
          &amp;lt;jdk&amp;gt;1.8&amp;lt;/jdk&amp;gt;
      &amp;lt;/activation&amp;gt;
&amp;lt;properties&amp;gt;
&amp;lt;maven.compiler.source&amp;gt;1.8&amp;lt;/maven.compiler.source&amp;gt;
&amp;lt;maven.compiler.target&amp;gt;1.8&amp;lt;/maven.compiler.target&amp;gt;
&amp;lt;maven.compiler.compilerVersion&amp;gt;1.8&amp;lt;/maven.compiler.compilerVersion&amp;gt;
&amp;lt;/properties&amp;gt;
&amp;lt;/profile&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;
&lt;p&gt;更改IDEA设置&lt;br&gt;
&lt;img src=&#34;https://juyss.github.io//post-images/1591630435988.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;如图所示,确保所指文件路径为你修改过的文件&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;重新加载Maven项目&lt;br&gt;
点击如图所示地方,重新加载Maven项目即可&lt;br&gt;
&lt;img src=&#34;https://juyss.github.io//post-images/1591630571223.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;完成修改.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
">修改Maven项目默认JDK版本</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/shu-ju-ku-fang-wen-dui-xiang-dao/"" data-c="
          &lt;h2 id=&#34;dao&#34;&gt;DAO&lt;/h2&gt;
&lt;p&gt;DAO(Database Access Object)数据库访问对象.&lt;br&gt;
一个面向对象的数据库接口，它显露了 Microsoft Jet 数据库引擎（由 Microsoft Access 所使用），并允许 Visual Basic 开发者通过 ODBC 像直接连接到其他数据库一样，直接连接到 Access 表。DAO 最适用于单系统应用程序或小范围本地分布使用。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h4 id=&#34;basedaodao&#34;&gt;BaseDAO(DAO)&lt;/h4&gt;
&lt;p&gt;封装针对于数据表的通用操作&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;package com.DAO;

import org.apache.commons.dbutils.QueryRunner;
import org.apache.commons.dbutils.handlers.BeanHandler;
import org.apache.commons.dbutils.handlers.BeanListHandler;
import org.apache.commons.dbutils.handlers.ScalarHandler;

import java.sql.Connection;
import java.sql.SQLException;
import java.util.List;

/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: BaseDAO
 * @Desc:  封装针对于数据表的通用操作
 * @package com.DAO
 * @project DailyDemo
 * @date 2020/6/4 11:58
 */
public class BaseDAO {

    /**
     * 更新一条数据
     * @param conn  Connection
     * @param sql  String
     * @param args Object
     */
    static int update(Connection conn, String sql,Object ...args) throws SQLException {
        QueryRunner qr = new QueryRunner();
        int update = qr.update(conn, sql, args);
        return update;
    }


    /**
     * 查询一条数据
     * @param conn  Connection
     * @param clazz  Class&amp;lt;T&amp;gt;
     * @param sql  String
     * @param args   Object
     * @param &amp;lt;T&amp;gt; T
     * @return T
     */
    static &amp;lt;T&amp;gt; T select(Connection conn,Class&amp;lt;T&amp;gt; clazz,String sql,Object ...args) throws SQLException {

        BeanHandler&amp;lt;T&amp;gt; bh = new BeanHandler&amp;lt;&amp;gt;(clazz);

        QueryRunner qr = new QueryRunner();
        T query = qr.query(conn, sql, bh, args);

        return query;
    }

    /**
     * 查询多条数据
     * @param conn  Connection
     * @param clazz  Class&amp;lt;T&amp;gt;
     * @param sql  String
     * @param args   Object
     * @param &amp;lt;T&amp;gt; T
     * @return List&amp;lt;T&amp;gt;
     * @throws SQLException e
     */
    static &amp;lt;T&amp;gt; List&amp;lt;T&amp;gt; selectAll(Connection conn, Class&amp;lt;T&amp;gt; clazz, String sql, Object ...args) throws SQLException {

        BeanListHandler&amp;lt;T&amp;gt; bh = new BeanListHandler&amp;lt;&amp;gt;(clazz);

        QueryRunner qr = new QueryRunner();
        List&amp;lt;T&amp;gt; query = qr.query(conn, sql, bh, args);

        return query;
    }

    /**
     * 查询特殊值
     * @param conn  Connection
     * @param clazz  Class&amp;lt;T&amp;gt;
     * @param sql  String
     * @param args   Object
     * @param &amp;lt;T&amp;gt; T
     * @return List&amp;lt;T&amp;gt;
     * @throws SQLException e
     */
    static &amp;lt;T&amp;gt; List&amp;lt;T&amp;gt; getValue(Connection conn,Class&amp;lt;T&amp;gt; clazz,String sql,Object ...args) throws SQLException {

        ScalarHandler&amp;lt;T&amp;gt; sh = new ScalarHandler&amp;lt;&amp;gt;();

        QueryRunner qr = new QueryRunner();
        List&amp;lt;T&amp;gt; execute = qr.execute(conn, sql, sh, args);

        return execute;
    }

}

&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;persondao&#34;&gt;PersonDAO&lt;/h4&gt;
&lt;p&gt;规范针对于Person表的常用操作&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;package com.DAO;

import com.bean.Person;

import java.sql.Connection;
import java.sql.SQLException;
import java.util.List;

/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: PersonDAO
 * @Desc:  规范针对于Person表的常用操作
 * @package com.DAO
 * @project ExampleDemo
 * @date 2020/6/4 14:53
 */
public interface PersonDAO {

    /**
     * 插入一条记录
     * @param conn Connection
     * @param p Person
     */
    void insert(Connection conn ,Person p) throws SQLException;

    /**
     * 更新一条记录
     * @param conn Connection
     * @param id int
     */
    void updateById(Connection conn, Person p ,int id) throws SQLException;

    /**
     * 删除一条记录
     * @param conn Connection
     * @param id int
     */
    void deleteById(Connection conn ,int id) throws SQLException;

    /**
     * 查询
     * @param conn Connection
     * @param id int
     * @return Person
     */
    Person selectById(Connection conn, Person p,int id) throws SQLException;

    /**
     * 查询所有记录
     * @param conn Connection
     * @param aClass  Class&amp;lt;Person&amp;gt;
     * @return List&amp;lt;Person&amp;gt;
     */
    List&amp;lt;Person&amp;gt; selectAll(Connection conn, Class&amp;lt;Person&amp;gt; aClass) throws SQLException;

    /**
     * 查询特殊值
     * @param conn Connection
     * @param &amp;lt;T&amp;gt; T
     * @return List&amp;lt;T&amp;gt;
     */
    &amp;lt;T&amp;gt; List&amp;lt;T&amp;gt; getValues(Connection conn) throws SQLException;
}

&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;persondaoimpl&#34;&gt;PersonDAOImpl&lt;/h4&gt;
&lt;p&gt;作为对Person表的具体操作实现类&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;package com.DAO;

import com.bean.Person;
import com.utils.JdbcUtils;
import org.junit.Test;

import java.sql.Connection;
import java.sql.Date;
import java.sql.SQLException;
import java.util.Iterator;
import java.util.List;

/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: PersonDAOImpl
 * @Desc:  作为对Person表的具体操作实现类
 * @package com.DAO
 * @project ExampleDemo
 * @date 2020/6/4 18:10
 */
public class PersonDAOImpl extends BaseDAO implements PersonDAO {

    @Override
    public void insert(Connection conn, Person p) throws SQLException {
        String sql = &amp;quot;insert into `person` values (null,?,?,?,?)&amp;quot;;
        int update = update(conn, sql, null, p.getName(), p.getAge(), p.getGender(), p.getBirthday());
        System.out.println(update + &amp;quot;条数据被修改&amp;quot;);
    }

    @Override
    public void updateById(Connection conn, Person p, int id) throws SQLException {
        String sql = &amp;quot;update `person` set `name` = ? , `age` = ? , `gender` = ? , `birthday` = ? where `id` = ? &amp;quot;;
        int update = update(conn, sql, p.getName(), p.getAge(), p.getGender(), p.getBirthday(), id);
        System.out.println(update + &amp;quot;条数据被修改&amp;quot;);
    }

    @Override
    public void deleteById(Connection conn, int id) throws SQLException {
        String sql = &amp;quot;delete from `person` where `id` = ? &amp;quot;;
        int update = update(conn, sql, id);
        System.out.println(update + &amp;quot;条数据被修改&amp;quot;);
    }

    @Override
    public Person selectById(Connection conn, Person p, int id) throws SQLException {
        String sql = &amp;quot;select * from `person` where `id` = ?&amp;quot;;
        Person person = select(conn, p.getClass(), sql, id);
        return person;
    }

    @Override
    public List&amp;lt;Person&amp;gt; selectAll(Connection conn, Class&amp;lt;Person&amp;gt; aClass) throws SQLException {
        String sql = &amp;quot;select * from `person`&amp;quot;;
        List&amp;lt;Person&amp;gt; people = selectAll(conn, Person.class, sql);
        return people;
    }


    @Override
    public &amp;lt;T&amp;gt; List&amp;lt;T&amp;gt; getValues(Connection conn) throws SQLException {
        String sql = &amp;quot;select count(*) from `person`&amp;quot;;
        List&amp;lt;Long&amp;gt; getValue = getValue(conn, Long.class, sql);
        return (List&amp;lt;T&amp;gt;) getValue;
    }

    /**
     * 测试更新数据
     */
    @Test
    public void Test01() {
        Connection conn = JdbcUtils.getConnection();
        Date date = new Date(165456156146L);
        Person person = new Person(0, &amp;quot;Dell&amp;quot;, 10, &amp;quot;女&amp;quot;, date);
        try {
            updateById(conn, person, 21);
        } catch (SQLException throwables) {
            throwables.printStackTrace();
        } finally {
            JdbcUtils.closeResource(conn);
        }
    }

    /**
     * 测试查询数据
     */
    @Test
    public void Test02() {
        Connection conn = null;
        try {
            conn = JdbcUtils.getConnection();
            List&amp;lt;Person&amp;gt; people = selectAll(conn, Person.class);

            Iterator&amp;lt;Person&amp;gt; iterator = people.iterator();
            while (iterator.hasNext()) {
                Person person = iterator.next();
                System.out.println(person.toString());
            }
        } catch (SQLException throwables) {
            throwables.printStackTrace();
        } finally {
            JdbcUtils.closeResource(conn);
        }
    }

    /**
     * 查询特殊值
     */
    @Test
    public void Test03() {
        Connection conn = null;
        try {
            conn = JdbcUtils.getConnection();
            List&amp;lt;Object&amp;gt; values = getValues(conn);
            values.forEach(System.out::println);
        } catch (SQLException throwables) {
            throwables.printStackTrace();
        } finally {
            JdbcUtils.closeResource(conn);
        }
    }
}

&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;bean&#34;&gt;Bean&lt;/h2&gt;
&lt;h4 id=&#34;person&#34;&gt;Person&lt;/h4&gt;
&lt;p&gt;对应数据库中person表&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;package com.bean;

import java.sql.Date;

/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: Person
 * @Desc: 对应数据库中person表
 * @package com.bean
 * @project DailyDemo
 * @date 2020/6/4 11:49
 */
public class Person {

    private int id;
    private String name;
    private int age;
    private String gender;
    private Date birthday;

    public Person() {
    }

    public Person(int id, String name, int age, String gender, Date birthday) {
        this.id = id;
        this.name = name;
        this.age = age;
        this.gender = gender;
        this.birthday = birthday;
    }

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public String getGender() {
        return gender;
    }

    public void setGender(String gender) {
        this.gender = gender;
    }

    public Date getBirthday() {
        return birthday;
    }

    public void setBirthday(Date birthday) {
        this.birthday = birthday;
    }

    @Override
    public String toString() {
        return &amp;quot;Person{&amp;quot; +
                &amp;quot;id=&amp;quot; + id +
                &amp;quot;, name=&#39;&amp;quot; + name + &#39;\&#39;&#39; +
                &amp;quot;, age=&amp;quot; + age +
                &amp;quot;, gender=&#39;&amp;quot; + gender + &#39;\&#39;&#39; +
                &amp;quot;, birthday=&amp;quot; + birthday +
                &#39;}&#39;;
    }
}

&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;utils&#34;&gt;Utils&lt;/h2&gt;
&lt;h4 id=&#34;dbutils&#34;&gt;DbUtils&lt;/h4&gt;
&lt;p&gt;JDBC工具类, 使用 &lt;code&gt;druid&lt;/code&gt;用于获取数据库连接和关闭资源&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;package com.utils;

import com.alibaba.druid.pool.DruidDataSourceFactory;
import org.apache.commons.dbutils.DbUtils;
import org.junit.Test;

import javax.sql.DataSource;
import java.io.IOException;
import java.io.InputStream;
import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.Statement;
import java.util.Properties;

/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: JdbcUtils
 * @Desc: JDBC工具类, 用于获取数据库连接和关闭资源
 * @package com.utils
 * @project DailyDemo
 * @date 2020/6/4 12:00
 */
public class JdbcUtils {

    /**
     * Druid数据库连接池获取连接
     *
     * @return Connection实例
     */
    public static Connection getConnection() {

        InputStream is = null;
        Connection conn;
        try {
            is = ClassLoader.getSystemClassLoader().getResourceAsStream(&amp;quot;resource\\druid.properties&amp;quot;);

            Properties prop = new Properties();

            prop.load(is);
            DataSource ds = DruidDataSourceFactory.createDataSource(prop);
            conn = ds.getConnection();
            System.out.println(&amp;quot;获得数据库连接&amp;quot;);
            return conn;
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            try {
                if (is != null)
                    is.close();
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
        return null;
    }

    /**
     * 关闭资源
     *
     * @param conn Connection 对象
     * @param stmt Statement 对象
     * @param rs   ResultSet 对象
     */
    public static void closeResource(Connection conn, Statement stmt, ResultSet rs) {

        if (rs != null) {
            DbUtils.closeQuietly(rs);
            System.out.println(rs.getClass() + &amp;quot;关闭完成&amp;quot;);
        } else if (stmt != null) {
            DbUtils.closeQuietly(stmt);
            System.out.println(stmt.getClass() + &amp;quot;关闭完成&amp;quot;);
        } else if (conn != null) {
            DbUtils.closeQuietly(conn);
            System.out.println(conn.getClass() + &amp;quot;关闭完成&amp;quot;);
        }

    }

    /**
     * 重载方法
     * @param conn  Connection
     * @param rs ResultSet
     */
    public static void closeResource(Connection conn, ResultSet rs) {

        if (rs != null) {
            DbUtils.closeQuietly(rs);
            System.out.println(rs.getClass() + &amp;quot;关闭完成&amp;quot;);
        } else if (conn != null) {
            DbUtils.closeQuietly(conn);
            System.out.println(conn.getClass() + &amp;quot;关闭完成&amp;quot;);
        }

    }

    /**
     * 重载方法
     * @param conn  Connection
     * @param stmt  Statement
     */
    public static void closeResource(Connection conn, Statement stmt) {

        if (stmt != null) {
            DbUtils.closeQuietly(stmt);
            System.out.println(stmt.getClass() + &amp;quot;关闭完成&amp;quot;);
        } else if (conn != null) {
            DbUtils.closeQuietly(conn);
            System.out.println(conn.getClass() + &amp;quot;关闭完成&amp;quot;);
        }

    }

    /**
     * 重载
     * @param conn Connection
     */
    public static void closeResource(Connection conn) {

        if (conn != null) {
            DbUtils.closeQuietly(conn);
            System.out.println(conn.getClass() + &amp;quot;关闭完成&amp;quot;);
        }

    }

    /**
     * 测试方法 getConnection() 和 closeResource()
     */
    @Test
    public void Test01() {
        Connection conn = getConnection();
        System.out.println(conn);
        closeResource(conn, null, null);
    }
}

&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;resource&#34;&gt;resource&lt;/h4&gt;
&lt;p&gt;druid.properties配置文件&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-properties&#34;&gt;url=jdbc:mysql://localhost:3306/dailytext?serverTimezone=UTC
username=user1
password=102850
driverClassName=com.mysql.cj.jdbc.Driver
initialSiize=10
maxActive=10
&lt;/code&gt;&lt;/pre&gt;
">数据库访问对象DAO</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/jdbc-xiang-guan-pei-zhi-he-cao-zuo/"" data-c="
          &lt;h4 id=&#34;获取数据库连接的几种方式以及preparedstatement和statement的对比&#34;&gt;获取数据库连接的几种方式以及PreparedStatement和Statement的对比&lt;/h4&gt;
&lt;!-- more --&gt;
&lt;h2 id=&#34;获取数据库连接的几种方式&#34;&gt;获取数据库连接的几种方式&lt;/h2&gt;
&lt;p&gt;ps.数据库URL : String url = &amp;quot;jdbc:mysql://localhost:3306/dailytext?useSSL=false&amp;amp;serverTimezone=UTC&amp;quot;&lt;/p&gt;
&lt;p&gt;​	 MySQL5.0--&amp;gt;driverClass=&amp;quot;com.mysql.jdbc.Driver&amp;quot;;&lt;/p&gt;
&lt;p&gt;​     MySQL8.0--&amp;gt;driverClass=&amp;quot;com.mysql.cj.jdbc.Driver&amp;quot;;&lt;/p&gt;
&lt;h4 id=&#34;通过driver实例获取&#34;&gt;通过Driver实例获取&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;//创建Driver对象
Driver driver = new Driver();
//数据库URL
String url = &amp;quot;jdbc:mysql://localhost:3306/dailytext?useSSL=false&amp;amp;serverTimezone=UTC&amp;quot;;
//Properties存放用户名和密码
Properties prop = new Properties();
prop.setProperty(&amp;quot;user&amp;quot;, &amp;quot;user1&amp;quot;);
prop.setProperty(&amp;quot;password&amp;quot;, &amp;quot;102850&amp;quot;);
//调用connect(),传入url和prop
Connection connect = driver.connect(url, prop);
//获得连接
System.out.println(connect);
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;通过drivermanager获取&#34;&gt;通过DriverManager获取&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public class Jdbc8Test01 {

    // MySQL 8.0 以上版本 - JDBC 驱动名及数据库 URL
    static final String JDBC_DRIVER = &amp;quot;com.mysql.cj.jdbc.Driver&amp;quot;;
    static final String DB_URL = &amp;quot;jdbc:mysql://localhost:3306/dailytext?useSSL=false&amp;amp;serverTimezone=UTC&amp;quot;;

    // 数据库的用户名与密码
    static final String USER = &amp;quot;root&amp;quot;;
    static final String PASS = &amp;quot;102850&amp;quot;;

    public static void main(String[] args) {

        Connection conn = null;
        Statement stmt = null;
        try {
            // 注册 JDBC 驱动
            Class.forName(JDBC_DRIVER);

            // 打开链接
            System.out.println(&amp;quot;连接数据库...&amp;quot;);
            conn = DriverManager.getConnection(DB_URL, USER, PASS);

            // 执行查询
            System.out.println(&amp;quot; 实例化Statement对象...&amp;quot;);
            stmt = conn.createStatement();
            String sql;
            sql = &amp;quot;SELECT id, name, url FROM websites&amp;quot;;
            ResultSet rs = stmt.executeQuery(sql);

            // 展开结果集数据库
            while (rs.next()) {
                // 通过字段检索
                int id = rs.getInt(&amp;quot;id&amp;quot;);
                String name = rs.getString(&amp;quot;name&amp;quot;);
                String url = rs.getString(&amp;quot;url&amp;quot;);

                // 输出数据
                System.out.print(&amp;quot;ID: &amp;quot; + id);
                System.out.print(&amp;quot;, 站点名称: &amp;quot; + name);
                System.out.print(&amp;quot;, 站点 URL: &amp;quot; + url);
                System.out.print(&amp;quot;\n&amp;quot;);
            }
            // 完成后关闭
            rs.close();
            stmt.close();
            conn.close();
        } catch (Exception se) {
            // 处理 JDBC 错误
            se.printStackTrace();
        }// 处理 Class.forName 错误
        finally {
            // 关闭资源
            try {
                if (stmt != null) stmt.close();
            } catch (SQLException se2) {
            }// 什么都不做
            try {
                if (conn != null) conn.close();
            } catch (SQLException se) {
                se.printStackTrace();
            }
        }
        System.out.println(&amp;quot;Goodbye!&amp;quot;);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;从配置文件获取信息&#34;&gt;从配置文件获取信息&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;配置文件内容&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;user=root
password=102850
url=jdbc:mysql://localhost:3306/dailytext?useSSL=false&amp;amp;serverTimezone=UTC
#MySQL8.0以上版本 JDBC 驱动名
driverClass=com.mysql.cj.jdbc.Driver
#MySQL8.0以下版本 JDBC 驱动名
#driverClass=com.mysql.jdbc.Driver
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;实例代码&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;//获取输入流(两种方法)
InputStream is = Jtest01.class.getClassLoader().getResourceAsStream(&amp;quot;jdbc.properties&amp;quot;);
//main方法中文件路径为Project下
FileInputStream fis = new FileInputStream(&amp;quot;TEST02\\src\\jdbc.properties&amp;quot;);

Properties prop = new Properties();
prop.load(fis);

//获取配置信息
String user = prop.getProperty(&amp;quot;user&amp;quot;);
String password = prop.getProperty(&amp;quot;password&amp;quot;);
String url = prop.getProperty(&amp;quot;url&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;String driverClass = prop.getProperty(&amp;quot;driverClass&amp;quot;);&lt;/p&gt;
&lt;p&gt;//注册驱动&lt;br&gt;
Class.forName(driverClass);&lt;/p&gt;
&lt;p&gt;//获得Connection对象,建立与数据库的连接&lt;br&gt;
Connection connection1 = DriverManager.getConnection(url, user, password);&lt;br&gt;
Connection connection2 = DriverManager.getConnection(url, prop);&lt;/p&gt;
&lt;p&gt;System.out.println(connection1);&lt;br&gt;
System.out.println(connection2);&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;```
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;druid数据库连接池&#34;&gt;druid数据库连接池&lt;/h4&gt;
&lt;p&gt;配置文件druid.proterties&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-properties&#34;&gt;url=jdbc:mysql://localhost:3306/dailytext?serverTimezone=UTC
username=user1
password=102850
driverClassName=com.mysql.cj.jdbc.Driver
initialSiize=10
maxActive=10
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;代码实现&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;
//从数据库连接池获取连接
Properties prop = new Properties();

//ClassLoader.getSystemClassLoader().getResourceAsStream(&amp;quot;String pathName&amp;quot;)
// 此种方式读取文件位置默认为src目录下(在main方法和在@Test方法中路径一样)
InputStream is = ClassLoader.getSystemClassLoader().getResourceAsStream(&amp;quot;Resource\\druid.properties&amp;quot;);

//FileInputStream(&amp;quot;String pathName&amp;quot;)
// 在main方法中,此种方式读取文件位置默认为Project目录下
// 在@Test方法中,此种方式读取文件位置默认为Module目录下
// FileInputStream is = new FileInputStream(&amp;quot;JDBC\\src\\Resource\\druid.properties&amp;quot;);
prop.load(is);
DataSource source = DruidDataSourceFactory.createDataSource(prop);
Connection conn = source.getConnection();
System.out.println(conn);
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;preparedstatement对比statement的优点&#34;&gt;PreparedStatement对比Statement的优点&lt;/h2&gt;
&lt;p&gt;(好处是基于PreparedStatement的预编译SQL语句功能)&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;解决SQL语句拼串的问题&lt;/li&gt;
&lt;li&gt;解决SQL注入问题&lt;/li&gt;
&lt;li&gt;实现对Blob类型的字段操作&lt;/li&gt;
&lt;li&gt;提高批量操作时的效率&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;对数据库执行操作&#34;&gt;对数据库执行操作&lt;/h2&gt;
&lt;h4 id=&#34;步骤&#34;&gt;步骤&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;1.创建文件输入流,从配置文件读取配置信息,
    ①.文件输入流位于main方法中时文件读取位置在Project目录下
    ②.文件输入流位于@Test方法中时文件读取位置在Module目录下
2.传入文件流
3.读取配置信息
4.加载JDBC驱动
5.通过DriverManager创建connection对象,获取数据库连接
6.编写SQL语句,使用占位符
7.创建statement(PreparedStatement)对象,传入SQL语句进行预编译
8.填充占位符
9.执行SQL操作
10.关闭资源
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;示例代码&#34;&gt;示例代码&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public static void main(String[] args) {

    FileInputStream fis = null;
    Connection conn = null;
    PreparedStatement pst = null;

    try {
        //获取文件输入流(main方法中文件位置在当前Project下)
        fis = new FileInputStream(&amp;quot;JDBC\\jdbc.properties&amp;quot;);

        //传入文件流
        Properties prop = new Properties();
        prop.load(fis);

        //读取配置信息
        String url = prop.getProperty(&amp;quot;url&amp;quot;);
        String driverClass = prop.getProperty(&amp;quot;driverClass&amp;quot;);
        System.out.println(url);
        System.out.println(driverClass);

        //加载JDBC驱动
        Class.forName(driverClass);

        //获取数据库连接
        conn = DriverManager.getConnection(url, prop);
        System.out.println(conn);

        //预编译SQL语句
        //String sql = &amp;quot;INSERT INTO person(`name`,`age`,`gender`,`birthday`)VALUES(?,?,?,?)&amp;quot;;
        String sql = &amp;quot;update person set `name`=? where `name`=?&amp;quot;;
        pst = conn.prepareStatement(sql);

        //填充占位符
        pst.setString(1, &amp;quot;Eclipse&amp;quot;);
        pst.setString(2, &amp;quot;Idea&amp;quot;);

        //执行操作(Insert;Update;Delete)
        boolean execute = pst.execute();
        System.out.println(execute);
    } catch (Exception e) {
        e.printStackTrace();
    } finally {
        //关闭连接
        try {
            if (pst!=null)
                pst.close();
        } catch (SQLException throwables) {
            throwables.printStackTrace();
        }
        try {
            if (conn!=null)
                conn.close();
        } catch (SQLException throwables) {
            throwables.printStackTrace();
        }
        try {
            if (fis!=null)
                fis.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

}
&lt;/code&gt;&lt;/pre&gt;
">JDBC相关配置和操作</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/java-zhong-du-qu-wen-jian-de-ji-chong-lu-jing-pei-zhi/"" data-c="
          &lt;h4 id=&#34;获取配置文件的两种方式区别&#34;&gt;获取配置文件的两种方式区别&lt;/h4&gt;
&lt;!-- more --&gt;
&lt;h6 id=&#34;classloadergetsystemclassloadergetresourceasstream&#34;&gt;ClassLoader.getSystemClassLoader().getResourceAsStream()&lt;/h6&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;//ClassLoader.getSystemClassLoader().getResourceAsStream(&amp;quot;String pathName&amp;quot;) 
// 此种方式读取文件位置默认为src目录下(在main方法和在@Test方法中路径一样)
InputStream is = ClassLoader.getSystemClassLoader().getResourceAsStream(&amp;quot;Resource\\druid.properties&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;
&lt;h6 id=&#34;fileinputstream&#34;&gt;FileInputStream()&lt;/h6&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;//FileInputStream(&amp;quot;String pathName&amp;quot;) 
// 在main方法中,此种方式读取文件位置默认为Project目录下
// 在@Test方法中,此种方式读取文件位置默认为Module目录下
FileInputStream is = new FileInputStream(&amp;quot;JDBC\\src\\Resource\\druid.properties&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;getresourceasstream的区别&#34;&gt;getResourceAsStream的区别&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;Class.getResourceAsStream(String path)&lt;/code&gt; ： path 不以&lt;code&gt;’/&#39;&lt;/code&gt;开头时默认是从此类所在的包下取资源，以&lt;code&gt;’/&#39;&lt;/code&gt;开头则是从ClassPath根下获取。其只是通过path构造一个绝对路径，最终还是由ClassLoader获取资源。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Class.getClassLoader.getResourceAsStream(String path)&lt;/code&gt; ：默认则是从ClassPath根下获取，path不能以&lt;code&gt;’/&#39;&lt;/code&gt;开头，最终是由ClassLoader获取资源。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ServletContext. getResourceAsStream(String path)&lt;/code&gt;：默认从WebAPP根目录下取资源，Tomcat下path是否以&lt;code&gt;’/&#39;&lt;/code&gt;开头无所谓。&lt;/li&gt;
&lt;/ol&gt;
">Java中读取文件的几种路径配置</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/liang-chong-huo-qu-inputstream-dui-xiang-de-fang-fa/"" data-c="
          &lt;p&gt;总结两种获取InputStream对象的方法的区别&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;&lt;code&gt;getResourceAsStream(String path)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;默认path路径位于Class所在Module的src目录下 .&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;InputStream is = ClassLoader.getSystemClassLoader().getResourceAsStream(&amp;quot;jdbc.properties&amp;quot;);

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;FileInputStream(&amp;quot;String path&amp;quot;)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;在main方法中时, 默认路径为为Project下; 在@Test单元测试方法中路径为当前Class所在Module目录下 .&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;FileInputStream is = new FileInputStream(&amp;quot;jdbc.properties&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;
">两种获取InputStream对象的方法</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/shi-wu-ge-chi-ji-bie/"" data-c="
          &lt;h3 id=&#34;事务隔离级别学习总结&#34;&gt;事务隔离级别学习总结&lt;/h3&gt;
&lt;!-- more --&gt;
&lt;h2 id=&#34;事务的四个属性&#34;&gt;事务的四个属性&lt;/h2&gt;
&lt;h5 id=&#34;原子性&#34;&gt;原子性&lt;/h5&gt;
&lt;p&gt;每一个事务都是一个不可分割的部分，事务中的操作要么都发生，要么都不发生。&lt;/p&gt;
&lt;h5 id=&#34;隔离性&#34;&gt;隔离性&lt;/h5&gt;
&lt;p&gt;一个事务不被其他事物的数据所干扰,多个并发事务互相隔离&lt;/p&gt;
&lt;h5 id=&#34;一致性&#34;&gt;一致性&lt;/h5&gt;
&lt;p&gt;一个事务执行会从一种统一的状态,改变为另一种统一的状态.事务前后数据完整性保持一致.&lt;/p&gt;
&lt;h5 id=&#34;持久性&#34;&gt;持久性&lt;/h5&gt;
&lt;p&gt;一旦事务被提交就持久化到文件中,不可改变&lt;/p&gt;
&lt;h2 id=&#34;事务的并发问题&#34;&gt;事务的并发问题&lt;/h2&gt;
&lt;h5 id=&#34;脏读&#34;&gt;脏读&lt;/h5&gt;
&lt;p&gt;一个事务读取了另一事物未提交的数据&lt;/p&gt;
&lt;h5 id=&#34;不可重复读&#34;&gt;不可重复读&lt;/h5&gt;
&lt;p&gt;一个事务在多次读取某一数据的期间,另一事务对数据进行了&lt;code&gt;update&lt;/code&gt;操作并且&lt;code&gt;commit&lt;/code&gt;,导致的数据多次读取过程中出现不一致的现象,主要针对于 &lt;code&gt;update&lt;/code&gt; 操作 .&lt;/p&gt;
&lt;h5 id=&#34;幻读&#34;&gt;幻读&lt;/h5&gt;
&lt;p&gt;一个事务在多次读取某一数据的期间,另一事务对数据进行了&lt;code&gt;insert&lt;/code&gt;并且&lt;code&gt;commit&lt;/code&gt;,导致的数据多次读取过程中出现不一致的现象,主要针对于 &lt;code&gt;insert&lt;/code&gt; 操作 .&lt;/p&gt;
&lt;h2 id=&#34;事物的隔离级别&#34;&gt;事物的隔离级别&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;事务隔离级别&lt;/th&gt;
&lt;th&gt;脏读&lt;/th&gt;
&lt;th&gt;不可重复读&lt;/th&gt;
&lt;th&gt;幻读&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;读未提交(read-uncommitted)&lt;/td&gt;
&lt;td&gt;存在&lt;/td&gt;
&lt;td&gt;存在&lt;/td&gt;
&lt;td&gt;存在&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;读已提交(read-committed)&lt;/td&gt;
&lt;td&gt;不存在&lt;/td&gt;
&lt;td&gt;存在&lt;/td&gt;
&lt;td&gt;存在&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;可重复读(repeatable-read)&lt;/td&gt;
&lt;td&gt;不存在&lt;/td&gt;
&lt;td&gt;不存在&lt;/td&gt;
&lt;td&gt;存在&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;串行化(serializable)&lt;/td&gt;
&lt;td&gt;不存在&lt;/td&gt;
&lt;td&gt;不存在&lt;/td&gt;
&lt;td&gt;不存在&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;事务并发问题代码演示&#34;&gt;事务并发问题代码演示&lt;/h2&gt;
&lt;h5 id=&#34;事务相关操作代码&#34;&gt;事务相关操作代码&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;-- 创建表
CREATE TABLE `bank` (
	`id` INT NOT NULL AUTO_INCREMENT COMMENT &#39;账号&#39;,
	`name` VARCHAR(10) NOT NULL,
	`pwd` VARCHAR(30) NOT NULL,
	`balance` INT NOT NULL DEFAULT 0,
	PRIMARY KEY (`id`)
)ENGINE=INNODB CHARSET=utf8;

-- 查看表属性
DESC `bank`;

-- 修改多个字段名(change)或者字段属性(modify)
ALTER TABLE `bank` 
MODIFY `pwd` VARCHAR(50),
CHANGE `name` `user` VARCHAR(20);

-- 插入数据
INSERT INTO `bank`
(`user`,`pwd`,`balance`)
VALUES
(&#39;Rick&#39;,MD5(&#39;123456&#39;),2000),
(&#39;Beth&#39;,MD5(&#39;000000&#39;),3000),
(&#39;Jerry&#39;,MD5(&#39;102850&#39;),1000),
(&#39;Summer&#39;,MD5(&#39;123456&#39;),500),
(&#39;Morty&#39;,MD5(&#39;123456&#39;),500);

-- 查看表
SELECT * FROM `bank`;

-- 事务隔离级别练习

SHOW VARIABLES LIKE &#39;autocommit&#39;; -- 查看自动提交状态
SET autocommit=0; -- 关闭自动提交
-- 查看事务隔离级别
SHOW VARIABLES LIKE &#39;transaction_isolation&#39;; -- MySQL默认repeatable-read
SELECT @@transaction_isolation;  -- 全局
SELECT @@session.transaction_isolation; -- 当前会话

-- 设置事务隔离级别(不加 session 为设置全局)
SET SESSION TRANSACTION ISOLATION LEVEL
-- read uncommitted; -- 读未提交
-- read committed; -- 读已提交(避免脏读)
-- repeatable read; -- 可重复读(避免脏读和不可重复读)
-- serializable; -- 串行化

-- 开启事务
START TRANSACTION; 
/*
create
insert
update
drop
delete
truncate
*/

COMMIT; -- 提交
ROLLBACK; -- 回滚
-- 结束事务

SET autocommit=1; -- 事务结束后开启自动提交
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;autocommit属性&#34;&gt;autocommit属性&lt;/h5&gt;
&lt;p&gt;DDL操作一旦执行就会自动提交,不能更改属性(如创建表)&lt;/p&gt;
&lt;p&gt;DML默认自动提交,可以修改(增删改查)&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;MySQL默认开启自动提交,即autocommit=1;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;默认一条SQL语句就为一个事务,执行完毕后便自动提交,&lt;/p&gt;
&lt;p&gt;此种情况下开启事务&lt;code&gt;start transaction&lt;/code&gt;;MySQL会把之间的SQL语句作为一个事务执行,直到&lt;code&gt;commit&lt;/code&gt;或者&lt;code&gt;rollback&lt;/code&gt;,才会持久化到数据库中&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;
&lt;p&gt;设置autocommit=0后&lt;/p&gt;
&lt;p&gt;即使没有执行&lt;code&gt;start transaction&lt;/code&gt;,系统也默认开始事务，语句执行完毕后不会持久化到数据库,直到执行&lt;code&gt;commit&lt;/code&gt;或者&lt;code&gt;rollback&lt;/code&gt;才会提交,持久化到数据库&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;事务并发问题代码&#34;&gt;事务并发问题代码&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;SELECT @@session.tx_isolation;   
SELECT @@tx_isolation;  

  
SET SESSION TRANSACTION ISOLATION LEVEL read uncommitted;  
SET SESSION TRANSACTION ISOLATION LEVEL read committed;  
SET SESSION TRANSACTION ISOLATION LEVEL repeatable read;  
SET SESSION TRANSACTION ISOLATION LEVEL serializable;  

start transaction;

--建表
drop table AMOUNT;
CREATE TABLE `AMOUNT` (
`id`  varchar(10) NULL,
`money`  numeric NULL
)
;
--插入数据
insert into amount(id,money) values(&#39;A&#39;, 800);
insert into amount(id,money) values(&#39;B&#39;, 200);
insert into amount(id,money) values(&#39;C&#39;, 1000);
--测试可重复读，插入数据
insert into amount(id,money) values(&#39;D&#39;, 1000);

--设置事务
SET SESSION TRANSACTION ISOLATION LEVEL read uncommitted;  
SELECT @@tx_isolation;  
--开启事务
start transaction;

--脏读演示，读到其他事务未提交的数据
--案列1，事务一：A向B转200，事务二：查看B金额变化，事务一回滚事务
update amount set money = money - 200 where id = &#39;A&#39;;
update amount set money = money + 200 where id = &#39;B&#39;;

--不可重复读演示，读到了其他事务提交的数据
--案列2，事务一：B向A转200，事务二：B向C转200转100
SET SESSION TRANSACTION ISOLATION LEVEL read committed;  

--开启事务
start transaction;
--两个事务都查一下数据(转账之前需要，查一下金额是否够满足转账)
select * from amount;
--事务一：B向A转200
update amount set money = money - 200 where id = &#39;B&#39;;
update amount set money = money + 200 where id = &#39;A&#39;;

commit;
--事务二：B向C转200转100
update amount set money = money - 100 where id = &#39;B&#39;;
update amount set money = money + 100 where id = &#39;C&#39;;
commit;
--从事务二的角度来看，读到了事务一提交事务的数据，导致金额出现负数

--幻读演示
--案列3，事务一：B向A转200，事务二：B向C转200转100
SET SESSION TRANSACTION ISOLATION LEVEL repeatable read;  

--开启事务
start transaction;
--两个事务都查一下数据(转账之前需要，查一下金额是否够满足转账)
select * from amount;
--事务一：B向A转200
update amount set money = money - 200 where id = &#39;B&#39;;
update amount set money = money + 200 where id = &#39;A&#39;;

commit;
--事务二：B向C转200转100
update amount set money = money - 100 where id = &#39;B&#39;;
update amount set money = money + 100 where id = &#39;C&#39;;
commit;
--从事务二的角度来看，读到了事务一提交事务的数据，导致金额出现负数

&lt;/code&gt;&lt;/pre&gt;
">事务隔离级别</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/html-he-css/"" data-c="
          &lt;h2 id=&#34;表单&#34;&gt;表单&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;form标签就是表单
    input type=text     是文件输入框  value设置默认显示内容
    input type=password 是密码输入框  value设置默认显示内容
    input type=radio    是单选框    name属性可以对其进行分组   checked=&amp;quot;checked&amp;quot;表示默认选中
    input type=checkbox 是复选框   checked=&amp;quot;checked&amp;quot;表示默认选中
    input type=reset    是重置按钮      value属性修改按钮上的文本
    input type=submit   是提交按钮      value属性修改按钮上的文本
    input type=button   是按钮          value属性修改按钮上的文本
    input type=file     是文件上传域
    input type=hidden   是隐藏域    当我们要发送某些信息，而这些信息，不需要用户参与，就可以使用隐藏域（提交的时候同时发送给服务器）

    select 标签是下拉列表框
    option 标签是下拉列表框中的选项 selected=&amp;quot;selected&amp;quot;设置默认选中

    textarea 表示多行文本输入框 （起始标签和结束标签中的内容是默认值）
        rows 属性设置可以显示几行的高度
        cols 属性设置每行可以显示几个字符宽度
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;    form标签是表单标签
        action属性设置提交的服务器地址
        method属性设置提交的方式GET(默认值)或POST

    表单提交的时候，数据没有发送给服务器的三种情况：
        1、表单项没有name属性值
        2、单选、复选（下拉列表中的option标签）都需要添加value属性，以便发送给服务器
        3、表单项不在提交的form标签中

    GET请求的特点是：
        1、浏览器地址栏中的地址是：action属性[+?+请求参数]
            请求参数的格式是：name=value&amp;amp;name=value
        2、不安全
        3、它有数据长度的限制

    POST请求的特点是：
        1、浏览器地址栏中只有action属性值
        2、相对于GET请求要安全
        3、理论上没有数据长度的限制&lt;/code&gt;&lt;/pre&gt;
">HTML和CSS</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/using-zergba-and-slider-widgets-to-control-virtual-and-physical-rgb-led/"" data-c="
          &lt;p&gt;This code will allow zeRGBa or individual Red Blue Green Sliders to control the colour of both a Virtual LED (vRGB LED) and any physical one connected to the device.&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;使用Arduino UNO和W5100网络扩展板,通过Blynk平台,控制RGB灯,LED灯,读取温度信息&lt;br&gt;
W5100占用&lt;code&gt;pin[10,11,12,13]&lt;/code&gt;,还有一个SD卡复位引脚&lt;br&gt;
用PWM引脚控制共阴RGB彩灯&lt;code&gt;(R:pin3 G:pin5 B:pin6)&lt;/code&gt;&lt;br&gt;
IO引脚控制LED灯&lt;code&gt;(pin7)&lt;/code&gt;&lt;br&gt;
DS18B20温度传感器信号引脚&lt;code&gt;(pin2)&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-C++&#34;&gt;#define BLYNK_PRINT Serial


#include &amp;lt;SPI.h&amp;gt;
#include &amp;lt;Ethernet.h&amp;gt;
#include &amp;lt;BlynkSimpleEthernet.h&amp;gt;
#include &amp;lt;OneWire.h&amp;gt;
#include &amp;lt;DallasTemperature.h&amp;gt;

#define W5100_CS  10
#define SDCARD_CS 4
// 数据输出脚接开发板数字引脚2,正极和信号脚之间接一个4.7K欧姆的电阻
#define ONE_WIRE_BUS 2

OneWire oneWire(ONE_WIRE_BUS);
DallasTemperature sensors(&amp;amp;oneWire);

BlynkTimer timer;


// Define your Physical RGB LED pins here
#define RedPin 3  // Set RED RGB pin   pin3PWM
#define GrnPin 5  // Set GREEN RGB pin pin5
#define BluPin 6  // Set BLUE RGB pin  pin6

// Define your Virtual pins here
#define zeRGBa V0  // Set virtual RGB widget
#define rSlide V1  // Set virtual RGB widget
#define gSlide V2  // Set virtual RGB widget
#define bSlide V3  // Set virtual RGB widget
#define vRed V4  // Set virtual Red LED widget
#define vGreen V5  // Set virtual Green LED widget
#define vBlue V6  // Set virtual Blue LED widget
#define vRGB V7  // Set virtual RGB widget
#define HEXdisplay V8  // Set virtual RGB widget

int rrr, ggg, bbb;  // Set RED BLUE GREEN channels


// You should get Auth Token in the Blynk App项目秘钥
char auth[] = &amp;quot;lcO6bY4nLagj_JSluxbPtg8ooH4sKcYX&amp;quot;; //项目名称:W5100_zeRGB
//char auth[] = &amp;quot;bGflzsrkCC04r0sRuF_s6Vebzo45kTbZ&amp;quot;;//项目名称:共阴RGB控制
//char ssid[] = &amp;quot;Tenda_A0D9B8&amp;quot;;
//char pass[] = &amp;quot;yang1314ai&amp;quot;;
//char server[] = &amp;quot;xxx.xxx.xxx.xxx&amp;quot;;  // IP for your Local Server
char server[] = &amp;quot;iot.haotech.xyz&amp;quot;;  // URL for Blynk Cloud Server IP地址
int port = 8080; //端口号



void setup() {
  Serial.begin(9600);  // BLYNK_PRINT data

  pinMode(SDCARD_CS, OUTPUT);
  digitalWrite(SDCARD_CS, HIGH); // Deselect the SD card
  pinMode(RedPin, OUTPUT);  // Set RED pinMode
  pinMode(GrnPin, OUTPUT);  // Set GREEN pinMode
  pinMode(BluPin, OUTPUT);  // Set BLUE pinMode

  Blynk.virtualWrite(vRGB, 255);  // Activate vRGB
  Blynk.setProperty(vRGB, &amp;quot;color&amp;quot;, &amp;quot;#000000&amp;quot;);  // Set vRGB to Black

//  WiFi.begin(ssid, pass); 
//  Blynk.config(auth, server, port);
//  Blynk.connect();
  Blynk.begin(auth ,server , port);
  sensors.begin();
//定时
  timer.setInterval(5000, getTemp);
}



BLYNK_CONNECTED() {
  Blynk.syncAll();  // Synchronize hardware with App widgets when connected
}



void loop() {
  Blynk.run();
  timer.run();
}



//===== RED slider =====
BLYNK_WRITE(rSlide) { // START Blynk Function
  rrr = param.asInt(); // get a RED channel value
  Blynk.virtualWrite(vRed, rrr);  // Red LED intensity
  Blynk.virtualWrite(zeRGBa, rrr, ggg, bbb);  // Sync zeRGBa position
  RGBprocess(); // Run Arduino funtion
}  // END Blynk Function


//===== GREEN slider =====
BLYNK_WRITE(gSlide) { // START Blynk Function
  ggg = param.asInt(); // get a GREEN channel value
  Blynk.virtualWrite(vGreen, ggg);  // Green LED intensity
  Blynk.virtualWrite(zeRGBa, rrr, ggg, bbb);  // Sync zeRGBa position
  RGBprocess(); // Run Arduino funtion
}  // END Blynk Function


//===== BLUE slider =====
BLYNK_WRITE(bSlide) { // START Blynk Function
  bbb = param.asInt(); // get a BLUE channel value
  Blynk.virtualWrite(vBlue, bbb);  // Blue LED intensity
  Blynk.virtualWrite(zeRGBa, rrr, ggg, bbb);  // Sync zeRGBa position
  RGBprocess(); // Run Arduino funtion
}  // END Blynk Function



//===== zeRGBa Widget  =====
BLYNK_WRITE(zeRGBa) { // START Blynk Function
  rrr = param[0].asInt(); // get a RED channel value
  ggg = param[1].asInt(); // get a GREEN channel value
  bbb = param[2].asInt(); // get a BLUE channel value
  Blynk.virtualWrite(rSlide, rrr);  // Sync RED Slider position
  Blynk.virtualWrite(vRed, rrr);  // Red LED intensity
  Blynk.virtualWrite(gSlide, ggg);  // Sync Green slider position
  Blynk.virtualWrite(vGreen, ggg);  // Green LED intensity
  Blynk.virtualWrite(bSlide, bbb);  // Sinc Blue slider position
  Blynk.virtualWrite(vBlue, bbb);  // Blue LED intensity
  RGBprocess(); // Run Arduino funtion
}  // END Blynk Function



//===== Physical RGB LED Control and HEX conversion =====
void RGBprocess() {  // START Arduino funtion

  /*----- Comment out unneeded grouping based on device and RGB type ----- */
  // ESP with Common Anode+ RGB LED (共阳RGB灯)
//   analogWrite(RedPin, (255 - rrr) * 4 + 4); // Write to RED RGB pin
//   analogWrite(GrnPin, (255 - ggg) * 4 + 4); // Write to GREEN RGB pin
//   analogWrite(BluPin, (255 - bbb) * 4 + 4); // Write to BLUE RGB pin

  // ESP with Common Cathode- RGB LED (共阴RGB灯)
  analogWrite(RedPin, rrr*4+4);  // Write to RED RGB pin
  analogWrite(GrnPin, ggg*4+4);  // Write to GREEN RGB pin
  analogWrite(BluPin, bbb*4+4);  // Write to BLUE RGB pin

  // Arduino with Common Anode+ RGB LED
  //analogWrite(RedPin, 255-rrr);  // Write to RED RGB pin
  //analogWrite(GrnPin, 255-ggg);  // Write to GREEN RGB pin
  //analogWrite(BluPin, 255-bbb);  // Write to BLUE RGB pin

  // Arduino with Common Cathode- RGB LED
  //analogWrite(RedPin, rrr);  // Write to RED RGB pin
  //analogWrite(GrnPin, ggg);  // Write to GREEN RGB pin
  //analogWrite(BluPin, bbb);  // Write to BLUE RGB pin
  /*-----------------------------------------------------------------------*/

  String strRED = String(rrr, HEX);  // Convert RED DEC to HEX
  if (rrr &amp;lt; 16) {
    strRED = String(&amp;quot;0&amp;quot; + strRED);  // Buffer with 0 if required
  }  // END if
  String strGRN = String(ggg, HEX);  // Convert GREEN DEC to HEX
  if (ggg &amp;lt; 16)  {
    strGRN = String(&amp;quot;0&amp;quot; + strGRN);  // Buffer with 0 if required
  }  // END if
  String strBLU = String(bbb, HEX);  // Convert BLUE DEC to HEX
  if (bbb &amp;lt; 16)  {
    strBLU = String(&amp;quot;0&amp;quot; + strBLU);  // Buffer with 0 if required
  }  // END if
  String HEXstring = String(&amp;quot;#&amp;quot; + strRED + strGRN + strBLU);  // Combine HEX fragments
  HEXstring.toUpperCase();  // Change HEX value to all upper case for ease of visuals
  Blynk.setProperty(HEXdisplay, &amp;quot;color&amp;quot;, HEXstring);  // Change background colour of HEX Data Label
  Blynk.virtualWrite(HEXdisplay, HEXstring);  // Display HEX data
  Blynk.setProperty(vRGB, &amp;quot;color&amp;quot;, HEXstring);  // Send formatted HEX colour to vRGB
}  // END Arduino Function

//获取温湿度函数
void getTemp() {

  sensors.requestTemperatures(); // 获取温度
  Serial.print(&amp;quot;Temperature for the device 1 (index 0) is: &amp;quot;);
  float val = sensors.getTempCByIndex(0);
  Serial.println(val); 

 //发送给app
  Blynk.virtualWrite(V10,val); 
//  delay(2000);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;APP界面如下图&lt;br&gt;
&lt;img src=&#34;https://juyss.github.io//post-images/1590985856684.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
">Using zeRGBa and Slider Widgets to control virtual and physical RGB LED</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/gridea-bo-ke-wu-fa-zai-ru-css-yang-shi-de-jie-jue-ban-fa/"" data-c="
          &lt;p&gt;👉今日在使用Gridea客户端更新博客的过程中,推送到远端仓库后内容显示正常,但是无法载入主题样式,就是没有载入CSS样式,折腾了一下午在搞懂问题出在哪里了,下面说一下自己的解决思路.&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h4 id=&#34;问题描述&#34;&gt;问题描述&lt;/h4&gt;
&lt;p&gt;😵首先,文章写完后,push到远程仓库,查看网站发现CSS样式没有载入,设置的主题没有生效,然后怀疑是CSS样式文件的问题,又重新push了一遍,问题依旧.&lt;/p&gt;
&lt;h4 id=&#34;解决过程&#34;&gt;解决过程&lt;/h4&gt;
&lt;p&gt;然后怀疑可能是远程仓库的原因,push操作没有更新CSS文件,然后直接上传了本地的CSS文件,发现问题依旧存在.&lt;br&gt;
然后又怀疑是本地仓库的问题,将output文件夹文件内容删除后,重新push,然而还是没有解决.&lt;br&gt;
然后又在官网重新下载了Gridea客户端(发生了一个小插曲,网页上放了GitHub和Gitee的源,发现Gitee的下载速度还不如GitHub的下载速度),重新安装.push,还是没解决.&lt;/p&gt;
&lt;h4 id=&#34;解决办法&#34;&gt;解决办法&lt;/h4&gt;
&lt;p&gt;😄最后突然想到自己的远程配置页面域名重新配置过,写的是仓库的域名,更换为静态页面的域名后问题顺利解决.&lt;/p&gt;
&lt;h4 id=&#34;问题思考&#34;&gt;问题思考&lt;/h4&gt;
&lt;p&gt;🙄推测是Gridea生成HTML网页时CSS的link地址是根据域名来的,由于我填的是项目的域名,导致无法找到文件,而且在部署完成的主页内点击任何链接都会跳转到Coding的登录页面,所以导致无法正确载入文件,不只是CSS文件,应该是所有的文件都无法载入.&lt;/p&gt;
&lt;h4 id=&#34;配置参考图片&#34;&gt;配置参考图片&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;正确配置域名信息&lt;/strong&gt; (静态页面域名)&lt;br&gt;
&lt;img src=&#34;https://juyss.github.io//post-images/1590924410945.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://juyss.github.io//post-images/1590924522127.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;错误配置域名信息&lt;/strong&gt; (项目域名)&lt;br&gt;
&lt;img src=&#34;https://juyss.github.io//post-images/1590924493053.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://juyss.github.io//post-images/1590924531297.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
">Gridea博客无法载入CSS样式的解决办法</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/spring-zheng-he-mybatis/"" data-c="
          &lt;h3 id=&#34;mybatis-springxml&#34;&gt;Mybatis-Spring.xml&lt;/h3&gt;
&lt;!-- more --&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;beans xmlns=&amp;quot;http://www.springframework.org/schema/beans&amp;quot;
       xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
       xmlns:context=&amp;quot;http://www.springframework.org/schema/context&amp;quot;
       xsi:schemaLocation=&amp;quot;http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd&amp;quot;&amp;gt;

    &amp;lt;context:property-placeholder location=&amp;quot;classpath:jdbc.properties&amp;quot;/&amp;gt;

    &amp;lt;!-- 注册datasource --&amp;gt;
    &amp;lt;bean name=&amp;quot;datasource&amp;quot; class=&amp;quot;org.springframework.jdbc.datasource.DriverManagerDataSource&amp;quot;&amp;gt;
        &amp;lt;property name=&amp;quot;username&amp;quot; value=&amp;quot;${jdbc.username}&amp;quot;/&amp;gt;
        &amp;lt;property name=&amp;quot;password&amp;quot; value=&amp;quot;${jdbc.password}&amp;quot;/&amp;gt;
        &amp;lt;property name=&amp;quot;driverClassName&amp;quot; value=&amp;quot;${jdbc.driver}&amp;quot;/&amp;gt;
        &amp;lt;property name=&amp;quot;url&amp;quot; value=&amp;quot;${jdbc.url}&amp;quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;

    &amp;lt;!-- 注册SqlSessionFactory --&amp;gt;
    &amp;lt;bean id=&amp;quot;sqlSessionFactory&amp;quot; class=&amp;quot;org.mybatis.spring.SqlSessionFactoryBean&amp;quot;&amp;gt;
        &amp;lt;property name=&amp;quot;dataSource&amp;quot; ref=&amp;quot;datasource&amp;quot;/&amp;gt;
        &amp;lt;property name=&amp;quot;configLocation&amp;quot; value=&amp;quot;mybatis/mybatis-config.xml&amp;quot;/&amp;gt;
        &amp;lt;property name=&amp;quot;mapperLocations&amp;quot; value=&amp;quot;mybatis/mapper/*.xml&amp;quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;

    &amp;lt;!-- SqlSessionTemplate等同于SqlSession --&amp;gt;
    &amp;lt;bean id=&amp;quot;sqlSessionTemplate&amp;quot; class=&amp;quot;org.mybatis.spring.SqlSessionTemplate&amp;quot;&amp;gt;
        &amp;lt;!--     此类没有set方法,只能用构造器注入参数 --&amp;gt;
        &amp;lt;constructor-arg index=&amp;quot;0&amp;quot; ref=&amp;quot;sqlSessionFactory&amp;quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;

&amp;lt;/beans&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;applicationcontextxml&#34;&gt;ApplicationContext.xml&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;beans xmlns=&amp;quot;http://www.springframework.org/schema/beans&amp;quot;
       xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;
       xsi:schemaLocation=&amp;quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&amp;quot;&amp;gt;

    &amp;lt;import resource=&amp;quot;Mybatis-Spring.xml&amp;quot;/&amp;gt;

&amp;lt;!--    注册UserMapperImpl --&amp;gt;
    &amp;lt;bean id=&amp;quot;userMapperImpl&amp;quot; class=&amp;quot;com.juyss.mapper.impl.UserMapperImpl&amp;quot;&amp;gt;
        &amp;lt;property name=&amp;quot;sqlSessionTemplate&amp;quot; ref=&amp;quot;sqlSessionTemplate&amp;quot;/&amp;gt;
    &amp;lt;/bean&amp;gt;

&amp;lt;/beans&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;jdbcproperties&#34;&gt;jdbc.properties&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-prop&#34;&gt;jdbc.driver=com.mysql.cj.jdbc.Driver
jdbc.url=jdbc:mysql://localhost:3306/mybatis?useSSL=true&amp;amp;serverTimezone=UTC&amp;amp;useUnicode=true&amp;amp;characterEncoding=UTF-8
jdbc.username=
jdbc.password=
&lt;/code&gt;&lt;/pre&gt;
">Spring整合Mybatis</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/mysql/"" data-c="
          &lt;h2 id=&#34;mysql学习记录&#34;&gt;MySQL学习记录&lt;/h2&gt;
&lt;p&gt;DDL : 数据库定义语句(Datebase Define Language)&lt;br&gt;
DML : 数据管理语句(Datebase Manage Language)&lt;br&gt;
DQL : 数据库查询语言(Datebase Query Language)&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h5 id=&#34;数据库定义语句datebase-define-language&#34;&gt;数据库定义语句(Datebase Define Language)&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;-- DDL语句
SHOW DATABASES; -- 列出所有数据库
CREATE DATABASE `dailytext`; -- 创建数据库
DROP DATABASE `dailyText`; -- 删除数据库
USE `dailytext`; -- 更换数据库
SHOW TABLES; -- 列出数据表
CREATE TABLE IF NOT EXISTS `person` (
	`id` INT AUTO_INCREMENT,
	`name` VARCHAR(10) NOT NULL,
	`age` INT,
	`gender` ENUM (&#39;man&#39;,&#39;woman&#39;,&#39;other&#39;),
	`bd` DATE,
	PRIMARY KEY (`id`)
)ENGINE=INNODB ,CHARSET=utf8 ; -- 创建表
DESC person; -- 显示表结构
ALTER TABLE persons RENAME person; -- 重命名表名
ALTER TABLE person ADD gender VARCHAR(3) DEFAULT &#39;男&#39; COMMENT &#39;性别&#39;; -- 添加字段
ALTER TABLE `person` ADD `married` ENUM(&#39;yes&#39;,&#39;no&#39;) DEFAULT NULL first/after Column_Name; -- 指定位置添加字段
ALTER TABLE `person` MODIFY `married` VARCHAR(5) DEFAULT NULL; -- 只能修改字段属性以及字段长度
ALTER TABLE `person` CHANGE `married` `marry` VARCHAR(10) DEFAULT NULL; -- 修改字段名,字段属性以及字段长度
ALTER TABLE `person` DROP `marryy`; -- 删除字段


-- delete，drop，truncate 都有删除表的作用，区别在于：
/*
 1、delete 和 truncate 仅仅删除表数据，drop 连表数据和表结构一起删除，打个比方，delete 是单杀，truncate 是团灭，drop 是把电脑摔了。
 2、delete 是 DML 语句，操作完以后如果没有不想提交事务还可以回滚，truncate 和 drop 是 DDL 语句，操作完马上生效，不能回滚，打个比方，delete 是发微信说分手，后悔还可以撤回，truncate 和 drop 是直接扇耳光说滚，不能反悔。
 3、执行的速度上，drop&amp;gt;truncate&amp;gt;delete，打个比方，drop 是神舟火箭，truncate 是和谐号动车，delete 是自行车。
 */
TRUNCATE TABLE `person`; -- 删除表内容,自增列计数器清空
DELETE TABLE `person`; -- 删除表内容,自增列计数器不清空
							-- 若数据表使用InnoDB引擎,重启数据库后自增列会清零,数据保存在内存中
							-- 若数据表使用MyISAM引擎,重启数据库后自增列也不会清零,数据保存在文件中
DROP TABLE `person`; -- 删除表内容和结构
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;数据管理语句datebase-manage-language&#34;&gt;数据管理语句(Datebase Manage Language)&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;-- DML语句
   -- 添加一条数据
      -- 方式一
	INSERT INTO person
	VALUES (NULL,&#39;Mariya&#39;,12,&#39;女&#39;);
      -- 方式二
        INSERT INTO person
        (`name`,`age`,`gender`,`birthday`)
        VALUES
        (&#39;jicka&#39;,16,&#39;女&#39;,NOW());

   -- 修改一条数据
	UPDATE person
	SET `name`=&#39;Rick&#39; ,`age`=13 , `gender`=DEFAULT
	WHERE `name`=&#39;Mariya&#39; OR `age`=12; 
	
	UPDATE person
	SET age=50
	WHERE `name`=&#39;Rick&#39;;
	
	UPDATE person
	SET `birthday`=&#39;1956-02-29&#39; -- 设置时间格式为字符串
	WHERE `name`=&#39;Rick&#39;;
	
	UPDATE person
	SET `birthday`=CURRENT_TIME
	WHERE id&amp;gt;1 AND id &amp;lt;14;
	
	
	-- 删除一条数据(自增列不清除,会继续原来的增加)
    DELETE FROM `person`
    WHERE `name`=&#39;Gazor&#39;;
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;数据库查询语言datebase-query-language&#34;&gt;数据库查询语言(Datebase Query Language)&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;-- DQL语句
-- 基本查询语句:
SELECT * FROM cartoon;

-- 连接查询
/* 
内连接 :显示两表都有的内容,where和on无区别,应搭配on
语法:
	select column_name 
	from A 
	inner join B 
	where/on A.column_name=B.column_name
*/
SELECT c.`name` 姓名,c.`married` 已婚,p.`age` 年龄,p.`gender` 性别1,c.`gender` 性别2
FROM `cartoon` c
INNER JOIN `person` p
ON c.`name` = p.`name`
ORDER BY c.`id`;


/* 左连接 :左表为主表(A),结果显示左表中全部信息,右表中不存在的字段名用 NULL 填充
语法: 
	select column_name 
	from A 
	left join B 
	on A.column_name=B.column_name
*/
SELECT p.`name` 姓名,p.`gender` 性别1,c.`gender` 性别2,c.`married` 已婚
FROM person p LEFT JOIN cartoon c
ON p.`name`=c.`name`;


/* 右连接 :右表为主表(A),结果显示右表中全部信息,左表中不存在的字段内容用 NULL 填充
语法: 
	select column_name 
	from A 
	right join B 
	on A.column_name=B.column_name
*/
SELECT p.`name` 姓名,p.`gender` 性别1,c.`gender` 性别2,c.`married` 已婚
FROM person p RIGHT JOIN cartoon c
ON p.`name`=c.`name`;

SELECT p.`name` 姓名,p.`gender` 性别1,c.`gender` 性别2,c.`married` 已婚
FROM cartoon c RIGHT JOIN person p
ON p.`name`=c.`name`; -- 此结果和上面左连接查询例子一致

SELECT p.`name` 姓名,p.`gender` 性别1,c.`gender` 性别2,c.`married` 已婚
FROM dailytext.`cartoon` c RIGHT JOIN shmebluk.`person` p
ON p.`name`=c.`name`; -- 可选择不同数据库的表连接,用 datebase.table_name 选择
&lt;/code&gt;&lt;/pre&gt;
">MySQL</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/mybatis-xue-xi-bi-ji/"" data-c="
          &lt;h2 id=&#34;基本入门&#34;&gt;基本入门&lt;/h2&gt;
&lt;!-- more --&gt;
&lt;h4 id=&#34;创建测试表&#34;&gt;创建测试表&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;CREATE DATABASE `mybatis`;

USE `mybatis`;

CREATE TABLE `user`(
	`id` INT(20) NOT NULL,
	`name` VARCHAR(30) DEFAULT NULL,
	`pwd` VARCHAR(30) DEFAULT NULL,
	PRIMARY KEY(`id`)

)ENGINE=INNODB CHARSET=utf8;

INSERT INTO `user` 
(`id`,`name`,`pwd`)
VALUES
(1,&#39;狂神&#39;,&#39;123456&#39;),
(2,&#39;张三&#39;,&#39;102850&#39;),
(3,&#39;李四&#39;,&#39;000000&#39;);

SELECT * FROM `user`;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;创建项目&#34;&gt;创建项目&lt;/h4&gt;
&lt;h5 id=&#34;项目结构&#34;&gt;项目结构&lt;/h5&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://juyss.github.io//post-images/1608355529266.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h6 id=&#34;userclass&#34;&gt;User.class&lt;/h6&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: User
 * @Desc:  实体类
 * @package com.juyss.pojo
 * @project Mybatis
 * @date 2020/8/25 18:32
 */
public class User {

    private int id;
    private String name;
    private String pwd;

    public User() {
    }

    public User(int id, String name, String pwd) {
        this.id = id;
        this.name = name;
        this.pwd = pwd;
    }

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getPwd() {
        return pwd;
    }

    public void setPwd(String pwd) {
        this.pwd = pwd;
    }

    @Override
    public String toString() {
        return &amp;quot;User{&amp;quot; +
                &amp;quot;id=&amp;quot; + id +
                &amp;quot;, name=&#39;&amp;quot; + name + &#39;\&#39;&#39; +
                &amp;quot;, pwd=&#39;&amp;quot; + pwd + &#39;\&#39;&#39; +
                &#39;}&#39;;
    }
}

&lt;/code&gt;&lt;/pre&gt;
&lt;h6 id=&#34;mybatis-configxml&#34;&gt;mybatis-config.xml&lt;/h6&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;
&amp;lt;!DOCTYPE configuration
        PUBLIC &amp;quot;-//mybatis.org//DTD Config 3.0//EN&amp;quot;
        &amp;quot;http://mybatis.org/dtd/mybatis-3-config.dtd&amp;quot;&amp;gt;
&amp;lt;configuration&amp;gt;
    
&amp;lt;!--    日志实现:默认控制台打印--&amp;gt;   
    &amp;lt;settings&amp;gt;
        &amp;lt;setting name=&amp;quot;logImpl&amp;quot; value=&amp;quot;STDOUT_LOGGING&amp;quot;/&amp;gt;
    &amp;lt;/settings&amp;gt;

&amp;lt;!--    环境配置--&amp;gt;
    &amp;lt;environments default=&amp;quot;development&amp;quot;&amp;gt;
        &amp;lt;environment id=&amp;quot;development&amp;quot;&amp;gt;
            &amp;lt;transactionManager type=&amp;quot;JDBC&amp;quot;/&amp;gt;
            &amp;lt;dataSource type=&amp;quot;POOLED&amp;quot;&amp;gt;
                &amp;lt;!--数据库配置信息--&amp;gt;
                &amp;lt;property name=&amp;quot;driver&amp;quot; value=&amp;quot;com.mysql.cj.jdbc.Driver&amp;quot;/&amp;gt;
                &amp;lt;property name=&amp;quot;url&amp;quot; value=&amp;quot;jdbc:mysql://localhost:3306/mybatis?useSSL=true&amp;amp;amp;serverTimezone=UTC&amp;amp;amp;useUnicode=true&amp;amp;amp;characterEncoding=UTF-8&amp;quot;/&amp;gt;
                &amp;lt;property name=&amp;quot;username&amp;quot; value=&amp;quot;user04&amp;quot;/&amp;gt;
                &amp;lt;property name=&amp;quot;password&amp;quot; value=&amp;quot;102850&amp;quot;/&amp;gt;
            &amp;lt;/dataSource&amp;gt;
        &amp;lt;/environment&amp;gt;
    &amp;lt;/environments&amp;gt;

&amp;lt;!--    映射配置文件--&amp;gt;
    &amp;lt;mappers&amp;gt;
        &amp;lt;mapper resource=&amp;quot;Mybatis/Mapper/UserMapper.xml&amp;quot; /&amp;gt;
    &amp;lt;/mappers&amp;gt;

&amp;lt;/configuration&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h6 id=&#34;mybatisutilscalss&#34;&gt;MybatisUtils.calss&lt;/h6&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;/**
 * @author ShmeBluk
* @version 1.0
 * @ClassName: MybatisUtils
 * @Desc:  Mybatis工具类包
 * @package com.juyss.util
 * @project Mybatis
 * @date 2020/8/25 18:02
 */
public class MybatisUtils {

    /**
     * 从SqlSessionFactory中可以获取SqlSession实例
     */
    private static SqlSessionFactory sqlSessionFactory;

    //获取sqlSessionFactory对象
    static{
        try {
            String resource = &amp;quot;Mybatis/mybatis-config.xml&amp;quot;;
            InputStream is = Resources.getResourceAsStream(resource);
            sqlSessionFactory = new SqlSessionFactoryBuilder().build(is);
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    /**
     * 获取SqlSession对象
     * @return SqlSession实例
     */
    public static SqlSession getSqlSession(){
        return sqlSessionFactory.openSession();
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h6 id=&#34;usermapperclass&#34;&gt;UserMapper.class&lt;/h6&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: UserMapper
 * @Desc:  User数据库访问对象
 * @package com.juyss.dao
 * @project Mybatis
 * @date 2020/8/25 18:34
 */
public interface UserMapper {

    /**
     * 获取用户列表
     * @return List&amp;lt;User&amp;gt; 用户列表
     */
    List&amp;lt;User&amp;gt; getUserList();

    /**
     * 根据id查询用户
     * @param id Integer 用户ID
     * @return User 查询到的用户
     */
    User getUserById(int id);

    /**
     * 添加一个用户数据
     * @param user
     * @return
     */
    int insertUser(User user);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h6 id=&#34;usermapperxml&#34;&gt;UserMapper.xml&lt;/h6&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;
&amp;lt;!DOCTYPE mapper
        PUBLIC &amp;quot;-//mybatis.org//DTD Mapper 3.0//EN&amp;quot;
        &amp;quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&amp;quot;&amp;gt;
&amp;lt;!--namespace:绑定一个对应的DAO接口--&amp;gt;
&amp;lt;!--id:接口方法名; resultType:返回值类型实体类--&amp;gt;
&amp;lt;mapper namespace=&amp;quot;com.juyss.mapper.UserMapper&amp;quot;&amp;gt;

&amp;lt;!--    获取用户列表--&amp;gt;
    &amp;lt;select id=&amp;quot;getUserList&amp;quot; resultType=&amp;quot;com.juyss.pojo.User&amp;quot;&amp;gt;
        select * from `mybatis`.`user`
    &amp;lt;/select&amp;gt;

&amp;lt;!--    根据id查询用户--&amp;gt;
    &amp;lt;select id=&amp;quot;getUserById&amp;quot; parameterType=&amp;quot;int&amp;quot; resultType=&amp;quot;com.juyss.pojo.User&amp;quot;&amp;gt;
        select * from `mybatis`.`user` where `id`=#{id}
    &amp;lt;/select&amp;gt;

&amp;lt;!--    添加一条数据--&amp;gt;
    &amp;lt;insert id=&amp;quot;insertUser&amp;quot; parameterType=&amp;quot;com.juyss.pojo.User&amp;quot;&amp;gt;
        insert into `mybatis`.`user` (`id`,`name`,`pwd`) values (#{id},#{name},#{pwd})
    &amp;lt;/insert&amp;gt;

&amp;lt;/mapper&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;测试&#34;&gt;测试&lt;/h4&gt;
&lt;h6 id=&#34;usermappertestcalss&#34;&gt;UserMapperTest.calss&lt;/h6&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: UserMapperTest
 * @Desc:  UserDao测试类
 * @package com.juyss.dao
 * @project Mybatis
 * @date 2020/8/25 19:34
 */
public class UserMapperTest {

    @Test
    public void getUserListTest(){
        SqlSession sqlSession = null;
        try {
            //获取SqlSession对象
            sqlSession = MybatisUtils.getSqlSession();

            //方式一:getMapper()
            UserMapper mapper = sqlSession.getMapper(UserMapper.class);
            List&amp;lt;User&amp;gt; userList = mapper.getUserList();
            for (User user : userList) {
                System.out.println(user);
            }
        } finally {
            //关闭SqlSession
            if (sqlSession!=null){
                sqlSession.close();
                System.out.println(&amp;quot;sqlSession关闭了&amp;quot;);
            }
        }
    }

    @Test
    public void getUserByIdTest(){
        SqlSession sqlSession = null;
        try {
            //获取SqlSession对象
            sqlSession = MybatisUtils.getSqlSession();

            //方式一:getMapper()
            UserMapper mapper = sqlSession.getMapper(UserMapper.class);
            User user01 = mapper.getUserById(1);
            User user02 = mapper.getUserById(2);
            User user03 = mapper.getUserById(3);
            System.out.println(user01);
            System.out.println(user02);
            System.out.println(user03);
        } finally {
            //关闭SqlSession
            if (sqlSession!=null){
                sqlSession.close();
                System.out.println(&amp;quot;sqlSession关闭了&amp;quot;);
            }
        }
    }

    @Test
    public void insertUserTest(){
        SqlSession sqlSession = null;
        try {
            sqlSession = MybatisUtils.getSqlSession();

            UserMapper mapper = sqlSession.getMapper(UserMapper.class);
            int update = mapper.insertUser(new User(4, &amp;quot;哈哈&amp;quot;, &amp;quot;102850&amp;quot;));
            System.out.println(update);
            sqlSession.commit();
        } finally {
            if (sqlSession!=null){
                System.out.println(&amp;quot;连接关闭&amp;quot;);
                sqlSession.close();
            }
        }

    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;配置&#34;&gt;配置&lt;/h2&gt;
&lt;h3 id=&#34;类型别名typealiases&#34;&gt;类型别名（typeAliases）&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;类型别名是为 Java 类型设置一个短的名字。‘&lt;/li&gt;
&lt;li&gt;存在的意义仅在于用来减少类完全限定名的冗余。&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;    &amp;lt;!--可以给实体类起别名--&amp;gt;
    &amp;lt;typeAliases&amp;gt;
        &amp;lt;typeAlias type=&amp;quot;com.kuang.pojo.User&amp;quot; alias=&amp;quot;user&amp;quot;/&amp;gt;
    &amp;lt;/typeAliases&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;也可以指定一个包名，MyBatis 会在包名下面搜索需要的 Java Bean，比如：&lt;/p&gt;
&lt;p&gt;扫描实体类的包，它的默认别名就为这个类的 类名，首字母小写&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!--可以给实体类起别名--&amp;gt;
&amp;lt;typeAliases&amp;gt;
    &amp;lt;package name=&amp;quot;com.kuang.pojo&amp;quot;/&amp;gt;
&amp;lt;/typeAliases&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;在实体类比较少的时候，使用第一种方式。&lt;/p&gt;
&lt;p&gt;如果实体类十分多，建议使用第二种。&lt;/p&gt;
&lt;p&gt;第一种可以DIY别名，第二种则·不行·，如果非要改，需要在实体上增加注解&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Alias(&amp;quot;user&amp;quot;)
public class User {}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;映射器mappers&#34;&gt;映射器（mappers）&lt;/h3&gt;
&lt;p&gt;MapperRegistry：注册绑定我们的Mapper文件；&lt;/p&gt;
&lt;p&gt;方式一： 【推荐使用】&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!--每一个Mapper.XML都需要在Mybatis核心配置文件中注册！--&amp;gt;
&amp;lt;mappers&amp;gt;
    &amp;lt;mapper resource=&amp;quot;com/kuang/dao/UserMapper.xml&amp;quot;/&amp;gt;
&amp;lt;/mappers&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;方式二：使用class文件绑定注册&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!--每一个Mapper.XML都需要在Mybatis核心配置文件中注册！--&amp;gt;
&amp;lt;mappers&amp;gt;
    &amp;lt;mapper class=&amp;quot;com.kuang.dao.UserMapper&amp;quot;/&amp;gt;
&amp;lt;/mappers&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;注意点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;接口和他的Mapper配置文件必须同名！&lt;/li&gt;
&lt;li&gt;接口和他的Mapper配置文件必须在同一个包下！&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;方式三：使用扫描包进行注入绑定&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;!--每一个Mapper.XML都需要在Mybatis核心配置文件中注册！--&amp;gt;
&amp;lt;mappers&amp;gt;
    &amp;lt;package name=&amp;quot;com.kuang.dao&amp;quot;/&amp;gt;
&amp;lt;/mappers&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;注意点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;接口和他的Mapper配置文件必须同名！&lt;/li&gt;
&lt;li&gt;接口和他的Mapper配置文件必须在同一个包下！&lt;/li&gt;
&lt;/ul&gt;
">Mybatis学习笔记</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/ji-ben-shu-ju-lei-xing-he-bao-zhuang-lei-hu-xiang-zhuan-huan/"" data-c="
          &lt;h1 id=&#34;基本数据类型-包装类&#34;&gt;基本数据类型--&amp;gt;包装类&lt;/h1&gt;
&lt;h3 id=&#34;调用包装类的构造器&#34;&gt;调用包装类的构造器&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;int i = 10;
Integer integer = new Integer(i);
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;boolean b = true;
Boolean boolean1 = new Boolean(b);
Boolean boolean2 = new Boolean(true); //true
Boolean boolean3 = new Boolean(&amp;quot;True&amp;quot;); //true,不区分大小写
Boolean boolean3 = new Boolean(&amp;quot;true123&amp;quot;); //false
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;包装类-基本数据类型&#34;&gt;包装类--&amp;gt;基本数据类型&lt;/h1&gt;
&lt;h3 id=&#34;调用包装类的xxxvalue方法&#34;&gt;调用包装类的xxxValue()方法&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;Integer integer = new Integer(10);
int i = integer.intValue();
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;自动装箱和自动拆箱&#34;&gt;自动装箱和自动拆箱&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;int i = 10;
Integer integer = new Integer();
integer = i; //自动装箱
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;基本数据类型-string&#34;&gt;基本数据类型&amp;lt;--&amp;gt;String&lt;/h1&gt;
&lt;h3 id=&#34;基本数据类型-string-2&#34;&gt;基本数据类型--&amp;gt;String&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;调用String.valueof()方法&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;int i = 10;
String s = String.valueOf(i); //&amp;quot;10&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;string-基本数据类型或包装类&#34;&gt;String--&amp;gt;基本数据类型或包装类&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;调用包装类的parseXxx()方法&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;String s = &amp;quot;10&amp;quot;;
int i = Integer.parseInt(s); //10
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;一道面试题&#34;&gt;一道面试题&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;Integer i = new Integer(1);
Integer j = new Integer(1);
System.out.println( i == j ); //false
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;Integer i = 1;
Integer j = 1;
System.out.println( i == j ); //true
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;Integer i = 128;
Integer j = 128;
System.out.println( i == j ); //false
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;解释:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Integer&lt;/code&gt;内部定义了&lt;code&gt;IntegerCache&lt;/code&gt;结构,定义了&lt;code&gt;Integer cache[]&lt;/code&gt;数组,保存了&lt;code&gt;-128~127&lt;/code&gt;区间内的整数.&lt;br&gt;
如果使用自动装箱的方式&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;赋值范围在此区间内时,会直接使用对应元素,没有创建新的对象.(如第二段代码所示)&lt;/li&gt;
&lt;li&gt;赋值范围在此区间外,才会创建新的对象.(如第三段代码所示)&lt;/li&gt;
&lt;/ul&gt;
">基本数据类型和包装类互相转换</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/he-equalsde-qu-bie/"" data-c="
          &lt;p&gt;==和&lt;code&gt;equals&lt;/code&gt;的区别&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h2 id=&#34;运算符&#34;&gt;== : 运算符&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;可以使用在基本数据类型变量和引用数据类型变量中&lt;/li&gt;
&lt;li&gt;(1. 如果变量是基本数据类型,比较的是两个变量的数值是否相等(不一定类型要相等)&lt;br&gt;
(2. 如果变量是引用数据类型,比较的是两个对象的地址值是否相同(两个引用指向同一对象)&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;equals方法的使用&#34;&gt;equals()方法的使用&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;是一个方法,并非运算符.只适用于引用数据类型&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Object中&lt;code&gt;equals()&lt;/code&gt;和&lt;code&gt;==&lt;/code&gt;作用是相同的&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果调用对象的&lt;code&gt;equals()&lt;/code&gt;,取决于此对象是否有重写&lt;code&gt;equals()&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;比如String、Date、File、包装类重写了&lt;code&gt;equals()&lt;/code&gt;,比较的是对象的属性值&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;开发中一般会重写equals方法&#34;&gt;开发中一般会重写&lt;code&gt;equals()&lt;/code&gt;方法&lt;/h4&gt;
">==和`equals`的区别</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/ssm-zheng-he-bu-zou/"" data-c="
          &lt;h2 id=&#34;ssm整合步骤&#34;&gt;SSM整合步骤：&lt;/h2&gt;
&lt;h3 id=&#34;1-导入jar&#34;&gt;1. 导入jar&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;spring:
  	springMVC:
  	mybatis:
  	第三方支持:log4j,pageHelper,AspectJ,jackson,jstl
&lt;/code&gt;&lt;/pre&gt;
&lt;!-- more --&gt;
&lt;h3 id=&#34;2-搭建springmvc&#34;&gt;2. 搭建springMVC&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;(1)web.xml:
  		DispatcherServlet
  		HiddenHttpMethodFilter
  		CharacterEncodingFilter
  	(2)springMVC.xml:
  		扫描控制层组件
  		视图解析器
  		Default Servlet
  		MVC驱动
  		可选：MultipartResolver，拦截器
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;3-整合springmvc和spring&#34;&gt;3. 整合springMVC和spring&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;(1)web.xml:
  		ContextLoaderListener
  		context-param
   (2)spring.xml:
  		扫描组件（排除控制层）
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;4-搭建mybatis&#34;&gt;4. 搭建mybatis:&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;核心配置文件
  	mapper接口和mapper映射文件
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;5-spring整合mybatis&#34;&gt;5. spring整合mybatis&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;spring.xml:
  		properties文件的引入
  		DataSource数据源的配置
  		事务管理器
  		开启事务驱动
  		SqlSessionFactoryBean：管理SqlSession
  		MapperScannerConfigurer
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;6-rest-crud&#34;&gt;6. REST CRUD&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;查询+分页
  	修改（form）&lt;/code&gt;&lt;/pre&gt;
">SSM整合步骤</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/arduino_ds18b20_oled-display/"" data-c="
          &lt;p&gt;DS18b20获取到温度数值保存到变量中，然后和天气图标还有滚动字幕一起发送到OLED 屏幕上显示&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;需要用到的库均可在Arduino库管理器下载。&lt;br&gt;
电路图：&lt;br&gt;
&lt;img src=&#34;https://juyss.github.io//post-images/1585405671072.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
图中屏幕接线已在代码中写出，温度传感器date口需要接一个4.7k欧的电阻；&lt;br&gt;
最终效果如下图：&lt;br&gt;
&lt;img src=&#34;https://juyss.github.io//post-images/1585404643686.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
代码如下：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;Arduino.h&amp;gt;
#include &amp;lt;U8g2lib.h&amp;gt;

#include &amp;lt;OneWire.h&amp;gt;
#include &amp;lt;DallasTemperature.h&amp;gt;

// DS18b20数据输出脚接开发板数字引脚
#define ONE_WIRE_BUS 8

OneWire oneWire(ONE_WIRE_BUS);
DallasTemperature sensors(&amp;amp;oneWire);

#ifdef U8X8_HAVE_HW_SPI
#include &amp;lt;SPI.h&amp;gt;
#endif
#ifdef U8X8_HAVE_HW_I2C
#include &amp;lt;Wire.h&amp;gt;
#endif
//选择自己的屏幕驱动
U8G2_SSD1306_128X64_NONAME_F_4W_SW_SPI u8g2(U8G2_R0, /* clock=*/ 4, /* data=*/ 5, /* cs=*/ 3, /* dc=*/ 7, /* reset=*/ 6);

#define SUN_CLOUD  1
//绘制天气图标
void drawWeatherSymbol(u8g2_uint_t x, u8g2_uint_t y, uint8_t symbol)
{ 
  switch(symbol)
  {
    case SUN_CLOUD:
      u8g2.setFont(u8g2_font_open_iconic_weather_6x_t);
      u8g2.drawGlyph(x, y, 65); 
      break;      
  }
}
//绘制显示界面
void drawWeather(uint8_t symbol, int val)
{
  //绘制天气符号
  drawWeatherSymbol(0, 48, symbol);
  //绘制温度
  u8g2.setFont(u8g2_font_logisoso32_tf);
  u8g2.setCursor(48+3, 42);
  u8g2.print(val);
  u8g2.print(&amp;quot;°C&amp;quot;);   // requires enableUTF8Print()
}
//绘制滚动字幕
void drawScrollString(int16_t offset, const char *s)
{
  static char buf[36];  // should for screen with up to 256 pixel width 
  size_t len;
  size_t char_offset = 0;
  u8g2_uint_t dx = 0;
  size_t visible = 0;
  

  u8g2.setDrawColor(0);   // clear the scrolling area
  u8g2.drawBox(0, 49, u8g2.getDisplayWidth()-1, u8g2.getDisplayHeight()-1);
  u8g2.setDrawColor(1);   // set the color for the text
    
  
  len = strlen(s);
  if ( offset &amp;lt; 0 )
  {
    char_offset = (-offset)/8;
    dx = offset + char_offset*8;
    if ( char_offset &amp;gt;= u8g2.getDisplayWidth()/8 )
      return;
    visible = u8g2.getDisplayWidth()/8-char_offset+1;
    strncpy(buf, s, visible);
    buf[visible] = &#39;\0&#39;;
    u8g2.setFont(u8g2_font_8x13_mf);
    u8g2.drawStr(char_offset*8-dx, 62, buf);
  }
  else
  {
    char_offset = offset / 8;
    if ( char_offset &amp;gt;= len )
      return; // nothing visible
    dx = offset - char_offset*8;
    visible = len - char_offset;
    if ( visible &amp;gt; u8g2.getDisplayWidth()/8+1 )
      visible = u8g2.getDisplayWidth()/8+1;
    strncpy(buf, s+char_offset, visible);
    buf[visible] = &#39;\0&#39;;
    u8g2.setFont(u8g2_font_8x13_mf);
    u8g2.drawStr(-dx, 62, buf);
  }
  
}

void draw(const char *s, uint8_t symbol, int val)
{
  int16_t offset = -(int16_t)u8g2.getDisplayWidth();
  int16_t len = strlen(s);
  
  u8g2.clearBuffer();         // clear the internal memory
  drawWeather(symbol, val);    // draw the icon and degree only once
  for(;;)             // then do the scrolling
  {
  
    drawScrollString(offset, s);        // no clearBuffer required, screen will be partially cleared here
    u8g2.sendBuffer();        // transfer internal memory to the display

    delay(20);
    offset+=2;
    if ( offset &amp;gt; len*8+1 )
      break;
  }
}


void setup(void) {
  Serial.begin(9600);
  sensors.begin(); //初始化DS18b20
  u8g2.begin();  //初始化OLED
  u8g2.enableUTF8Print();//打开UTF8输出
}

void loop(void) {
    sensors.requestTemperatures(); // 发送命令获取温度
    int val = sensors.getTempCByIndex(0);//将获取到的温度数值保存在变量中
    draw(&amp;quot;What a beautiful day!&amp;quot;, SUN_CLOUD, val);//调用函数绘制最终界面
}
&lt;/code&gt;&lt;/pre&gt;
">Arduino+DS18b20+OLED Display</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/solution-of-reverse-arrays/"" data-c="
          &lt;p&gt;👉A method to reverse an array .&lt;br&gt;
For example : array a {1,2,3,4,5}&lt;br&gt;
reversed : array b {5,4,3,2,1}&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;已知一个数组 a 用程序实现把数组中的元素值交换，&lt;br&gt;
交换后的数组 b 并在控制台输出交换后的数组元素。&lt;br&gt;
刚开始想法是使用两个for循环，一个递增用来获取a数组索引，一个递减用来获取b数组索引值。后来发现总是只能替换b 数组的最后一位元素，其他的替换不了，后来想到两个索引值相加等于a.length，遂采用单独一个for循环即可获取两个索引值，画蛇添足了。&lt;br&gt;
🌝Ps. 解决这样的问题总能带给我兴奋感，这可能就是我想学编程的一个原因吧。&lt;br&gt;
实现代码如下：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public class test01 {
    public static void main(String[] args) {
        int[] a={9,8,7,6,5,4,3,2,1};
        test01 t = new test01();
        int[] b = t.reverse(a);
        System.out.println(Arrays.toString(b));
    }

    public int[] reverse(int[] a) {
        int[] b = new int[a.length];
        for (int i = 0; i &amp;lt; a.length; i++) {
            b[a.length-1-i]=a[i];
        }
        return b;
    }
}&lt;/code&gt;&lt;/pre&gt;
">Solution of reverse arrays</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/compare-the-contents-of-two-arrays/"" data-c="
          &lt;p&gt;✍️Define a methed to compare the contents of two arrays and return the result .&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;定义一个方法，用于比较两个数组的内容是否相同.&lt;br&gt;
👉思路：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;定义两个数组，分别使用静态初始化完成数组元素的初始化&lt;/li&gt;
&lt;li&gt;定义一个方法，用于比较两个数组的内容是否相同&lt;/li&gt;
&lt;li&gt;比较两个数组的内容是否相同，按照下面的步骤实现就可以了&lt;br&gt;
1.首先比较数组长度，如果长度不相同，数组内容肯定不相同，返回false&lt;br&gt;
2.其次遍历，比较两个数组中的每一个元素，只要有元素不相同，返回false&lt;br&gt;
3.最后循环遍历结束后，返回true&lt;br&gt;
调用方法&lt;br&gt;
输出结果&lt;br&gt;
&lt;em&gt;代码如下：&lt;/em&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public class test01 {
    public static void main(String[] args) {
        //定义两个数组，分别使用静态初始化完成数组元素的初始化
        int[] a = {1, 2, 3, 4, 5};
        int[] b = {1, 2, 3, 4, 6};
        System.out.println();
        test01 t = new test01();
        //调用方法，输出结果
        System.out.println(t.compare(a, b));
    }
    //定义一个方法，用于比较两个数组的内容是否相同
    /*
        两个明确：
            返回值类型：boolean
            参数：int[] arr, int[] arr2
     */
    public boolean compare(int[] a, int[] b) {
        //首先比较数组长度，如果长度不相同，数组内容肯定不相同，返回false
        if (a.length == b.length) {
            //其次遍历，比较两个数组中的每一个元素，只要有元素不相同，返回false
            for (int i = 0; i &amp;lt; a.length; i++) {
                if (a[i] != b[i]) {
                    return false;
                }
            }
            // 遍历完成返回ture
            return true;
        }
        return false;
    }
}&lt;/code&gt;&lt;/pre&gt;
">Compare the contents of two arrays</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/the-usage-of-and/"" data-c="
          &lt;p&gt;It can remove the last digit of a number with &amp;quot;/10&amp;quot;.&lt;br&gt;
It can get the last digit of a number with &amp;quot;%10&amp;quot;.&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;对10做除法可以去掉一个数的最后一位数。&lt;br&gt;
对10取余可以得到一个数的最后一位数。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public static void main(String[] args) {
        int num = 179/10;//除10可以去掉最后一位数字
        int num1 = 179%10;//对10取余可以获取最后一位数字
        System.out.println(&amp;quot;179/10得到&amp;quot;+num);
        System.out.println(&amp;quot;179%10得到&amp;quot;+num1);
    }&lt;/code&gt;&lt;/pre&gt;
">The usage of "/" and "%"</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/Method-Overlonding/"" data-c="
          &lt;p&gt;👉The method overloading is using one single method name with different parameters to created different methods .&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;今天重新学习了方法重载。&lt;br&gt;
方法重载&lt;br&gt;
方法重载是在一个类中，创建方法时用同一个方法名，但是有不同的参数的情况。&lt;br&gt;
方法重载指在同一个类中，允许存在一个以上的同名方法，只要它们的参数列表不同即可，与修饰符和返回值类型无关。&lt;/p&gt;
&lt;p&gt;多个方法在同一个类中&lt;br&gt;
多个方法具有相同的方法名&lt;br&gt;
多个方法的参数不相同，类型不同或者数量不同&lt;br&gt;
✍️注意事项&lt;br&gt;
1.参数列表：个数不同，数据类型不同，顺序不同&lt;br&gt;
2.重载方法调用：JVM通过方法的参数列表，调用不同的方法&lt;br&gt;
&lt;em&gt;示例如下&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public class MethodDemo { 
    public static void fn(int a) {
         //方法体 
    }
    public static int fn(double a) { 
        //方法体 
    } 
}
public class MethodDemo { 
    public static float fn(int a) {
        //方法体 
    }
    public static int fn(int a , int b) {
                  //方法体 
    } 
}&lt;/code&gt;&lt;/pre&gt;
">Method Overlonding</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/Notebook/"" data-c="
          &lt;p&gt;✏️Practice the usage of ArrayList all of String with a exampe of NoteBook.&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;📒ArrayList all of String的部分函数用法练习，以记事本的例子进行实现 , 顺便练习了一下成员函数的创建及使用。&lt;br&gt;
做了一个记事本的程序，可以实现添加、删除、获取指定内容、改变指定内容（增删改查）、获取记事本的内容数量、指定位置插入的功能。&lt;br&gt;
✂️学习把代码的业务逻辑部分和人机交互部分分离的思想。&lt;br&gt;
🔘暂时还存在较多的代码重复的地方，还需要优化代码，暂时实现了基本的功能。&lt;br&gt;
代码如下&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;import java.util.ArrayList;
import java.util.Scanner;

public class NoteBook {
    ArrayList&amp;lt;String&amp;gt; notes = new ArrayList&amp;lt;&amp;gt;();

    public void add(String s) {
        notes.add(s);
    }

    public String in() {
        Scanner in = new Scanner(System.in);
        String s = in.nextLine();
        return s;
    }

    public String remove(int index) {
        return (notes.remove(index));
    }

    public int getSize() {
        int i = notes.size();
        return i;
    }

    public String getNote(int index) {
        return new String(notes.get(index));
    }

    public void insert(int index, String s) {
        notes.add(index, s);
    }

    public String change(int index, String s) {
        return (notes.set(index, s));
    }

    public static void main(String[] args) {
        NoteBook nb = new NoteBook();

        // 输入记录的内容储储存到notes中
        System.out.println(&amp;quot;输入记录内容&amp;quot;);
        String s = &amp;quot;&amp;quot;;
        while (!s.equals(&amp;quot;结束&amp;quot;)) {
            s = nb.in();
            nb.add(s);
        }
        nb.remove(nb.getSize()-1);
        System.out.println(&amp;quot;内容已记录&amp;quot;);

        // 获取notes的总条数
        int total;
        total = nb.getSize();
        System.out.println(&amp;quot;一共有&amp;quot; + total + &amp;quot;条&amp;quot;);

        // 删除内容
        System.out.println(&amp;quot;请输入要删除第几条记录&amp;quot;);
        int index;
        Scanner in = new Scanner(System.in);
        index = in.nextInt() - 1;
        s = nb.remove(index);
        System.out.println(&amp;quot;已删除记录：&amp;quot; + s);

        // 获取指定位置的内容
        System.out.println(&amp;quot;请输入要查询第几条&amp;quot;);
        index = in.nextInt()-1;
        s=nb.getNote(index);
        System.out.println(&amp;quot;内容是：&amp;quot;+s);

        // 指定位置插入指定内容
        System.out.println(&amp;quot;请输入要插入的位置&amp;quot;);
        index = in.nextInt();
        System.out.println(&amp;quot;请输入要插入的内容&amp;quot;);
        s=in.nextLine();
        nb.insert(index,s);
        System.out.println(&amp;quot;插入成功&amp;quot;);

        // 替换指定位置的内容
        System.out.println(&amp;quot;请输入要替换的位置&amp;quot;);
        index = in.nextInt();
        System.out.println(&amp;quot;请输入要替换扥内容&amp;quot;);
        s= in.nextLine();
        nb.change(index,s);
        System.out.println(&amp;quot;替换成功&amp;quot;);
    }
}&lt;/code&gt;&lt;/pre&gt;
">NoteBook</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/height-inheritance/"" data-c="
          &lt;p&gt;👨‍🏫When compare the string , &amp;quot;==&amp;quot; and &amp;quot;equals&amp;quot; are different in java . here is I I learned how to use them and when to use them .&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－&lt;br&gt;
字符串对比方法：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;“ == ” 它的应用场景大致分为两大类，第一类是用来比较基本数据类型的（Java中八大基本数据类型：byte,short,int,float,long,double,char,boolean），在基础数据类型之间他们是直接比较值的。第二类是用来比较对象的，它会直接比较两个对象的内存地址，也就是说，除非两个对象指向同一个地址，否则始终是false.&lt;/li&gt;
&lt;li&gt;equals()方法是Object基类中的方法，所以任何类都会继承这个方法，只是有些类重写了这个方法，就比如String类，我们可以结合String类equals()源码来解释。&lt;br&gt;
－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－－（以上内容摘自网络，侵权删）&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;例题&#34;&gt;例题：&lt;/h4&gt;
&lt;p&gt;&lt;em&gt;身高是具有遗传性的，子女的身高和父母的身高有一定的关系。假定，父母和子女的身高遗传关系如下：&lt;/em&gt;&lt;br&gt;
&lt;em&gt;儿子身高（厘米）＝(父亲身高＋母亲身高) ×1.08÷2&lt;/em&gt;&lt;br&gt;
&lt;em&gt;女儿身高（厘米）＝(父亲身高×0.923＋母亲身高) ÷2&lt;/em&gt;&lt;br&gt;
&lt;em&gt;现有父亲身高177CM,母亲身高165CM。求子女身高分别预计为多少?&lt;/em&gt;&lt;/p&gt;
&lt;h4 id=&#34;我的练习代码&#34;&gt;我的练习代码：&lt;/h4&gt;
&lt;p&gt;&lt;em&gt;练习了函数重载，成员函数，以及使用equals()方法比较字符串。&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;import java.util.Scanner;

public class Height {
    int a;
    int b;

    Height(int a, int b) {
        this.a = a;
        this.b = b;
    }

    public double sunHeight(int a, int b) {
        double height = ((a + b) * 1.08 / 2);
        return height;
    }

    public double dugHeight(int a, int b) {
        double height = ((a * 0.923 + b) / 2);
        return height;
    }

    public static void main(String[] args) {
        Scanner in = new Scanner(System.in);
        System.out.println(&amp;quot;请输入父亲身高&amp;quot;);
        int a = in.nextInt();
        System.out.println(&amp;quot;请输入母亲身高&amp;quot;);
        int b = in.nextInt();
        Height height = new Height(a, b);
        System.out.println(&amp;quot;请输入性别&amp;quot;);
        String s = in.next();
        String man = &amp;quot;男&amp;quot;;
        String woman=&amp;quot;女&amp;quot;;
        if (s.equals(man)) {
            System.out.println(height.sunHeight(a, b));
        } else if (s.equals(woman)) {
            System.out.println(height.dugHeight(a, b));
        } else {
            System.out.println(&amp;quot;格式错误&amp;quot;);
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;😂&lt;strong&gt;写在最后：这么简单一道题，让我写了这么长的代码，也不知道好不好&lt;/strong&gt;&lt;/p&gt;
">Height Inheritance</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/clock/"" data-c="
          &lt;p&gt;Learning object recognition and object interaction, a class member variables can be other class object, an object can be composed of other classes of objects, this object can be made him realize the interaction between the composition of the object.(From Youdao Dict)&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h4 id=&#34;学习内容&#34;&gt;学习内容：&lt;/h4&gt;
&lt;p&gt;学习了对象的交识别和对象的交互，一个类的成员变量可以是其他类的对象，一个对象可以由其他类的对象组成，这个对象可以使他的组成对象之间实现交互。&lt;/p&gt;
&lt;h4 id=&#34;代码描述&#34;&gt;代码描述：&lt;/h4&gt;
&lt;p&gt;minute从0开始增加，加到59时然后归零，并与hour交互，每次归零，hour加 1 ，最后格式化输出类型“00:00”&lt;/p&gt;
&lt;h4 id=&#34;练习代码如下&#34;&gt;练习代码如下：&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public class Clock {
    private Display hour = new Display(24);//创建一个Display的对象hour（带入参数）
    private Display minute = new Display(60);//创建一个Display的对象minute（带入参数）
    //开始走时间的函数（Clock的成员函数）
    public void start() {
        minute.increase();
        //如果分钟值变为零，小时值加一
        if (minute.getValue() == 0) {
            hour.increase();
        }
        //格式化打印输出
        System.out.printf(&amp;quot;%02d:%02d&amp;quot;, hour.getValue(), minute.getValue());
        System.out.println();
    }
//主函数
    public static void main(String[] args) {
        Clock clock = new Clock();//创建对象clock
        for (; ; ) {
            clock.start();
        }
    }
    //创建类Display
    class Display {
        private int limit = 0;
        private int value = 0;
        //函数重载
        public Display(int limit) {
            this.limit = limit;
        }
        //值增加，达到limit时重置为0
        public void increase() {
            value++;
            if (value == limit) {
                value = 0;
            }
        }
        //返回value值
        public int getValue() {
            return value;
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h3 id=&#34;描述关系如下图&#34;&gt;描述关系如下图&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://juyss.github.io//post-images/1581322566712.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h4 id=&#34;类型名称-display&#34;&gt;类型名称 Display&lt;/h4&gt;
&lt;h5 id=&#34;接口-value&#34;&gt;接口 value&lt;/h5&gt;
&lt;h5 id=&#34;接口-limit&#34;&gt;接口 limit&lt;/h5&gt;
&lt;h5 id=&#34;接口-incraease&#34;&gt;接口 incraease&lt;/h5&gt;
&lt;h5 id=&#34;接口-getvalue&#34;&gt;接口 getValue&lt;/h5&gt;
&lt;h4 id=&#34;类型名称-clock&#34;&gt;类型名称 Clock&lt;/h4&gt;
&lt;h5 id=&#34;接口-hour-display类的对象&#34;&gt;接口 hour （Display类的对象）&lt;/h5&gt;
&lt;h5 id=&#34;接口-minute-display类的对象&#34;&gt;接口 minute （Display类的对象）&lt;/h5&gt;
&lt;h4 id=&#34;对于对象clock属于clock类由两个display的对象组成分别是hour-minute&#34;&gt;对于对象clock，属于Clock类，由两个Display的对象组成，分别是hour、minute。&lt;/h4&gt;
">Clock</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/scoring-system/"" data-c="
          &lt;p&gt;👨‍💻Build a scoring system , give the score by referee , and entering the score in  system , then take out the max score and the min score , print the final score in the window .&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;👨‍💻做了一个打分系统，用户输入获得的分数，然后去掉一个最高分，去掉一个最低分，然后打印输出最终得分。&lt;br&gt;
✏️练习数组的使用，定义数组，遍历数组，以及求数组的最值操作。&lt;br&gt;
✏️练习定义方法和调用方法。&lt;br&gt;
代码如下：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;import java.util.Arrays;
import java.util.Scanner;


public class score {
    public static void main(String[] args) {
        //定义数组，长度为7
        int[] arr = new int[7];
        //用户输入分数，并写进数组内
        Scanner in = new Scanner(System.in);
        for (int i = 0; i &amp;lt; arr.length; i++) {
            System.out.println(&amp;quot;请输入第&amp;quot; + (i + 1) + &amp;quot;个裁判的分数&amp;quot;);
            arr[i] = in.nextInt();
        }
        //通过Arrays.stream().获取值
        int min = Arrays.stream(arr).min().getAsInt();
        int max = Arrays.stream(arr).max().getAsInt();
        int sum = Arrays.stream(arr).sum();
        System.out.println(max);
        System.out.println(min);
        System.out.println(sum);
        //通过定义的方法获取最值
        System.out.println(&amp;quot;getMax&amp;quot; + getMax(arr));
        System.out.println(&amp;quot;getMin&amp;quot; + getMin(arr));
        //计算最终得分
        int score = (sum-min-max)/(arr.length-2);
        System.out.println(&amp;quot;你的最终得分是：&amp;quot;+score+&amp;quot;分！！！&amp;quot;);
    }
    //定义getMax的方法（返回值int，参数Arrays）（成员函数）
    public static int getMax(int[] arr) {
        int num = arr[0];
        for (int i = 0; i &amp;lt; arr.length; i++) {
            if (num &amp;lt; arr[i]) {
                num = arr[i];
            }
        }
        return num;
    }
    //定义getMax的方法（返回值int，参数Arrays）（成员函数）
    public static int getMin(int[] arr) {
        int num = arr[0];
        for (int i = 0; i &amp;lt; arr.length; i++) {
            if (num &amp;gt; arr[i]) {
                num = arr[i];
            }
        }
        return num;
    }
}
&lt;/code&gt;&lt;/pre&gt;
">Scoring System</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/the-member-function/"" data-c="
          &lt;p&gt;Today I learned the member function 。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;👨‍🎓成员函数就是定义在类的内部，具有参数和返回值（也可以没有）的函数，比如下面这一段程序👨‍💻中的&lt;code&gt;void random&lt;/code&gt;就是一个成员函数，还可以以类的名字定义一个函数，此时这个函数称为构造函数，具有参数的构造函数叫做重载。构造函数内可以通过&lt;code&gt;this ( )&lt;/code&gt; 来调用其他构造函数 但是必须放在函数体第一句，并且只能使用☝️一次。&lt;br&gt;
还学习了使用 &lt;code&gt;random&lt;/code&gt; 创造一个随机数，使用&lt;code&gt;int + 变量 = 对象名 . nextInt( int )&lt;/code&gt; 把随机数赋值给变量，&lt;code&gt;（int）&lt;/code&gt; 括号内参数为整数类型，表示产生一个&lt;code&gt;（0，int】&lt;/code&gt; 区间内的整数。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;import java.util.Random;
import java.util.Scanner;

public class rad { //rad类
    int j;//成员变量（可以不进行初始化）

    public static int random() { // 成员函数
        Random i = new Random();
        int r = i.nextInt(8);
//        System.out.println(r);
        return r;
    }

    rad() { //构造函数（无参数）
        this(30);
        int j = 10;
        this.j = j;
    }

    rad(int i) { // 构造函数（有参数）重载
        //调用其他构造函数，位于首句，且只能使用一次
        this.j = i;
    }

    public static void main(String[] args) {
        int j = 0;
        int k = 0;
        int l = 0; //本地变量（必须进行初始化）
        rad r = new rad();
        j = r.random();
        System.out.println(j);
        rad s = new rad(20);
        k = s.random();
        System.out.println(k);
        rad z = new rad(j);
        l = z.random();
        System.out.println(l);
        rad vm =new vendingMachine();
        
    }
}

&lt;/code&gt;&lt;/pre&gt;
">The Member Function </a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/guess-the-number/"" data-c="
          &lt;p&gt;🎮 &lt;strong&gt;Let&#39;s play a game !&lt;/strong&gt;&lt;br&gt;
Guess the number your computer💻 created , compare it with what your entrance ⌨️. And give you some prompts .&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;Once you guessed the number correctly👌 , print the number and how many times you guessed .&lt;br&gt;
👨‍💻写了一个猜数字的游戏，电脑随机产生一个数字，与用户输入的数字对比，并给予用户一定提示，猜对后&lt;br&gt;
输出这个数字，并统计用户猜的次数。&lt;br&gt;
✍️目的：（循环语句以及随机数的使用练习）&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;import java.util.Random;
import java.util.Scanner;

public class random {
    public static void main(String[] args) {
        int j = 0; // 用户输入的整数变量
        int count = 0; // 计数变量
        int i = 0; // 随机数变量
        System.out.println(&amp;quot;欢迎来到猜数字游戏&amp;quot;);
        Random r = new Random();
        i = r.nextInt(101); // 产生一个随机数,范围是（ 0,101 ] ，并赋值给变量
        System.out.println(&amp;quot;随机数已生成&amp;quot;);
        System.out.println(&amp;quot;请输入你猜的数字&amp;quot;);
        Scanner in = new Scanner(System.in);
        do {
            j = in.nextInt(); // 用户输入
            if (i &amp;gt; j) { //与 i 值进行对比，并输出提示 
                System.out.println(&amp;quot;你输入的数字小了&amp;quot;);
            }
            if (i &amp;lt; j) {
                System.out.println(&amp;quot;你输入的数字大了&amp;quot;);
            }
            count++; // 统计次数
        }
        while (i != j); // 检测是否猜对
        System.out.println(&amp;quot;恭喜你，猜对了！！！&amp;quot;);
        System.out.println(&amp;quot;数字是&amp;quot; + i); // 输出随机数的值
        System.out.println(&amp;quot;你猜了&amp;quot;+count+&amp;quot;次&amp;quot;); // 输出统计次数
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;💡运行结果如下：&lt;br&gt;
&lt;img src=&#34;https://juyss.github.io//post-images/1580887876209.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
👉一个思考：&lt;br&gt;
如果使用二分法进行猜数字，及使用区间的中间数来猜的话，则最大次数应该不会超过七次，因为2的七次方已经大于100，但是考虑到输入数值只能为整数，所以正常情况下10次以内就可以猜中啦！👌&lt;/p&gt;
">Guess The Number</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/Hexo-blog/"" data-c="
          &lt;p&gt;After build my blog following the online course step by step , I began to try to write my own blog✏️ , then I find a problem when after inserting pictures in my blog , it can be viewed locally , but I can&#39;t view it correctly after deploying to Github . Here are some solutions for it .&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;在跟着网上教程一步步搭建好自己的博客后，开始尝试自己写博客文章，发现在Hexo博客文章中插入图片后在本地浏览正常，但是部署到GitHub上后边无法查看，在此提出一些供参考的解决方法&lt;br&gt;
具体情况如下图：&lt;br&gt;
&lt;img src=&#34;https://juyss.github.io//post-images/1580795613268.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
遂在网上搜索解决方案，参照&lt;code&gt;Ericam_&lt;/code&gt;的博客文章得以解决。&lt;/p&gt;
&lt;p&gt;教程参考此篇文章https://blog.csdn.net/xjm850552586/article/details/84101345&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;以下为解决步骤：&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h4 id=&#34;1-安装插件&#34;&gt;1. 安装插件&lt;/h4&gt;
&lt;p&gt;安装&lt;em&gt;hexo-asset-image&lt;/em&gt;插件，这是一个图片路径转换的插件。&lt;br&gt;
在Hexo根目录下右键运行git bash，输入以下命令安装插件&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ npm install https://github.com/CodeFalling/hexo-asset-image --save
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;或者&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ npm install hexo-asset-image --save
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;若出现错误则先执行：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ npm install -g cnpm --registry=https://registry.npm.taobao.org
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;后执行：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ npm install hexo-asset-image --save
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;可能原因是国内网络。&lt;/p&gt;
&lt;h4 id=&#34;2-配置插件&#34;&gt;2. 配置插件&lt;/h4&gt;
&lt;p&gt;打开/node_modules/hexo-asset-image/index.js 这个文件，修改其内容，因版权原因，具体的修改内容在此就不放了，请去原文章复制，将index.js的内容全部替换即可。&lt;/p&gt;
&lt;h4 id=&#34;3-修改-yml文件内容&#34;&gt;3. 修改 .yml文件内容&lt;/h4&gt;
&lt;p&gt;在Hexo根目录下打开_config.yml文件，修改&lt;code&gt;post_asset_folder:&lt;/code&gt;值为&lt;code&gt;ture&lt;/code&gt;，效果如下：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ post_asset_folder: true
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这时，当你使用&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ hexo new “filename”
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;新建一个 .md文件时，同时会在-post文件夹下将出现一个与新建的 .md文件同名的文件夹，把你需要插入的图片放到这个文件夹中即可。&lt;/p&gt;
&lt;h4 id=&#34;4-正确的图片插入命令&#34;&gt;4. 正确的图片插入命令&lt;/h4&gt;
&lt;p&gt;本人使用的是Typora的编辑器编写.md文件，当你使用使用相对路径的常规 Markdown 语法 &lt;code&gt;![](/imgName.jpg)&lt;/code&gt;时，虽然他能在你本地的编辑器上正确显示，但是当你部署到GitHub时会依旧不显示，正确的引用语法为&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ {% asset_img Name.jpg 文章中显示的图片名%}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;jpg 后面空格可以直接写上你想要这张图片在文章中显示的名字,虽然在你本地的编辑器上不会正确显示，但是部署后会在网页文章中正确显示。&lt;/p&gt;
&lt;h2 id=&#34;效果如下图typora编辑时的显示&#34;&gt;&lt;em&gt;&lt;strong&gt;效果如下图：&lt;/strong&gt;&lt;/em&gt;&lt;br&gt;
Typora编辑时的显示&lt;br&gt;
&lt;img src=&#34;https://juyss.github.io//post-images/1580795635868.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/h2&gt;
&lt;h2 id=&#34;chrome浏览器打开时的显示&#34;&gt;Chrome浏览器打开时的显示&lt;br&gt;
&lt;img src=&#34;https://juyss.github.io//post-images/1580795645985.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/h2&gt;
&lt;p&gt;以上步骤完成以后即可插入本地图片后，再部署到GitHub即可正常显示图片。&lt;/p&gt;
">Insert Pictures In Hexo Blog</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/MultiplicationTable/"" data-c="
          &lt;p&gt;This is my 2nd java code (actually, it&#39;s the 2nd code that I upload to my blog😝),and this is what I want to do after I learned java,to write a program for build a multiplication table.( from my own translation )&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;这是我的第二个代码（其实只是上传的第二个），也是我一直以来想做的一件事，编写一段程序输出乘法口诀表。&lt;/br&gt;This is my second code (in fact, just the second uploaded), and one of the things I always wanted to do, write a program to output a multiplication table.( from https://translate.google.cn )&lt;/p&gt;
&lt;p&gt;输出一个 9X9 乘法口诀表(java语言编写)&lt;br&gt;
&lt;em&gt;&lt;strong&gt;完整代码如下：&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public class multable {
    public static void main(String[] args) {
        //生成乘数
        for (int i = 1; i &amp;lt;= 9; i++) {
            //生成被乘数
            for (int j = 1; j &amp;lt;= 9; j++) {
                if (i &amp;gt;= j) {
                        //对于3*3和3*4，输出的式子前多加一个空格，和下面的式子对齐
                    if ((i == 3 &amp;amp;&amp;amp; j == 3) || (i == 4 &amp;amp;&amp;amp; j == 3)) {
                        System.out.print(&amp;quot; &amp;quot; + j + &amp;quot;*&amp;quot; + i + &amp;quot;=&amp;quot; + (i * j) + &amp;quot; &amp;quot;);
                    } else {
                        //输出乘积式
                        System.out.print(j + &amp;quot;*&amp;quot; + i + &amp;quot;=&amp;quot; + (i * j) + &amp;quot; &amp;quot;);
                    }
                } else {
                    //如果被乘数大于乘数，跳出循环
                    break;
                }
            }
            //换行输出
            System.out.println();
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;输出如下图：&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://juyss.github.io//post-images/1580794999427.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;编写心得&#34;&gt;&lt;em&gt;&lt;strong&gt;编写心得&lt;/strong&gt;&lt;/em&gt;&lt;/h2&gt;
&lt;h3 id=&#34;1产生乘积式&#34;&gt;1.产生乘积式&lt;/h3&gt;
&lt;p&gt;先使用两个 for 循环产生被乘数 j 与乘数 i ，在内层循环通过&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;System.out.print(j + &amp;quot;*&amp;quot; + i + &amp;quot;=&amp;quot; + (i * j) + &amp;quot; &amp;quot;);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;输出乘积式。&lt;/p&gt;
&lt;h3 id=&#34;2换行&#34;&gt;2.换行&lt;/h3&gt;
&lt;p&gt;内外层循环之间通过&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;System.out.println();
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;完成换行操作。&lt;/p&gt;
&lt;h3 id=&#34;3对齐&#34;&gt;3.对齐&lt;/h3&gt;
&lt;p&gt;正常情况直接输出乘积式，对于 “3X3” 和 “3X4” 这两个式子，需要在输出的式子前面额外添加一个空格，使之与同一列的式子对齐，通过 if 语句实现 ：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;if ((i == 3 &amp;amp;&amp;amp; j == 3) || (i == 4 &amp;amp;&amp;amp; j == 3)) {
     System.out.print(&amp;quot; &amp;quot; + j + &amp;quot;*&amp;quot; + i + &amp;quot;=&amp;quot; + (i * j) + &amp;quot; &amp;quot;);
   } 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;其他情况直接输出即可。&lt;/p&gt;
&lt;h3 id=&#34;4跳出不必要的循环&#34;&gt;4.跳出不必要的循环&lt;/h3&gt;
&lt;p&gt;当循环中被乘数 j 小于等于乘数 i 时，按顺序输出即可，当循环中被乘数 j 大于乘数 i 时，应跳出内层循环执行 i+1 ，通过 break 语句实现 ：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;if (i &amp;gt;= j) {
    //此处为输出语句，省略
  } else {
      //如果被乘数大于乘数，跳出循环
      break;
  }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这样可以避免无效的循环，理论上应该可以减少一半的运行时间。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;以上就是本人在编写这些代码时的一些思考和解决的问题。&lt;/strong&gt;&lt;/p&gt;
">Multiplication Table</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/VendingMachine/"" data-c="
          &lt;p&gt;😁Welcome to my first blog.&lt;br&gt;
⚙️It&#39;s just a test for me to learn how to use the Markdown write my own blog.&lt;br&gt;
⛽️This is a simple vending machine program.&lt;/p&gt;
&lt;!-- more --&gt;  
&lt;p&gt;一个简单的自动售货机程序设计&lt;br&gt;
实现投币，找零，出货，显示总营业额的功能&lt;br&gt;
(使用java语言编写)&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Java&#34;&gt;import java.util.Scanner;

public class VendingMachine {
    int price = 120; //设置商品价格
    int balance = 0; //累计投币金额
    int total = 0; //总营业额
    int amount = 0; //单次投币金额

    //  欢迎语
    void showPrompt() {
        System.out.println(&amp;quot;欢迎使用自动售货机&amp;quot;);
        System.out.println(&amp;quot;请投币&amp;quot;);
    }

    //  投币
    void insetMoney() {
        Scanner in = new Scanner(System.in);
        amount = in.nextInt();
        balance = balance + amount;
        getFood();
    }

    //  显示累计投币金额
    void showBalance() {
        System.out.println(&amp;quot;已投币：&amp;quot; + balance + &amp;quot;元&amp;quot;);
    }

    //  出货、继续投币
    void getFood() {
        if (balance &amp;gt;= price) {
            System.out.println(&amp;quot;请取货&amp;quot;);
            balance = balance - price;
            System.out.println(&amp;quot;找零：&amp;quot; + (balance) + &amp;quot;元&amp;quot;);
            balance = 0;
            total = total + price;
        } else {
            System.out.println(&amp;quot;余额不足，请继续投币&amp;quot;);
            showBalance();
            insetMoney();
        }
    }

    //  营业额
    void showTurnover() {
        System.out.println(&amp;quot;总收入：&amp;quot; + total);
    }

    //  致谢
    void showTag() {
        System.out.println(&amp;quot;欢迎下次光临&amp;quot;);
    }

    public static void main(String[] args) {
        VendingMachine vm = new VendingMachine();
        vm.showPrompt();//欢迎
        vm.insetMoney();//投币
        vm.showTag();//致谢
        vm.showTurnover();//营业额
    }
}

&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;关于这段程序的说明&#34;&gt;关于这段程序的说明&lt;/h2&gt;
&lt;h3 id=&#34;创建类vendingmachine&#34;&gt;&lt;strong&gt;创建类&lt;/strong&gt;vendingMachine&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;具有属性&lt;/strong&gt;&lt;/em&gt;：&lt;/p&gt;
&lt;p&gt;商品价格 price&lt;/p&gt;
&lt;p&gt;单次投币金额 amount&lt;/p&gt;
&lt;p&gt;累计投币金额 balance&lt;/p&gt;
&lt;p&gt;营业额 total&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;可执行的动作&lt;/strong&gt;&lt;/em&gt;：&lt;/p&gt;
&lt;p&gt;显示欢迎 showPrompt&lt;/p&gt;
&lt;p&gt;投币 insetMoney&lt;/p&gt;
&lt;p&gt;显示累计投币金额 showBalance&lt;/p&gt;
&lt;p&gt;出货或者执行继续投币 getFood&lt;/p&gt;
&lt;p&gt;显示营业额 showTurnover&lt;/p&gt;
&lt;p&gt;致谢 showTag&lt;/p&gt;
&lt;h3 id=&#34;创建对象vm&#34;&gt;&lt;strong&gt;创建对象&lt;/strong&gt;vm&lt;/h3&gt;
&lt;p&gt;按步骤执行操作&lt;/p&gt;
&lt;p&gt;1.展示欢迎语&lt;/p&gt;
&lt;p&gt;2.请投币&lt;/p&gt;
&lt;p&gt;2.1 如果投币金额大于等于商品价格，执行出货操作和找零操作。&lt;/p&gt;
&lt;p&gt;2.2 如果投币金额小于商品价格，将已投币金额累加到累计投币金额中，继续执行投币操作，直到累计投币金额大于等于商品价格时，再执行出货操作和找零操作。&lt;/p&gt;
&lt;p&gt;3.交易完成&lt;/p&gt;
&lt;p&gt;4.谢谢惠顾&lt;/p&gt;
&lt;p&gt;5.展示总营业额&lt;/p&gt;
">A Simple Vending Machine Program</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/about/"" data-c="
          &lt;blockquote&gt;
&lt;p&gt;欢迎来到我的小站呀，很高兴遇见你！🤝&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;github&#34;&gt;👨‍💻 &lt;a href=&#34;https://github.com/juyss?tab=repositories&#34;&gt;GitHub&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;mail-outlook&#34;&gt;📬 &lt;a href=&#34;mailto:a1028507471@outlook.com&#34;&gt;Mail-Outlook&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;mail-foxmail&#34;&gt;📬 &lt;a href=&#34;mailto:juyss@foxmail.com&#34;&gt;Mail-Foxmail&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;bilibili&#34;&gt;📺&lt;a href=&#34;https://space.bilibili.com/73290361&#34;&gt;Bilibili&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&#34;sina&#34;&gt;🌈&lt;a href=&#34;https://www.weibo.com/5934632940/profile?rightmod=1&amp;amp;wvr=6&amp;amp;mod=personinfo&#34;&gt;Sina&lt;/a&gt;&lt;/h2&gt;
">关于</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://juyss.github.io/post/hello-gridea/"" data-c="
          &lt;p&gt;👏  欢迎使用 &lt;strong&gt;Gridea&lt;/strong&gt; ！&lt;br&gt;
✍️  &lt;strong&gt;Gridea&lt;/strong&gt; 一个静态博客写作客户端。你可以用它来记录你的生活、心情、知识、笔记、创意... ...&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/getgridea/gridea&#34;&gt;Github&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;https://gridea.dev/&#34;&gt;Gridea 主页&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://fehey.com/&#34;&gt;示例网站&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;特性&#34;&gt;特性👇&lt;/h2&gt;
&lt;p&gt;📝  你可以使用最酷的 &lt;strong&gt;Markdown&lt;/strong&gt; 语法，进行快速创作&lt;/p&gt;
&lt;p&gt;🌉  你可以给文章配上精美的封面图和在文章任意位置插入图片&lt;/p&gt;
&lt;p&gt;🏷️  你可以对文章进行标签分组&lt;/p&gt;
&lt;p&gt;📋  你可以自定义菜单，甚至可以创建外部链接菜单&lt;/p&gt;
&lt;p&gt;💻  你可以在 &lt;strong&gt;Windows&lt;/strong&gt;，&lt;strong&gt;MacOS&lt;/strong&gt; 或 &lt;strong&gt;Linux&lt;/strong&gt; 设备上使用此客户端&lt;/p&gt;
&lt;p&gt;🌎  你可以使用 &lt;strong&gt;𝖦𝗂𝗍𝗁𝗎𝖻 𝖯𝖺𝗀𝖾𝗌&lt;/strong&gt; 或 &lt;strong&gt;Coding Pages&lt;/strong&gt; 向世界展示，未来将支持更多平台&lt;/p&gt;
&lt;p&gt;💬  你可以进行简单的配置，接入 &lt;a href=&#34;https://github.com/gitalk/gitalk&#34;&gt;Gitalk&lt;/a&gt; 或 &lt;a href=&#34;https://github.com/SukkaW/DisqusJS&#34;&gt;DisqusJS&lt;/a&gt; 评论系统&lt;/p&gt;
&lt;p&gt;🇬🇧  你可以使用&lt;strong&gt;中文简体&lt;/strong&gt;或&lt;strong&gt;英语&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;🌁  你可以任意使用应用内默认主题或任意第三方主题，强大的主题自定义能力&lt;/p&gt;
&lt;p&gt;🖥  你可以自定义源文件夹，利用 OneDrive、百度网盘、iCloud、Dropbox 等进行多设备同步&lt;/p&gt;
&lt;p&gt;🌱 当然 &lt;strong&gt;Gridea&lt;/strong&gt; 还很年轻，有很多不足，但请相信，它会不停向前 🏃&lt;/p&gt;
&lt;p&gt;未来，它一定会成为你离不开的伙伴&lt;/p&gt;
&lt;p&gt;尽情发挥你的才华吧！&lt;/p&gt;
&lt;p&gt;😘 Enjoy~&lt;/p&gt;
">Hello Gridea</a>
      </div>
      
    </div>
    <div class="page">
      <div id="page_ul"></div>
    </div>
  </div>
</div>
<script>
  !function () {
    let searchMask = document.querySelector('#search_mask');
    let result = document.querySelector('#result');
    let items = document.querySelectorAll('.item');
    let searchBox = document.querySelector('#search');
    let statCount = document.querySelector('#stat_count');
    let statTimes = document.querySelector('#stat_times');
    let pageUl = document.querySelector('#page_ul');
    let close = document.querySelector('#close');
    
    close.addEventListener('click', function() {
      searchMask.style = 'display: none;'
    })

    let finds = [];
    let contents = [];
    let pageSize = 10;
    items.forEach(item => {
      let a = item.querySelector('a');
      contents.push({
        title: a.innerText,
        details: a.dataset.c,
        link: a.href
      })
      item.remove();
    })

    function insertStr(soure, start, count) {
      let newStr = soure.substr(start, count);
      return soure.slice(0, start) + '<em>' + newStr + '</em>' + soure.slice(start + count);
    }

    pageUl.addEventListener('click', function(event) {
      let target = event.target;
      if (target.__proto__ === HTMLSpanElement.prototype) {
        appendResults(parseInt(target.dataset.i));
      }
    })

    function appendResults(index) {
      let htmlResult = '';
      let start = index || 0;
      let end = Math.min(start + pageSize, finds.length);
      for (let i = start; i < end; i++) {
        const current = finds[i];
        let html = current.title;
        let sum = 0;
        let positions = current.positions;
        positions.forEach(position => {
          html = insertStr(html, position.start + sum, position.count);
          sum += 9;
        })
        htmlResult += `<div class="item"><a class="result-title" href="${current.link}">${html}</a></div>`;
      }
      result.innerHTML = htmlResult;
      pageUl.innerHTML = '';
      let count = finds.length / pageSize;
      let lis = '';
      if (start !== 0) {
        lis += `<span class="fa fa-angle-left" data-i='${start - 1}'></span>`;
      }
      for (let i = 0; i < count; i++) {
        lis += `<span class='${i === start?'current':''}' data-i='${i}'>${i+1}</span>`;     
      }
      if (start+1 < count) {
        lis += `<span class="fa fa-angle-right" data-i='${start+1}'></span>`;  
      }
      pageUl.innerHTML = lis;
    }

    function search(delay) {
      let timer = null
      return function () {
        clearTimeout(timer)
        timer = setTimeout(() => {
          let start = Date.now();
          let segments = searchBox.value.split(' ').filter(c => c != '');
          if (segments.length <= 0) {
            return;
          }
          finds = [];
          let htmlResult = '';
          contents.forEach(content => {
            let title = content.title;
            let positions = [];
            let find = false;
            segments.forEach((segment) => {
              if (content.title.includes(segment)) {
                find = true;
                positions.push({
                  start: content.title.indexOf(segment),
                  count: segment.length
                })
              } else if (content.details.includes(segment)) {
                find = true;
              }
            });
            if (find) {
              finds.push({
                title: content.title,
                link: content.link,
                positions
              });
            }
          })
          appendResults(0);
          statCount.textContent = finds.length;
          statTimes.textContent = Date.now() - start;
        }, delay)
      }
    }
    searchBox.addEventListener('input', search(200));
  }()
</script>

<input hidden id="copy" />
<script>
  let language = '';
  if (language !== '') {
    let map = new Map();
    if (language === 'en') {
      map.set('search', 'Search');
      map.set('category', 'Categories');
      map.set('article', 'Articles');
      map.set('tag', 'Tags');
      map.set('top', 'Top');
      map.set('publish', 'published');
      map.set('minute', ' minutes');
      map.set('read-more', 'Read More');
      map.set('view', 'View');
      map.set('words', ' words');
      map.set('category-in', 'category in');
      map.set('preview', 'Meta');
      map.set('index', 'Toc');
      map.set('no-archives', "You haven't created yet");
      map.set('archives', " articles in total");
      map.set('cloud-tags', " tags in total");
      map.set('copyright', "Copyright: ");
      map.set('author', "Author: ");
      map.set('link', "Link: ");
      map.set('leave-message', "Leave a message");
      map.set('format', "Links Format");
      map.set('site-name', "Name: ");
      map.set('site-link', "Link: ");
      map.set('site-desc', "Desc: ");
      map.set('stat', " related results, taking ");
      map.set('stat-time', " ms");
      map.set('site-img', "Image: ");
    }

    if (map.size > 0) {
      let lanElems = document.querySelectorAll('.language');
      lanElems.forEach(elem => {
        let lan = elem.dataset.lan, text = map.get(lan);
        if (elem.__proto__ === HTMLInputElement.prototype) {
          elem.placeholder = text
        } else {
          if (elem.dataset.count) {
            text = elem.dataset.count + text;
          }
          elem.textContent = text;
        }
      })
    }
  }
  //拿来主义(真香)^_^，Clipboard 实现摘自掘金 https://juejin.im/post/5aefeb6e6fb9a07aa43c20af
  window.Clipboard = (function (window, document, navigator) {
    var textArea,
      copy;

    // 判断是不是ios端
    function isOS() {
      return navigator.userAgent.match(/ipad|iphone/i);
    }
    //创建文本元素
    function createTextArea(text) {
      textArea = document.createElement('textArea');
      textArea.value = text;
      textArea.style.width = 0;
      textArea.style.height = 0;
      textArea.clientHeight = 0;
      textArea.clientWidth = 0;
      document.body.appendChild(textArea);
    }
    //选择内容
    function selectText() {
      var range,
        selection;

      if (isOS()) {
        range = document.createRange();
        range.selectNodeContents(textArea);
        selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        textArea.setSelectionRange(0, 999999);
      } else {
        textArea.select();
      }
    }

    //复制到剪贴板
    function copyToClipboard() {
      try {
        document.execCommand("Copy")
      } catch (err) {
        alert("复制错误！请手动复制！")
      }
      document.body.removeChild(textArea);
    }

    copy = function (text) {
      createTextArea(text);
      selectText();
      copyToClipboard();
    };

    return {
      copy: copy
    };
  })(window, document, navigator);

  function copyCode(e) {
    if (e.srcElement.tagName === 'SPAN' && e.srcElement.classList.contains('copy-code')) {
      let code = e.currentTarget.querySelector('code');
      var text = code.innerText;
      if (e.srcElement.textContent === '复制成功') {
        console.log('复制操作频率过高');
        return;
      }
      e.srcElement.textContent = '复制成功';
      (function (elem) {
        setTimeout(() => {
          if (elem.textContent === '复制成功') {
            elem.textContent = '复制代码'
          }
        }, 1000);
      })(e.srcElement)
      Clipboard.copy(text);
    }
  }

  let pres = document.querySelectorAll('pre');
  pres.forEach(pre => {
    let code = pre.querySelector('code');
    let copyElem = document.createElement('span');
    copyElem.classList.add('copy-code');
    copyElem.textContent = '复制代码';
    pre.appendChild(copyElem);
    pre.onclick = copyCode
  })

</script>
<script src="/media/js/motion.js"></script>

<script src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
<script>
  var scroll = new SmoothScroll('a[href*="#"]', {
    speed: 200
  });
</script>


<script src="/media/js/mouse/love.js"></script>


</html>