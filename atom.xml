<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://shmebluk.github.io/</id>
    <title>Juyss&apos;s Blog</title>
    <updated>2020-07-20T11:10:58.231Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://shmebluk.github.io/"/>
    <link rel="self" href="https://shmebluk.github.io/atom.xml"/>
    <subtitle>è®°å½•è‡ªå·±çš„Javaå­¦ä¹ è¿‡ç¨‹</subtitle>
    <logo>https://shmebluk.github.io/images/avatar.png</logo>
    <icon>https://shmebluk.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, Juyss&apos;s Blog</rights>
    <entry>
        <title type="html"><![CDATA[ä¿®æ”¹Mavené¡¹ç›®é»˜è®¤JDKç‰ˆæœ¬]]></title>
        <id>https://shmebluk.github.io/post/xiu-gai-maven-xiang-mu-mo-ren-jdk-ban-ben/</id>
        <link href="https://shmebluk.github.io/post/xiu-gai-maven-xiang-mu-mo-ren-jdk-ban-ben/">
        </link>
        <updated>2020-06-08T15:27:28.000Z</updated>
        <summary type="html"><![CDATA[<p>é—®é¢˜ï¼š</p>
<p>1ã€åˆ›å»ºmavené¡¹ç›®çš„æ—¶å€™ï¼Œjdkç‰ˆæœ¬æ˜¯1.5ç‰ˆæœ¬ï¼Œè€Œè‡ªå·±å®‰è£…çš„æ˜¯1.7æˆ–è€…1.8ç‰ˆæœ¬ã€‚</p>
<p>2ã€æ¯æ¬¡å³é”®é¡¹ç›®å-maven-&gt;update project æ—¶å€™ï¼Œé¡¹ç›®jdkç‰ˆæœ¬å˜äº†ï¼Œå˜å›1.5ç‰ˆæœ¬æˆ–è€…å…¶ä»–ç‰ˆæœ¬</p>
<p>è§£å†³åŠæ³•å¦‚ä¸‹:</p>
]]></summary>
        <content type="html"><![CDATA[<p>é—®é¢˜ï¼š</p>
<p>1ã€åˆ›å»ºmavené¡¹ç›®çš„æ—¶å€™ï¼Œjdkç‰ˆæœ¬æ˜¯1.5ç‰ˆæœ¬ï¼Œè€Œè‡ªå·±å®‰è£…çš„æ˜¯1.7æˆ–è€…1.8ç‰ˆæœ¬ã€‚</p>
<p>2ã€æ¯æ¬¡å³é”®é¡¹ç›®å-maven-&gt;update project æ—¶å€™ï¼Œé¡¹ç›®jdkç‰ˆæœ¬å˜äº†ï¼Œå˜å›1.5ç‰ˆæœ¬æˆ–è€…å…¶ä»–ç‰ˆæœ¬</p>
<p>è§£å†³åŠæ³•å¦‚ä¸‹:</p>
<!-- more -->
<p>æ­¤åŠæ³•ä¿®æ”¹mavenè®¾ç½®æ–‡ä»¶,ä»¥åæ‰€æœ‰çš„é¡¹ç›®é»˜è®¤JDKç‰ˆæœ¬éƒ½ä¸ºè‡ªå·±è®¾ç½®çš„</p>
<ol>
<li>ä¿®æ”¹settings.xml</li>
</ol>
<pre><code class="language-xml">&lt;profile&gt;
    &lt;id&gt;jdk-1.8&lt;/id&gt;
     &lt;activation&gt;
          &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;
          &lt;jdk&gt;1.8&lt;/jdk&gt;
      &lt;/activation&gt;
&lt;properties&gt;
&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
&lt;maven.compiler.compilerVersion&gt;1.8&lt;/maven.compiler.compilerVersion&gt;
&lt;/properties&gt;
&lt;/profile&gt;
</code></pre>
<ol start="2">
<li>
<p>æ›´æ”¹IDEAè®¾ç½®<br>
<img src="https://shmebluk.github.io//post-images/1591630435988.jpg" alt="" loading="lazy"></p>
<p>å¦‚å›¾æ‰€ç¤º,ç¡®ä¿æ‰€æŒ‡æ–‡ä»¶è·¯å¾„ä¸ºä½ ä¿®æ”¹è¿‡çš„æ–‡ä»¶</p>
</li>
<li>
<p>é‡æ–°åŠ è½½Mavené¡¹ç›®<br>
ç‚¹å‡»å¦‚å›¾æ‰€ç¤ºåœ°æ–¹,é‡æ–°åŠ è½½Mavené¡¹ç›®å³å¯<br>
<img src="https://shmebluk.github.io//post-images/1591630571223.jpg" alt="" loading="lazy"></p>
</li>
<li>
<p>å®Œæˆä¿®æ”¹.</p>
</li>
</ol>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ•°æ®åº“è®¿é—®å¯¹è±¡DAO]]></title>
        <id>https://shmebluk.github.io/post/shu-ju-ku-fang-wen-dui-xiang-dao/</id>
        <link href="https://shmebluk.github.io/post/shu-ju-ku-fang-wen-dui-xiang-dao/">
        </link>
        <updated>2020-06-04T15:18:52.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="dao">DAO</h2>
<p>DAO(Database Access Object)æ•°æ®åº“è®¿é—®å¯¹è±¡.<br>
ä¸€ä¸ªé¢å‘å¯¹è±¡çš„æ•°æ®åº“æ¥å£ï¼Œå®ƒæ˜¾éœ²äº† Microsoft Jet æ•°æ®åº“å¼•æ“ï¼ˆç”± Microsoft Access æ‰€ä½¿ç”¨ï¼‰ï¼Œå¹¶å…è®¸ Visual Basic å¼€å‘è€…é€šè¿‡ ODBC åƒç›´æ¥è¿æ¥åˆ°å…¶ä»–æ•°æ®åº“ä¸€æ ·ï¼Œç›´æ¥è¿æ¥åˆ° Access è¡¨ã€‚DAO æœ€é€‚ç”¨äºå•ç³»ç»Ÿåº”ç”¨ç¨‹åºæˆ–å°èŒƒå›´æœ¬åœ°åˆ†å¸ƒä½¿ç”¨ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<h2 id="dao">DAO</h2>
<p>DAO(Database Access Object)æ•°æ®åº“è®¿é—®å¯¹è±¡.<br>
ä¸€ä¸ªé¢å‘å¯¹è±¡çš„æ•°æ®åº“æ¥å£ï¼Œå®ƒæ˜¾éœ²äº† Microsoft Jet æ•°æ®åº“å¼•æ“ï¼ˆç”± Microsoft Access æ‰€ä½¿ç”¨ï¼‰ï¼Œå¹¶å…è®¸ Visual Basic å¼€å‘è€…é€šè¿‡ ODBC åƒç›´æ¥è¿æ¥åˆ°å…¶ä»–æ•°æ®åº“ä¸€æ ·ï¼Œç›´æ¥è¿æ¥åˆ° Access è¡¨ã€‚DAO æœ€é€‚ç”¨äºå•ç³»ç»Ÿåº”ç”¨ç¨‹åºæˆ–å°èŒƒå›´æœ¬åœ°åˆ†å¸ƒä½¿ç”¨ã€‚</p>
<!-- more -->
<h4 id="basedaodao">BaseDAO(DAO)</h4>
<p>å°è£…é’ˆå¯¹äºæ•°æ®è¡¨çš„é€šç”¨æ“ä½œ</p>
<pre><code class="language-java">package com.DAO;

import org.apache.commons.dbutils.QueryRunner;
import org.apache.commons.dbutils.handlers.BeanHandler;
import org.apache.commons.dbutils.handlers.BeanListHandler;
import org.apache.commons.dbutils.handlers.ScalarHandler;

import java.sql.Connection;
import java.sql.SQLException;
import java.util.List;

/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: BaseDAO
 * @Desc:  å°è£…é’ˆå¯¹äºæ•°æ®è¡¨çš„é€šç”¨æ“ä½œ
 * @package com.DAO
 * @project DailyDemo
 * @date 2020/6/4 11:58
 */
public class BaseDAO {

    /**
     * æ›´æ–°ä¸€æ¡æ•°æ®
     * @param conn  Connection
     * @param sql  String
     * @param args Object
     */
    static int update(Connection conn, String sql,Object ...args) throws SQLException {
        QueryRunner qr = new QueryRunner();
        int update = qr.update(conn, sql, args);
        return update;
    }


    /**
     * æŸ¥è¯¢ä¸€æ¡æ•°æ®
     * @param conn  Connection
     * @param clazz  Class&lt;T&gt;
     * @param sql  String
     * @param args   Object
     * @param &lt;T&gt; T
     * @return T
     */
    static &lt;T&gt; T select(Connection conn,Class&lt;T&gt; clazz,String sql,Object ...args) throws SQLException {

        BeanHandler&lt;T&gt; bh = new BeanHandler&lt;&gt;(clazz);

        QueryRunner qr = new QueryRunner();
        T query = qr.query(conn, sql, bh, args);

        return query;
    }

    /**
     * æŸ¥è¯¢å¤šæ¡æ•°æ®
     * @param conn  Connection
     * @param clazz  Class&lt;T&gt;
     * @param sql  String
     * @param args   Object
     * @param &lt;T&gt; T
     * @return List&lt;T&gt;
     * @throws SQLException e
     */
    static &lt;T&gt; List&lt;T&gt; selectAll(Connection conn, Class&lt;T&gt; clazz, String sql, Object ...args) throws SQLException {

        BeanListHandler&lt;T&gt; bh = new BeanListHandler&lt;&gt;(clazz);

        QueryRunner qr = new QueryRunner();
        List&lt;T&gt; query = qr.query(conn, sql, bh, args);

        return query;
    }

    /**
     * æŸ¥è¯¢ç‰¹æ®Šå€¼
     * @param conn  Connection
     * @param clazz  Class&lt;T&gt;
     * @param sql  String
     * @param args   Object
     * @param &lt;T&gt; T
     * @return List&lt;T&gt;
     * @throws SQLException e
     */
    static &lt;T&gt; List&lt;T&gt; getValue(Connection conn,Class&lt;T&gt; clazz,String sql,Object ...args) throws SQLException {

        ScalarHandler&lt;T&gt; sh = new ScalarHandler&lt;&gt;();

        QueryRunner qr = new QueryRunner();
        List&lt;T&gt; execute = qr.execute(conn, sql, sh, args);

        return execute;
    }

}

</code></pre>
<h4 id="persondao">PersonDAO</h4>
<p>è§„èŒƒé’ˆå¯¹äºPersonè¡¨çš„å¸¸ç”¨æ“ä½œ</p>
<pre><code class="language-java">package com.DAO;

import com.bean.Person;

import java.sql.Connection;
import java.sql.SQLException;
import java.util.List;

/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: PersonDAO
 * @Desc:  è§„èŒƒé’ˆå¯¹äºPersonè¡¨çš„å¸¸ç”¨æ“ä½œ
 * @package com.DAO
 * @project ExampleDemo
 * @date 2020/6/4 14:53
 */
public interface PersonDAO {

    /**
     * æ’å…¥ä¸€æ¡è®°å½•
     * @param conn Connection
     * @param p Person
     */
    void insert(Connection conn ,Person p) throws SQLException;

    /**
     * æ›´æ–°ä¸€æ¡è®°å½•
     * @param conn Connection
     * @param id int
     */
    void updateById(Connection conn, Person p ,int id) throws SQLException;

    /**
     * åˆ é™¤ä¸€æ¡è®°å½•
     * @param conn Connection
     * @param id int
     */
    void deleteById(Connection conn ,int id) throws SQLException;

    /**
     * æŸ¥è¯¢
     * @param conn Connection
     * @param id int
     * @return Person
     */
    Person selectById(Connection conn, Person p,int id) throws SQLException;

    /**
     * æŸ¥è¯¢æ‰€æœ‰è®°å½•
     * @param conn Connection
     * @param aClass  Class&lt;Person&gt;
     * @return List&lt;Person&gt;
     */
    List&lt;Person&gt; selectAll(Connection conn, Class&lt;Person&gt; aClass) throws SQLException;

    /**
     * æŸ¥è¯¢ç‰¹æ®Šå€¼
     * @param conn Connection
     * @param &lt;T&gt; T
     * @return List&lt;T&gt;
     */
    &lt;T&gt; List&lt;T&gt; getValues(Connection conn) throws SQLException;
}

</code></pre>
<h4 id="persondaoimpl">PersonDAOImpl</h4>
<p>ä½œä¸ºå¯¹Personè¡¨çš„å…·ä½“æ“ä½œå®ç°ç±»</p>
<pre><code class="language-java">package com.DAO;

import com.bean.Person;
import com.utils.JdbcUtils;
import org.junit.Test;

import java.sql.Connection;
import java.sql.Date;
import java.sql.SQLException;
import java.util.Iterator;
import java.util.List;

/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: PersonDAOImpl
 * @Desc:  ä½œä¸ºå¯¹Personè¡¨çš„å…·ä½“æ“ä½œå®ç°ç±»
 * @package com.DAO
 * @project ExampleDemo
 * @date 2020/6/4 18:10
 */
public class PersonDAOImpl extends BaseDAO implements PersonDAO {

    @Override
    public void insert(Connection conn, Person p) throws SQLException {
        String sql = &quot;insert into `person` values (null,?,?,?,?)&quot;;
        int update = update(conn, sql, null, p.getName(), p.getAge(), p.getGender(), p.getBirthday());
        System.out.println(update + &quot;æ¡æ•°æ®è¢«ä¿®æ”¹&quot;);
    }

    @Override
    public void updateById(Connection conn, Person p, int id) throws SQLException {
        String sql = &quot;update `person` set `name` = ? , `age` = ? , `gender` = ? , `birthday` = ? where `id` = ? &quot;;
        int update = update(conn, sql, p.getName(), p.getAge(), p.getGender(), p.getBirthday(), id);
        System.out.println(update + &quot;æ¡æ•°æ®è¢«ä¿®æ”¹&quot;);
    }

    @Override
    public void deleteById(Connection conn, int id) throws SQLException {
        String sql = &quot;delete from `person` where `id` = ? &quot;;
        int update = update(conn, sql, id);
        System.out.println(update + &quot;æ¡æ•°æ®è¢«ä¿®æ”¹&quot;);
    }

    @Override
    public Person selectById(Connection conn, Person p, int id) throws SQLException {
        String sql = &quot;select * from `person` where `id` = ?&quot;;
        Person person = select(conn, p.getClass(), sql, id);
        return person;
    }

    @Override
    public List&lt;Person&gt; selectAll(Connection conn, Class&lt;Person&gt; aClass) throws SQLException {
        String sql = &quot;select * from `person`&quot;;
        List&lt;Person&gt; people = selectAll(conn, Person.class, sql);
        return people;
    }


    @Override
    public &lt;T&gt; List&lt;T&gt; getValues(Connection conn) throws SQLException {
        String sql = &quot;select count(*) from `person`&quot;;
        List&lt;Long&gt; getValue = getValue(conn, Long.class, sql);
        return (List&lt;T&gt;) getValue;
    }

    /**
     * æµ‹è¯•æ›´æ–°æ•°æ®
     */
    @Test
    public void Test01() {
        Connection conn = JdbcUtils.getConnection();
        Date date = new Date(165456156146L);
        Person person = new Person(0, &quot;Dell&quot;, 10, &quot;å¥³&quot;, date);
        try {
            updateById(conn, person, 21);
        } catch (SQLException throwables) {
            throwables.printStackTrace();
        } finally {
            JdbcUtils.closeResource(conn);
        }
    }

    /**
     * æµ‹è¯•æŸ¥è¯¢æ•°æ®
     */
    @Test
    public void Test02() {
        Connection conn = null;
        try {
            conn = JdbcUtils.getConnection();
            List&lt;Person&gt; people = selectAll(conn, Person.class);

            Iterator&lt;Person&gt; iterator = people.iterator();
            while (iterator.hasNext()) {
                Person person = iterator.next();
                System.out.println(person.toString());
            }
        } catch (SQLException throwables) {
            throwables.printStackTrace();
        } finally {
            JdbcUtils.closeResource(conn);
        }
    }

    /**
     * æŸ¥è¯¢ç‰¹æ®Šå€¼
     */
    @Test
    public void Test03() {
        Connection conn = null;
        try {
            conn = JdbcUtils.getConnection();
            List&lt;Object&gt; values = getValues(conn);
            values.forEach(System.out::println);
        } catch (SQLException throwables) {
            throwables.printStackTrace();
        } finally {
            JdbcUtils.closeResource(conn);
        }
    }
}

</code></pre>
<h2 id="bean">Bean</h2>
<h4 id="person">Person</h4>
<p>å¯¹åº”æ•°æ®åº“ä¸­personè¡¨</p>
<pre><code class="language-java">package com.bean;

import java.sql.Date;

/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: Person
 * @Desc: å¯¹åº”æ•°æ®åº“ä¸­personè¡¨
 * @package com.bean
 * @project DailyDemo
 * @date 2020/6/4 11:49
 */
public class Person {

    private int id;
    private String name;
    private int age;
    private String gender;
    private Date birthday;

    public Person() {
    }

    public Person(int id, String name, int age, String gender, Date birthday) {
        this.id = id;
        this.name = name;
        this.age = age;
        this.gender = gender;
        this.birthday = birthday;
    }

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public String getGender() {
        return gender;
    }

    public void setGender(String gender) {
        this.gender = gender;
    }

    public Date getBirthday() {
        return birthday;
    }

    public void setBirthday(Date birthday) {
        this.birthday = birthday;
    }

    @Override
    public String toString() {
        return &quot;Person{&quot; +
                &quot;id=&quot; + id +
                &quot;, name='&quot; + name + '\'' +
                &quot;, age=&quot; + age +
                &quot;, gender='&quot; + gender + '\'' +
                &quot;, birthday=&quot; + birthday +
                '}';
    }
}

</code></pre>
<h2 id="utils">Utils</h2>
<h4 id="dbutils">DbUtils</h4>
<p>JDBCå·¥å…·ç±», ä½¿ç”¨ <code>druid</code>ç”¨äºè·å–æ•°æ®åº“è¿æ¥å’Œå…³é—­èµ„æº</p>
<pre><code class="language-java">package com.utils;

import com.alibaba.druid.pool.DruidDataSourceFactory;
import org.apache.commons.dbutils.DbUtils;
import org.junit.Test;

import javax.sql.DataSource;
import java.io.IOException;
import java.io.InputStream;
import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.Statement;
import java.util.Properties;

/**
 * @author ShmeBluk
 * @version 1.0
 * @ClassName: JdbcUtils
 * @Desc: JDBCå·¥å…·ç±», ç”¨äºè·å–æ•°æ®åº“è¿æ¥å’Œå…³é—­èµ„æº
 * @package com.utils
 * @project DailyDemo
 * @date 2020/6/4 12:00
 */
public class JdbcUtils {

    /**
     * Druidæ•°æ®åº“è¿æ¥æ± è·å–è¿æ¥
     *
     * @return Connectionå®ä¾‹
     */
    public static Connection getConnection() {

        InputStream is = null;
        Connection conn;
        try {
            is = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;resource\\druid.properties&quot;);

            Properties prop = new Properties();

            prop.load(is);
            DataSource ds = DruidDataSourceFactory.createDataSource(prop);
            conn = ds.getConnection();
            System.out.println(&quot;è·å¾—æ•°æ®åº“è¿æ¥&quot;);
            return conn;
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            try {
                if (is != null)
                    is.close();
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
        return null;
    }

    /**
     * å…³é—­èµ„æº
     *
     * @param conn Connection å¯¹è±¡
     * @param stmt Statement å¯¹è±¡
     * @param rs   ResultSet å¯¹è±¡
     */
    public static void closeResource(Connection conn, Statement stmt, ResultSet rs) {

        if (rs != null) {
            DbUtils.closeQuietly(rs);
            System.out.println(rs.getClass() + &quot;å…³é—­å®Œæˆ&quot;);
        } else if (stmt != null) {
            DbUtils.closeQuietly(stmt);
            System.out.println(stmt.getClass() + &quot;å…³é—­å®Œæˆ&quot;);
        } else if (conn != null) {
            DbUtils.closeQuietly(conn);
            System.out.println(conn.getClass() + &quot;å…³é—­å®Œæˆ&quot;);
        }

    }

    /**
     * é‡è½½æ–¹æ³•
     * @param conn  Connection
     * @param rs ResultSet
     */
    public static void closeResource(Connection conn, ResultSet rs) {

        if (rs != null) {
            DbUtils.closeQuietly(rs);
            System.out.println(rs.getClass() + &quot;å…³é—­å®Œæˆ&quot;);
        } else if (conn != null) {
            DbUtils.closeQuietly(conn);
            System.out.println(conn.getClass() + &quot;å…³é—­å®Œæˆ&quot;);
        }

    }

    /**
     * é‡è½½æ–¹æ³•
     * @param conn  Connection
     * @param stmt  Statement
     */
    public static void closeResource(Connection conn, Statement stmt) {

        if (stmt != null) {
            DbUtils.closeQuietly(stmt);
            System.out.println(stmt.getClass() + &quot;å…³é—­å®Œæˆ&quot;);
        } else if (conn != null) {
            DbUtils.closeQuietly(conn);
            System.out.println(conn.getClass() + &quot;å…³é—­å®Œæˆ&quot;);
        }

    }

    /**
     * é‡è½½
     * @param conn Connection
     */
    public static void closeResource(Connection conn) {

        if (conn != null) {
            DbUtils.closeQuietly(conn);
            System.out.println(conn.getClass() + &quot;å…³é—­å®Œæˆ&quot;);
        }

    }

    /**
     * æµ‹è¯•æ–¹æ³• getConnection() å’Œ closeResource()
     */
    @Test
    public void Test01() {
        Connection conn = getConnection();
        System.out.println(conn);
        closeResource(conn, null, null);
    }
}

</code></pre>
<h4 id="resource">resource</h4>
<p>druid.propertiesé…ç½®æ–‡ä»¶</p>
<pre><code class="language-properties">url=jdbc:mysql://localhost:3306/dailytext?serverTimezone=UTC
username=user1
password=102850
driverClassName=com.mysql.cj.jdbc.Driver
initialSiize=10
maxActive=10
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[JDBCç›¸å…³é…ç½®å’Œæ“ä½œ]]></title>
        <id>https://shmebluk.github.io/post/jdbc-xiang-guan-pei-zhi-he-cao-zuo/</id>
        <link href="https://shmebluk.github.io/post/jdbc-xiang-guan-pei-zhi-he-cao-zuo/">
        </link>
        <updated>2020-06-04T14:44:20.000Z</updated>
        <summary type="html"><![CDATA[<h4 id="è·å–æ•°æ®åº“è¿æ¥çš„å‡ ç§æ–¹å¼ä»¥åŠpreparedstatementå’Œstatementçš„å¯¹æ¯”">è·å–æ•°æ®åº“è¿æ¥çš„å‡ ç§æ–¹å¼ä»¥åŠPreparedStatementå’ŒStatementçš„å¯¹æ¯”</h4>
]]></summary>
        <content type="html"><![CDATA[<h4 id="è·å–æ•°æ®åº“è¿æ¥çš„å‡ ç§æ–¹å¼ä»¥åŠpreparedstatementå’Œstatementçš„å¯¹æ¯”">è·å–æ•°æ®åº“è¿æ¥çš„å‡ ç§æ–¹å¼ä»¥åŠPreparedStatementå’ŒStatementçš„å¯¹æ¯”</h4>
<!-- more -->
<h2 id="è·å–æ•°æ®åº“è¿æ¥çš„å‡ ç§æ–¹å¼">è·å–æ•°æ®åº“è¿æ¥çš„å‡ ç§æ–¹å¼</h2>
<p>ps.æ•°æ®åº“URL : String url = &quot;jdbc:mysql://localhost:3306/dailytext?useSSL=false&amp;serverTimezone=UTC&quot;</p>
<p>â€‹	 MySQL5.0--&gt;driverClass=&quot;com.mysql.jdbc.Driver&quot;;</p>
<p>â€‹     MySQL8.0--&gt;driverClass=&quot;com.mysql.cj.jdbc.Driver&quot;;</p>
<h4 id="é€šè¿‡driverå®ä¾‹è·å–">é€šè¿‡Driverå®ä¾‹è·å–</h4>
<pre><code class="language-java">//åˆ›å»ºDriverå¯¹è±¡
Driver driver = new Driver();
//æ•°æ®åº“URL
String url = &quot;jdbc:mysql://localhost:3306/dailytext?useSSL=false&amp;serverTimezone=UTC&quot;;
//Propertieså­˜æ”¾ç”¨æˆ·åå’Œå¯†ç 
Properties prop = new Properties();
prop.setProperty(&quot;user&quot;, &quot;user1&quot;);
prop.setProperty(&quot;password&quot;, &quot;102850&quot;);
//è°ƒç”¨connect(),ä¼ å…¥urlå’Œprop
Connection connect = driver.connect(url, prop);
//è·å¾—è¿æ¥
System.out.println(connect);
</code></pre>
<h4 id="é€šè¿‡drivermanagerè·å–">é€šè¿‡DriverManagerè·å–</h4>
<pre><code class="language-java">public class Jdbc8Test01 {

    // MySQL 8.0 ä»¥ä¸Šç‰ˆæœ¬ - JDBC é©±åŠ¨ååŠæ•°æ®åº“ URL
    static final String JDBC_DRIVER = &quot;com.mysql.cj.jdbc.Driver&quot;;
    static final String DB_URL = &quot;jdbc:mysql://localhost:3306/dailytext?useSSL=false&amp;serverTimezone=UTC&quot;;

    // æ•°æ®åº“çš„ç”¨æˆ·åä¸å¯†ç 
    static final String USER = &quot;root&quot;;
    static final String PASS = &quot;102850&quot;;

    public static void main(String[] args) {

        Connection conn = null;
        Statement stmt = null;
        try {
            // æ³¨å†Œ JDBC é©±åŠ¨
            Class.forName(JDBC_DRIVER);

            // æ‰“å¼€é“¾æ¥
            System.out.println(&quot;è¿æ¥æ•°æ®åº“...&quot;);
            conn = DriverManager.getConnection(DB_URL, USER, PASS);

            // æ‰§è¡ŒæŸ¥è¯¢
            System.out.println(&quot; å®ä¾‹åŒ–Statementå¯¹è±¡...&quot;);
            stmt = conn.createStatement();
            String sql;
            sql = &quot;SELECT id, name, url FROM websites&quot;;
            ResultSet rs = stmt.executeQuery(sql);

            // å±•å¼€ç»“æœé›†æ•°æ®åº“
            while (rs.next()) {
                // é€šè¿‡å­—æ®µæ£€ç´¢
                int id = rs.getInt(&quot;id&quot;);
                String name = rs.getString(&quot;name&quot;);
                String url = rs.getString(&quot;url&quot;);

                // è¾“å‡ºæ•°æ®
                System.out.print(&quot;ID: &quot; + id);
                System.out.print(&quot;, ç«™ç‚¹åç§°: &quot; + name);
                System.out.print(&quot;, ç«™ç‚¹ URL: &quot; + url);
                System.out.print(&quot;\n&quot;);
            }
            // å®Œæˆåå…³é—­
            rs.close();
            stmt.close();
            conn.close();
        } catch (Exception se) {
            // å¤„ç† JDBC é”™è¯¯
            se.printStackTrace();
        }// å¤„ç† Class.forName é”™è¯¯
        finally {
            // å…³é—­èµ„æº
            try {
                if (stmt != null) stmt.close();
            } catch (SQLException se2) {
            }// ä»€ä¹ˆéƒ½ä¸åš
            try {
                if (conn != null) conn.close();
            } catch (SQLException se) {
                se.printStackTrace();
            }
        }
        System.out.println(&quot;Goodbye!&quot;);
    }
}
</code></pre>
<h4 id="ä»é…ç½®æ–‡ä»¶è·å–ä¿¡æ¯">ä»é…ç½®æ–‡ä»¶è·å–ä¿¡æ¯</h4>
<ol>
<li>
<p>é…ç½®æ–‡ä»¶å†…å®¹</p>
<pre><code class="language-xml">user=root
password=102850
url=jdbc:mysql://localhost:3306/dailytext?useSSL=false&amp;serverTimezone=UTC
#MySQL8.0ä»¥ä¸Šç‰ˆæœ¬ JDBC é©±åŠ¨å
driverClass=com.mysql.cj.jdbc.Driver
#MySQL8.0ä»¥ä¸‹ç‰ˆæœ¬ JDBC é©±åŠ¨å
#driverClass=com.mysql.jdbc.Driver
</code></pre>
<ol start="2">
<li>å®ä¾‹ä»£ç </li>
</ol>
<pre><code class="language-java">//è·å–è¾“å…¥æµ(ä¸¤ç§æ–¹æ³•)
InputStream is = Jtest01.class.getClassLoader().getResourceAsStream(&quot;jdbc.properties&quot;);
//mainæ–¹æ³•ä¸­æ–‡ä»¶è·¯å¾„ä¸ºProjectä¸‹
FileInputStream fis = new FileInputStream(&quot;TEST02\\src\\jdbc.properties&quot;);

Properties prop = new Properties();
prop.load(fis);

//è·å–é…ç½®ä¿¡æ¯
String user = prop.getProperty(&quot;user&quot;);
String password = prop.getProperty(&quot;password&quot;);
String url = prop.getProperty(&quot;url&quot;);
</code></pre>
</li>
</ol>
<p>String driverClass = prop.getProperty(&quot;driverClass&quot;);</p>
<p>//æ³¨å†Œé©±åŠ¨<br>
Class.forName(driverClass);</p>
<p>//è·å¾—Connectionå¯¹è±¡,å»ºç«‹ä¸æ•°æ®åº“çš„è¿æ¥<br>
Connection connection1 = DriverManager.getConnection(url, user, password);<br>
Connection connection2 = DriverManager.getConnection(url, prop);</p>
<p>System.out.println(connection1);<br>
System.out.println(connection2);</p>
<pre><code>```
</code></pre>
<h4 id="druidæ•°æ®åº“è¿æ¥æ± ">druidæ•°æ®åº“è¿æ¥æ± </h4>
<p>é…ç½®æ–‡ä»¶druid.proterties</p>
<pre><code class="language-properties">url=jdbc:mysql://localhost:3306/dailytext?serverTimezone=UTC
username=user1
password=102850
driverClassName=com.mysql.cj.jdbc.Driver
initialSiize=10
maxActive=10
</code></pre>
<p>ä»£ç å®ç°</p>
<pre><code class="language-java">
//ä»æ•°æ®åº“è¿æ¥æ± è·å–è¿æ¥
Properties prop = new Properties();

//ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;String pathName&quot;)
// æ­¤ç§æ–¹å¼è¯»å–æ–‡ä»¶ä½ç½®é»˜è®¤ä¸ºsrcç›®å½•ä¸‹(åœ¨mainæ–¹æ³•å’Œåœ¨@Testæ–¹æ³•ä¸­è·¯å¾„ä¸€æ ·)
InputStream is = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;Resource\\druid.properties&quot;);

//FileInputStream(&quot;String pathName&quot;)
// åœ¨mainæ–¹æ³•ä¸­,æ­¤ç§æ–¹å¼è¯»å–æ–‡ä»¶ä½ç½®é»˜è®¤ä¸ºProjectç›®å½•ä¸‹
// åœ¨@Testæ–¹æ³•ä¸­,æ­¤ç§æ–¹å¼è¯»å–æ–‡ä»¶ä½ç½®é»˜è®¤ä¸ºModuleç›®å½•ä¸‹
// FileInputStream is = new FileInputStream(&quot;JDBC\\src\\Resource\\druid.properties&quot;);
prop.load(is);
DataSource source = DruidDataSourceFactory.createDataSource(prop);
Connection conn = source.getConnection();
System.out.println(conn);
</code></pre>
<h2 id="preparedstatementå¯¹æ¯”statementçš„ä¼˜ç‚¹">PreparedStatementå¯¹æ¯”Statementçš„ä¼˜ç‚¹</h2>
<p>(å¥½å¤„æ˜¯åŸºäºPreparedStatementçš„é¢„ç¼–è¯‘SQLè¯­å¥åŠŸèƒ½)</p>
<ol>
<li>è§£å†³SQLè¯­å¥æ‹¼ä¸²çš„é—®é¢˜</li>
<li>è§£å†³SQLæ³¨å…¥é—®é¢˜</li>
<li>å®ç°å¯¹Blobç±»å‹çš„å­—æ®µæ“ä½œ</li>
<li>æé«˜æ‰¹é‡æ“ä½œæ—¶çš„æ•ˆç‡</li>
</ol>
<h2 id="å¯¹æ•°æ®åº“æ‰§è¡Œæ“ä½œ">å¯¹æ•°æ®åº“æ‰§è¡Œæ“ä½œ</h2>
<h4 id="æ­¥éª¤">æ­¥éª¤</h4>
<pre><code>1.åˆ›å»ºæ–‡ä»¶è¾“å…¥æµ,ä»é…ç½®æ–‡ä»¶è¯»å–é…ç½®ä¿¡æ¯,
    â‘ .æ–‡ä»¶è¾“å…¥æµä½äºmainæ–¹æ³•ä¸­æ—¶æ–‡ä»¶è¯»å–ä½ç½®åœ¨Projectç›®å½•ä¸‹
    â‘¡.æ–‡ä»¶è¾“å…¥æµä½äº@Testæ–¹æ³•ä¸­æ—¶æ–‡ä»¶è¯»å–ä½ç½®åœ¨Moduleç›®å½•ä¸‹
2.ä¼ å…¥æ–‡ä»¶æµ
3.è¯»å–é…ç½®ä¿¡æ¯
4.åŠ è½½JDBCé©±åŠ¨
5.é€šè¿‡DriverManageråˆ›å»ºconnectionå¯¹è±¡,è·å–æ•°æ®åº“è¿æ¥
6.ç¼–å†™SQLè¯­å¥,ä½¿ç”¨å ä½ç¬¦
7.åˆ›å»ºstatement(PreparedStatement)å¯¹è±¡,ä¼ å…¥SQLè¯­å¥è¿›è¡Œé¢„ç¼–è¯‘
8.å¡«å……å ä½ç¬¦
9.æ‰§è¡ŒSQLæ“ä½œ
10.å…³é—­èµ„æº
</code></pre>
<h4 id="ç¤ºä¾‹ä»£ç ">ç¤ºä¾‹ä»£ç </h4>
<pre><code class="language-java">public static void main(String[] args) {

    FileInputStream fis = null;
    Connection conn = null;
    PreparedStatement pst = null;

    try {
        //è·å–æ–‡ä»¶è¾“å…¥æµ(mainæ–¹æ³•ä¸­æ–‡ä»¶ä½ç½®åœ¨å½“å‰Projectä¸‹)
        fis = new FileInputStream(&quot;JDBC\\jdbc.properties&quot;);

        //ä¼ å…¥æ–‡ä»¶æµ
        Properties prop = new Properties();
        prop.load(fis);

        //è¯»å–é…ç½®ä¿¡æ¯
        String url = prop.getProperty(&quot;url&quot;);
        String driverClass = prop.getProperty(&quot;driverClass&quot;);
        System.out.println(url);
        System.out.println(driverClass);

        //åŠ è½½JDBCé©±åŠ¨
        Class.forName(driverClass);

        //è·å–æ•°æ®åº“è¿æ¥
        conn = DriverManager.getConnection(url, prop);
        System.out.println(conn);

        //é¢„ç¼–è¯‘SQLè¯­å¥
        //String sql = &quot;INSERT INTO person(`name`,`age`,`gender`,`birthday`)VALUES(?,?,?,?)&quot;;
        String sql = &quot;update person set `name`=? where `name`=?&quot;;
        pst = conn.prepareStatement(sql);

        //å¡«å……å ä½ç¬¦
        pst.setString(1, &quot;Eclipse&quot;);
        pst.setString(2, &quot;Idea&quot;);

        //æ‰§è¡Œæ“ä½œ(Insert;Update;Delete)
        boolean execute = pst.execute();
        System.out.println(execute);
    } catch (Exception e) {
        e.printStackTrace();
    } finally {
        //å…³é—­è¿æ¥
        try {
            if (pst!=null)
                pst.close();
        } catch (SQLException throwables) {
            throwables.printStackTrace();
        }
        try {
            if (conn!=null)
                conn.close();
        } catch (SQLException throwables) {
            throwables.printStackTrace();
        }
        try {
            if (fis!=null)
                fis.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Javaä¸­è¯»å–æ–‡ä»¶çš„å‡ ç§è·¯å¾„é…ç½®]]></title>
        <id>https://shmebluk.github.io/post/java-zhong-du-qu-wen-jian-de-ji-chong-lu-jing-pei-zhi/</id>
        <link href="https://shmebluk.github.io/post/java-zhong-du-qu-wen-jian-de-ji-chong-lu-jing-pei-zhi/">
        </link>
        <updated>2020-06-04T14:42:27.000Z</updated>
        <summary type="html"><![CDATA[<h4 id="è·å–é…ç½®æ–‡ä»¶çš„ä¸¤ç§æ–¹å¼åŒºåˆ«">è·å–é…ç½®æ–‡ä»¶çš„ä¸¤ç§æ–¹å¼åŒºåˆ«</h4>
]]></summary>
        <content type="html"><![CDATA[<h4 id="è·å–é…ç½®æ–‡ä»¶çš„ä¸¤ç§æ–¹å¼åŒºåˆ«">è·å–é…ç½®æ–‡ä»¶çš„ä¸¤ç§æ–¹å¼åŒºåˆ«</h4>
<!-- more -->
<h6 id="classloadergetsystemclassloadergetresourceasstream">ClassLoader.getSystemClassLoader().getResourceAsStream()</h6>
<pre><code class="language-java">//ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;String pathName&quot;) 
// æ­¤ç§æ–¹å¼è¯»å–æ–‡ä»¶ä½ç½®é»˜è®¤ä¸ºsrcç›®å½•ä¸‹(åœ¨mainæ–¹æ³•å’Œåœ¨@Testæ–¹æ³•ä¸­è·¯å¾„ä¸€æ ·)
InputStream is = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;Resource\\druid.properties&quot;);
</code></pre>
<h6 id="fileinputstream">FileInputStream()</h6>
<pre><code class="language-java">//FileInputStream(&quot;String pathName&quot;) 
// åœ¨mainæ–¹æ³•ä¸­,æ­¤ç§æ–¹å¼è¯»å–æ–‡ä»¶ä½ç½®é»˜è®¤ä¸ºProjectç›®å½•ä¸‹
// åœ¨@Testæ–¹æ³•ä¸­,æ­¤ç§æ–¹å¼è¯»å–æ–‡ä»¶ä½ç½®é»˜è®¤ä¸ºModuleç›®å½•ä¸‹
FileInputStream is = new FileInputStream(&quot;JDBC\\src\\Resource\\druid.properties&quot;);
</code></pre>
<h4 id="getresourceasstreamçš„åŒºåˆ«">getResourceAsStreamçš„åŒºåˆ«</h4>
<ol>
<li><code>Class.getResourceAsStream(String path)</code> ï¼š path ä¸ä»¥<code>â€™/'</code>å¼€å¤´æ—¶é»˜è®¤æ˜¯ä»æ­¤ç±»æ‰€åœ¨çš„åŒ…ä¸‹å–èµ„æºï¼Œä»¥<code>â€™/'</code>å¼€å¤´åˆ™æ˜¯ä»ClassPathæ ¹ä¸‹è·å–ã€‚å…¶åªæ˜¯é€šè¿‡pathæ„é€ ä¸€ä¸ªç»å¯¹è·¯å¾„ï¼Œæœ€ç»ˆè¿˜æ˜¯ç”±ClassLoaderè·å–èµ„æºã€‚</li>
<li><code>Class.getClassLoader.getResourceAsStream(String path)</code> ï¼šé»˜è®¤åˆ™æ˜¯ä»ClassPathæ ¹ä¸‹è·å–ï¼Œpathä¸èƒ½ä»¥<code>â€™/'</code>å¼€å¤´ï¼Œæœ€ç»ˆæ˜¯ç”±ClassLoaderè·å–èµ„æºã€‚</li>
<li><code>ServletContext. getResourceAsStream(String path)</code>ï¼šé»˜è®¤ä»WebAPPæ ¹ç›®å½•ä¸‹å–èµ„æºï¼ŒTomcatä¸‹pathæ˜¯å¦ä»¥<code>â€™/'</code>å¼€å¤´æ— æ‰€è°“ã€‚</li>
</ol>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä¸¤ç§è·å–InputStreamå¯¹è±¡çš„æ–¹æ³•]]></title>
        <id>https://shmebluk.github.io/post/liang-chong-huo-qu-inputstream-dui-xiang-de-fang-fa/</id>
        <link href="https://shmebluk.github.io/post/liang-chong-huo-qu-inputstream-dui-xiang-de-fang-fa/">
        </link>
        <updated>2020-06-04T14:38:18.000Z</updated>
        <summary type="html"><![CDATA[<p>æ€»ç»“ä¸¤ç§è·å–InputStreamå¯¹è±¡çš„æ–¹æ³•çš„åŒºåˆ«</p>
]]></summary>
        <content type="html"><![CDATA[<p>æ€»ç»“ä¸¤ç§è·å–InputStreamå¯¹è±¡çš„æ–¹æ³•çš„åŒºåˆ«</p>
<!-- more -->
<p><code>getResourceAsStream(String path)</code></p>
<p>é»˜è®¤pathè·¯å¾„ä½äºClassæ‰€åœ¨Moduleçš„srcç›®å½•ä¸‹ .</p>
<pre><code class="language-java">InputStream is = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;jdbc.properties&quot;);

</code></pre>
<p><code>FileInputStream(&quot;String path&quot;)</code></p>
<p>åœ¨mainæ–¹æ³•ä¸­æ—¶, é»˜è®¤è·¯å¾„ä¸ºä¸ºProjectä¸‹; åœ¨@Testå•å…ƒæµ‹è¯•æ–¹æ³•ä¸­è·¯å¾„ä¸ºå½“å‰Classæ‰€åœ¨Moduleç›®å½•ä¸‹ .</p>
<pre><code class="language-java">FileInputStream is = new FileInputStream(&quot;jdbc.properties&quot;);
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[äº‹åŠ¡éš”ç¦»çº§åˆ«]]></title>
        <id>https://shmebluk.github.io/post/shi-wu-ge-chi-ji-bie/</id>
        <link href="https://shmebluk.github.io/post/shi-wu-ge-chi-ji-bie/">
        </link>
        <updated>2020-06-04T14:36:13.000Z</updated>
        <summary type="html"><![CDATA[<h3 id="äº‹åŠ¡éš”ç¦»çº§åˆ«å­¦ä¹ æ€»ç»“">äº‹åŠ¡éš”ç¦»çº§åˆ«å­¦ä¹ æ€»ç»“</h3>
]]></summary>
        <content type="html"><![CDATA[<h3 id="äº‹åŠ¡éš”ç¦»çº§åˆ«å­¦ä¹ æ€»ç»“">äº‹åŠ¡éš”ç¦»çº§åˆ«å­¦ä¹ æ€»ç»“</h3>
<!-- more -->
<h2 id="äº‹åŠ¡çš„å››ä¸ªå±æ€§">äº‹åŠ¡çš„å››ä¸ªå±æ€§</h2>
<h5 id="åŸå­æ€§">åŸå­æ€§</h5>
<p>æ¯ä¸€ä¸ªäº‹åŠ¡éƒ½æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„éƒ¨åˆ†ï¼Œäº‹åŠ¡ä¸­çš„æ“ä½œè¦ä¹ˆéƒ½å‘ç”Ÿï¼Œè¦ä¹ˆéƒ½ä¸å‘ç”Ÿã€‚</p>
<h5 id="éš”ç¦»æ€§">éš”ç¦»æ€§</h5>
<p>ä¸€ä¸ªäº‹åŠ¡ä¸è¢«å…¶ä»–äº‹ç‰©çš„æ•°æ®æ‰€å¹²æ‰°,å¤šä¸ªå¹¶å‘äº‹åŠ¡äº’ç›¸éš”ç¦»</p>
<h5 id="ä¸€è‡´æ€§">ä¸€è‡´æ€§</h5>
<p>ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œä¼šä»ä¸€ç§ç»Ÿä¸€çš„çŠ¶æ€,æ”¹å˜ä¸ºå¦ä¸€ç§ç»Ÿä¸€çš„çŠ¶æ€.äº‹åŠ¡å‰åæ•°æ®å®Œæ•´æ€§ä¿æŒä¸€è‡´.</p>
<h5 id="æŒä¹…æ€§">æŒä¹…æ€§</h5>
<p>ä¸€æ—¦äº‹åŠ¡è¢«æäº¤å°±æŒä¹…åŒ–åˆ°æ–‡ä»¶ä¸­,ä¸å¯æ”¹å˜</p>
<h2 id="äº‹åŠ¡çš„å¹¶å‘é—®é¢˜">äº‹åŠ¡çš„å¹¶å‘é—®é¢˜</h2>
<h5 id="è„è¯»">è„è¯»</h5>
<p>ä¸€ä¸ªäº‹åŠ¡è¯»å–äº†å¦ä¸€äº‹ç‰©æœªæäº¤çš„æ•°æ®</p>
<h5 id="ä¸å¯é‡å¤è¯»">ä¸å¯é‡å¤è¯»</h5>
<p>ä¸€ä¸ªäº‹åŠ¡åœ¨å¤šæ¬¡è¯»å–æŸä¸€æ•°æ®çš„æœŸé—´,å¦ä¸€äº‹åŠ¡å¯¹æ•°æ®è¿›è¡Œäº†<code>update</code>æ“ä½œå¹¶ä¸”<code>commit</code>,å¯¼è‡´çš„æ•°æ®å¤šæ¬¡è¯»å–è¿‡ç¨‹ä¸­å‡ºç°ä¸ä¸€è‡´çš„ç°è±¡,ä¸»è¦é’ˆå¯¹äº <code>update</code> æ“ä½œ .</p>
<h5 id="å¹»è¯»">å¹»è¯»</h5>
<p>ä¸€ä¸ªäº‹åŠ¡åœ¨å¤šæ¬¡è¯»å–æŸä¸€æ•°æ®çš„æœŸé—´,å¦ä¸€äº‹åŠ¡å¯¹æ•°æ®è¿›è¡Œäº†<code>insert</code>å¹¶ä¸”<code>commit</code>,å¯¼è‡´çš„æ•°æ®å¤šæ¬¡è¯»å–è¿‡ç¨‹ä¸­å‡ºç°ä¸ä¸€è‡´çš„ç°è±¡,ä¸»è¦é’ˆå¯¹äº <code>insert</code> æ“ä½œ .</p>
<h2 id="äº‹ç‰©çš„éš”ç¦»çº§åˆ«">äº‹ç‰©çš„éš”ç¦»çº§åˆ«</h2>
<table>
<thead>
<tr>
<th>äº‹åŠ¡éš”ç¦»çº§åˆ«</th>
<th>è„è¯»</th>
<th>ä¸å¯é‡å¤è¯»</th>
<th>å¹»è¯»</th>
</tr>
</thead>
<tbody>
<tr>
<td>è¯»æœªæäº¤(read-uncommitted)</td>
<td>å­˜åœ¨</td>
<td>å­˜åœ¨</td>
<td>å­˜åœ¨</td>
</tr>
<tr>
<td>è¯»å·²æäº¤(read-committed)</td>
<td>ä¸å­˜åœ¨</td>
<td>å­˜åœ¨</td>
<td>å­˜åœ¨</td>
</tr>
<tr>
<td>å¯é‡å¤è¯»(repeatable-read)</td>
<td>ä¸å­˜åœ¨</td>
<td>ä¸å­˜åœ¨</td>
<td>å­˜åœ¨</td>
</tr>
<tr>
<td>ä¸²è¡ŒåŒ–(serializable)</td>
<td>ä¸å­˜åœ¨</td>
<td>ä¸å­˜åœ¨</td>
<td>ä¸å­˜åœ¨</td>
</tr>
</tbody>
</table>
<h2 id="äº‹åŠ¡å¹¶å‘é—®é¢˜ä»£ç æ¼”ç¤º">äº‹åŠ¡å¹¶å‘é—®é¢˜ä»£ç æ¼”ç¤º</h2>
<h5 id="äº‹åŠ¡ç›¸å…³æ“ä½œä»£ç ">äº‹åŠ¡ç›¸å…³æ“ä½œä»£ç </h5>
<pre><code class="language-sql">-- åˆ›å»ºè¡¨
CREATE TABLE `bank` (
	`id` INT NOT NULL AUTO_INCREMENT COMMENT 'è´¦å·',
	`name` VARCHAR(10) NOT NULL,
	`pwd` VARCHAR(30) NOT NULL,
	`balance` INT NOT NULL DEFAULT 0,
	PRIMARY KEY (`id`)
)ENGINE=INNODB CHARSET=utf8;

-- æŸ¥çœ‹è¡¨å±æ€§
DESC `bank`;

-- ä¿®æ”¹å¤šä¸ªå­—æ®µå(change)æˆ–è€…å­—æ®µå±æ€§(modify)
ALTER TABLE `bank` 
MODIFY `pwd` VARCHAR(50),
CHANGE `name` `user` VARCHAR(20);

-- æ’å…¥æ•°æ®
INSERT INTO `bank`
(`user`,`pwd`,`balance`)
VALUES
('Rick',MD5('123456'),2000),
('Beth',MD5('000000'),3000),
('Jerry',MD5('102850'),1000),
('Summer',MD5('123456'),500),
('Morty',MD5('123456'),500);

-- æŸ¥çœ‹è¡¨
SELECT * FROM `bank`;

-- äº‹åŠ¡éš”ç¦»çº§åˆ«ç»ƒä¹ 

SHOW VARIABLES LIKE 'autocommit'; -- æŸ¥çœ‹è‡ªåŠ¨æäº¤çŠ¶æ€
SET autocommit=0; -- å…³é—­è‡ªåŠ¨æäº¤
-- æŸ¥çœ‹äº‹åŠ¡éš”ç¦»çº§åˆ«
SHOW VARIABLES LIKE 'transaction_isolation'; -- MySQLé»˜è®¤repeatable-read
SELECT @@transaction_isolation;  -- å…¨å±€
SELECT @@session.transaction_isolation; -- å½“å‰ä¼šè¯

-- è®¾ç½®äº‹åŠ¡éš”ç¦»çº§åˆ«(ä¸åŠ  session ä¸ºè®¾ç½®å…¨å±€)
SET SESSION TRANSACTION ISOLATION LEVEL
-- read uncommitted; -- è¯»æœªæäº¤
-- read committed; -- è¯»å·²æäº¤(é¿å…è„è¯»)
-- repeatable read; -- å¯é‡å¤è¯»(é¿å…è„è¯»å’Œä¸å¯é‡å¤è¯»)
-- serializable; -- ä¸²è¡ŒåŒ–

-- å¼€å¯äº‹åŠ¡
START TRANSACTION; 
/*
create
insert
update
drop
delete
truncate
*/

COMMIT; -- æäº¤
ROLLBACK; -- å›æ»š
-- ç»“æŸäº‹åŠ¡

SET autocommit=1; -- äº‹åŠ¡ç»“æŸåå¼€å¯è‡ªåŠ¨æäº¤
</code></pre>
<h5 id="autocommitå±æ€§">autocommitå±æ€§</h5>
<p>DDLæ“ä½œä¸€æ—¦æ‰§è¡Œå°±ä¼šè‡ªåŠ¨æäº¤,ä¸èƒ½æ›´æ”¹å±æ€§(å¦‚åˆ›å»ºè¡¨)</p>
<p>DMLé»˜è®¤è‡ªåŠ¨æäº¤,å¯ä»¥ä¿®æ”¹(å¢åˆ æ”¹æŸ¥)</p>
<ol>
<li>MySQLé»˜è®¤å¼€å¯è‡ªåŠ¨æäº¤,å³autocommit=1;</li>
</ol>
<p>é»˜è®¤ä¸€æ¡SQLè¯­å¥å°±ä¸ºä¸€ä¸ªäº‹åŠ¡,æ‰§è¡Œå®Œæ¯•åä¾¿è‡ªåŠ¨æäº¤,</p>
<p>æ­¤ç§æƒ…å†µä¸‹å¼€å¯äº‹åŠ¡<code>start transaction</code>;MySQLä¼šæŠŠä¹‹é—´çš„SQLè¯­å¥ä½œä¸ºä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œ,ç›´åˆ°<code>commit</code>æˆ–è€…<code>rollback</code>,æ‰ä¼šæŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­</p>
<ol start="2">
<li>
<p>è®¾ç½®autocommit=0å</p>
<p>å³ä½¿æ²¡æœ‰æ‰§è¡Œ<code>start transaction</code>,ç³»ç»Ÿä¹Ÿé»˜è®¤å¼€å§‹äº‹åŠ¡ï¼Œè¯­å¥æ‰§è¡Œå®Œæ¯•åä¸ä¼šæŒä¹…åŒ–åˆ°æ•°æ®åº“,ç›´åˆ°æ‰§è¡Œ<code>commit</code>æˆ–è€…<code>rollback</code>æ‰ä¼šæäº¤,æŒä¹…åŒ–åˆ°æ•°æ®åº“</p>
</li>
</ol>
<h5 id="äº‹åŠ¡å¹¶å‘é—®é¢˜ä»£ç ">äº‹åŠ¡å¹¶å‘é—®é¢˜ä»£ç </h5>
<pre><code class="language-sql">SELECT @@session.tx_isolation;   
SELECT @@tx_isolation;  

  
SET SESSION TRANSACTION ISOLATION LEVEL read uncommitted;  
SET SESSION TRANSACTION ISOLATION LEVEL read committed;  
SET SESSION TRANSACTION ISOLATION LEVEL repeatable read;  
SET SESSION TRANSACTION ISOLATION LEVEL serializable;  

start transaction;

--å»ºè¡¨
drop table AMOUNT;
CREATE TABLE `AMOUNT` (
`id`  varchar(10) NULL,
`money`  numeric NULL
)
;
--æ’å…¥æ•°æ®
insert into amount(id,money) values('A', 800);
insert into amount(id,money) values('B', 200);
insert into amount(id,money) values('C', 1000);
--æµ‹è¯•å¯é‡å¤è¯»ï¼Œæ’å…¥æ•°æ®
insert into amount(id,money) values('D', 1000);

--è®¾ç½®äº‹åŠ¡
SET SESSION TRANSACTION ISOLATION LEVEL read uncommitted;  
SELECT @@tx_isolation;  
--å¼€å¯äº‹åŠ¡
start transaction;

--è„è¯»æ¼”ç¤ºï¼Œè¯»åˆ°å…¶ä»–äº‹åŠ¡æœªæäº¤çš„æ•°æ®
--æ¡ˆåˆ—1ï¼Œäº‹åŠ¡ä¸€ï¼šAå‘Bè½¬200ï¼Œäº‹åŠ¡äºŒï¼šæŸ¥çœ‹Bé‡‘é¢å˜åŒ–ï¼Œäº‹åŠ¡ä¸€å›æ»šäº‹åŠ¡
update amount set money = money - 200 where id = 'A';
update amount set money = money + 200 where id = 'B';

--ä¸å¯é‡å¤è¯»æ¼”ç¤ºï¼Œè¯»åˆ°äº†å…¶ä»–äº‹åŠ¡æäº¤çš„æ•°æ®
--æ¡ˆåˆ—2ï¼Œäº‹åŠ¡ä¸€ï¼šBå‘Aè½¬200ï¼Œäº‹åŠ¡äºŒï¼šBå‘Cè½¬200è½¬100
SET SESSION TRANSACTION ISOLATION LEVEL read committed;  

--å¼€å¯äº‹åŠ¡
start transaction;
--ä¸¤ä¸ªäº‹åŠ¡éƒ½æŸ¥ä¸€ä¸‹æ•°æ®(è½¬è´¦ä¹‹å‰éœ€è¦ï¼ŒæŸ¥ä¸€ä¸‹é‡‘é¢æ˜¯å¦å¤Ÿæ»¡è¶³è½¬è´¦)
select * from amount;
--äº‹åŠ¡ä¸€ï¼šBå‘Aè½¬200
update amount set money = money - 200 where id = 'B';
update amount set money = money + 200 where id = 'A';

commit;
--äº‹åŠ¡äºŒï¼šBå‘Cè½¬200è½¬100
update amount set money = money - 100 where id = 'B';
update amount set money = money + 100 where id = 'C';
commit;
--ä»äº‹åŠ¡äºŒçš„è§’åº¦æ¥çœ‹ï¼Œè¯»åˆ°äº†äº‹åŠ¡ä¸€æäº¤äº‹åŠ¡çš„æ•°æ®ï¼Œå¯¼è‡´é‡‘é¢å‡ºç°è´Ÿæ•°

--å¹»è¯»æ¼”ç¤º
--æ¡ˆåˆ—3ï¼Œäº‹åŠ¡ä¸€ï¼šBå‘Aè½¬200ï¼Œäº‹åŠ¡äºŒï¼šBå‘Cè½¬200è½¬100
SET SESSION TRANSACTION ISOLATION LEVEL repeatable read;  

--å¼€å¯äº‹åŠ¡
start transaction;
--ä¸¤ä¸ªäº‹åŠ¡éƒ½æŸ¥ä¸€ä¸‹æ•°æ®(è½¬è´¦ä¹‹å‰éœ€è¦ï¼ŒæŸ¥ä¸€ä¸‹é‡‘é¢æ˜¯å¦å¤Ÿæ»¡è¶³è½¬è´¦)
select * from amount;
--äº‹åŠ¡ä¸€ï¼šBå‘Aè½¬200
update amount set money = money - 200 where id = 'B';
update amount set money = money + 200 where id = 'A';

commit;
--äº‹åŠ¡äºŒï¼šBå‘Cè½¬200è½¬100
update amount set money = money - 100 where id = 'B';
update amount set money = money + 100 where id = 'C';
commit;
--ä»äº‹åŠ¡äºŒçš„è§’åº¦æ¥çœ‹ï¼Œè¯»åˆ°äº†äº‹åŠ¡ä¸€æäº¤äº‹åŠ¡çš„æ•°æ®ï¼Œå¯¼è‡´é‡‘é¢å‡ºç°è´Ÿæ•°

</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Using zeRGBa and Slider Widgets to control virtual and physical RGB LED]]></title>
        <id>https://shmebluk.github.io/post/using-zergba-and-slider-widgets-to-control-virtual-and-physical-rgb-led/</id>
        <link href="https://shmebluk.github.io/post/using-zergba-and-slider-widgets-to-control-virtual-and-physical-rgb-led/">
        </link>
        <updated>2020-06-01T04:24:11.000Z</updated>
        <summary type="html"><![CDATA[<p>This code will allow zeRGBa or individual Red Blue Green Sliders to control the colour of both a Virtual LED (vRGB LED) and any physical one connected to the device.</p>
]]></summary>
        <content type="html"><![CDATA[<p>This code will allow zeRGBa or individual Red Blue Green Sliders to control the colour of both a Virtual LED (vRGB LED) and any physical one connected to the device.</p>
<!-- more -->
<p>ä½¿ç”¨Arduino UNOå’ŒW5100ç½‘ç»œæ‰©å±•æ¿,é€šè¿‡Blynkå¹³å°,æ§åˆ¶RGBç¯,LEDç¯,è¯»å–æ¸©åº¦ä¿¡æ¯<br>
W5100å ç”¨<code>pin[10,11,12,13]</code>,è¿˜æœ‰ä¸€ä¸ªSDå¡å¤ä½å¼•è„š<br>
ç”¨PWMå¼•è„šæ§åˆ¶å…±é˜´RGBå½©ç¯<code>(R:pin3 G:pin5 B:pin6)</code><br>
IOå¼•è„šæ§åˆ¶LEDç¯<code>(pin7)</code><br>
DS18B20æ¸©åº¦ä¼ æ„Ÿå™¨ä¿¡å·å¼•è„š<code>(pin2)</code></p>
<pre><code class="language-C++">#define BLYNK_PRINT Serial


#include &lt;SPI.h&gt;
#include &lt;Ethernet.h&gt;
#include &lt;BlynkSimpleEthernet.h&gt;
#include &lt;OneWire.h&gt;
#include &lt;DallasTemperature.h&gt;

#define W5100_CS  10
#define SDCARD_CS 4
// æ•°æ®è¾“å‡ºè„šæ¥å¼€å‘æ¿æ•°å­—å¼•è„š2,æ­£æå’Œä¿¡å·è„šä¹‹é—´æ¥ä¸€ä¸ª4.7Kæ¬§å§†çš„ç”µé˜»
#define ONE_WIRE_BUS 2

OneWire oneWire(ONE_WIRE_BUS);
DallasTemperature sensors(&amp;oneWire);

BlynkTimer timer;


// Define your Physical RGB LED pins here
#define RedPin 3  // Set RED RGB pin   pin3PWM
#define GrnPin 5  // Set GREEN RGB pin pin5
#define BluPin 6  // Set BLUE RGB pin  pin6

// Define your Virtual pins here
#define zeRGBa V0  // Set virtual RGB widget
#define rSlide V1  // Set virtual RGB widget
#define gSlide V2  // Set virtual RGB widget
#define bSlide V3  // Set virtual RGB widget
#define vRed V4  // Set virtual Red LED widget
#define vGreen V5  // Set virtual Green LED widget
#define vBlue V6  // Set virtual Blue LED widget
#define vRGB V7  // Set virtual RGB widget
#define HEXdisplay V8  // Set virtual RGB widget

int rrr, ggg, bbb;  // Set RED BLUE GREEN channels


// You should get Auth Token in the Blynk Appé¡¹ç›®ç§˜é’¥
char auth[] = &quot;lcO6bY4nLagj_JSluxbPtg8ooH4sKcYX&quot;; //é¡¹ç›®åç§°:W5100_zeRGB
//char auth[] = &quot;bGflzsrkCC04r0sRuF_s6Vebzo45kTbZ&quot;;//é¡¹ç›®åç§°:å…±é˜´RGBæ§åˆ¶
//char ssid[] = &quot;Tenda_A0D9B8&quot;;
//char pass[] = &quot;yang1314ai&quot;;
//char server[] = &quot;xxx.xxx.xxx.xxx&quot;;  // IP for your Local Server
char server[] = &quot;iot.haotech.xyz&quot;;  // URL for Blynk Cloud Server IPåœ°å€
int port = 8080; //ç«¯å£å·



void setup() {
  Serial.begin(9600);  // BLYNK_PRINT data

  pinMode(SDCARD_CS, OUTPUT);
  digitalWrite(SDCARD_CS, HIGH); // Deselect the SD card
  pinMode(RedPin, OUTPUT);  // Set RED pinMode
  pinMode(GrnPin, OUTPUT);  // Set GREEN pinMode
  pinMode(BluPin, OUTPUT);  // Set BLUE pinMode

  Blynk.virtualWrite(vRGB, 255);  // Activate vRGB
  Blynk.setProperty(vRGB, &quot;color&quot;, &quot;#000000&quot;);  // Set vRGB to Black

//  WiFi.begin(ssid, pass); 
//  Blynk.config(auth, server, port);
//  Blynk.connect();
  Blynk.begin(auth ,server , port);
  sensors.begin();
//å®šæ—¶
  timer.setInterval(5000, getTemp);
}



BLYNK_CONNECTED() {
  Blynk.syncAll();  // Synchronize hardware with App widgets when connected
}



void loop() {
  Blynk.run();
  timer.run();
}



//===== RED slider =====
BLYNK_WRITE(rSlide) { // START Blynk Function
  rrr = param.asInt(); // get a RED channel value
  Blynk.virtualWrite(vRed, rrr);  // Red LED intensity
  Blynk.virtualWrite(zeRGBa, rrr, ggg, bbb);  // Sync zeRGBa position
  RGBprocess(); // Run Arduino funtion
}  // END Blynk Function


//===== GREEN slider =====
BLYNK_WRITE(gSlide) { // START Blynk Function
  ggg = param.asInt(); // get a GREEN channel value
  Blynk.virtualWrite(vGreen, ggg);  // Green LED intensity
  Blynk.virtualWrite(zeRGBa, rrr, ggg, bbb);  // Sync zeRGBa position
  RGBprocess(); // Run Arduino funtion
}  // END Blynk Function


//===== BLUE slider =====
BLYNK_WRITE(bSlide) { // START Blynk Function
  bbb = param.asInt(); // get a BLUE channel value
  Blynk.virtualWrite(vBlue, bbb);  // Blue LED intensity
  Blynk.virtualWrite(zeRGBa, rrr, ggg, bbb);  // Sync zeRGBa position
  RGBprocess(); // Run Arduino funtion
}  // END Blynk Function



//===== zeRGBa Widget  =====
BLYNK_WRITE(zeRGBa) { // START Blynk Function
  rrr = param[0].asInt(); // get a RED channel value
  ggg = param[1].asInt(); // get a GREEN channel value
  bbb = param[2].asInt(); // get a BLUE channel value
  Blynk.virtualWrite(rSlide, rrr);  // Sync RED Slider position
  Blynk.virtualWrite(vRed, rrr);  // Red LED intensity
  Blynk.virtualWrite(gSlide, ggg);  // Sync Green slider position
  Blynk.virtualWrite(vGreen, ggg);  // Green LED intensity
  Blynk.virtualWrite(bSlide, bbb);  // Sinc Blue slider position
  Blynk.virtualWrite(vBlue, bbb);  // Blue LED intensity
  RGBprocess(); // Run Arduino funtion
}  // END Blynk Function



//===== Physical RGB LED Control and HEX conversion =====
void RGBprocess() {  // START Arduino funtion

  /*----- Comment out unneeded grouping based on device and RGB type ----- */
  // ESP with Common Anode+ RGB LED (å…±é˜³RGBç¯)
//   analogWrite(RedPin, (255 - rrr) * 4 + 4); // Write to RED RGB pin
//   analogWrite(GrnPin, (255 - ggg) * 4 + 4); // Write to GREEN RGB pin
//   analogWrite(BluPin, (255 - bbb) * 4 + 4); // Write to BLUE RGB pin

  // ESP with Common Cathode- RGB LED (å…±é˜´RGBç¯)
  analogWrite(RedPin, rrr*4+4);  // Write to RED RGB pin
  analogWrite(GrnPin, ggg*4+4);  // Write to GREEN RGB pin
  analogWrite(BluPin, bbb*4+4);  // Write to BLUE RGB pin

  // Arduino with Common Anode+ RGB LED
  //analogWrite(RedPin, 255-rrr);  // Write to RED RGB pin
  //analogWrite(GrnPin, 255-ggg);  // Write to GREEN RGB pin
  //analogWrite(BluPin, 255-bbb);  // Write to BLUE RGB pin

  // Arduino with Common Cathode- RGB LED
  //analogWrite(RedPin, rrr);  // Write to RED RGB pin
  //analogWrite(GrnPin, ggg);  // Write to GREEN RGB pin
  //analogWrite(BluPin, bbb);  // Write to BLUE RGB pin
  /*-----------------------------------------------------------------------*/

  String strRED = String(rrr, HEX);  // Convert RED DEC to HEX
  if (rrr &lt; 16) {
    strRED = String(&quot;0&quot; + strRED);  // Buffer with 0 if required
  }  // END if
  String strGRN = String(ggg, HEX);  // Convert GREEN DEC to HEX
  if (ggg &lt; 16)  {
    strGRN = String(&quot;0&quot; + strGRN);  // Buffer with 0 if required
  }  // END if
  String strBLU = String(bbb, HEX);  // Convert BLUE DEC to HEX
  if (bbb &lt; 16)  {
    strBLU = String(&quot;0&quot; + strBLU);  // Buffer with 0 if required
  }  // END if
  String HEXstring = String(&quot;#&quot; + strRED + strGRN + strBLU);  // Combine HEX fragments
  HEXstring.toUpperCase();  // Change HEX value to all upper case for ease of visuals
  Blynk.setProperty(HEXdisplay, &quot;color&quot;, HEXstring);  // Change background colour of HEX Data Label
  Blynk.virtualWrite(HEXdisplay, HEXstring);  // Display HEX data
  Blynk.setProperty(vRGB, &quot;color&quot;, HEXstring);  // Send formatted HEX colour to vRGB
}  // END Arduino Function

//è·å–æ¸©æ¹¿åº¦å‡½æ•°
void getTemp() {

  sensors.requestTemperatures(); // è·å–æ¸©åº¦
  Serial.print(&quot;Temperature for the device 1 (index 0) is: &quot;);
  float val = sensors.getTempCByIndex(0);
  Serial.println(val); 

 //å‘é€ç»™app
  Blynk.virtualWrite(V10,val); 
//  delay(2000);
}
</code></pre>
<p>APPç•Œé¢å¦‚ä¸‹å›¾<br>
<img src="https://shmebluk.github.io//post-images/1590985856684.jpg" alt="" loading="lazy"></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Grideaåšå®¢æ— æ³•è½½å…¥CSSæ ·å¼çš„è§£å†³åŠæ³•]]></title>
        <id>https://shmebluk.github.io/post/gridea-bo-ke-wu-fa-zai-ru-css-yang-shi-de-jie-jue-ban-fa/</id>
        <link href="https://shmebluk.github.io/post/gridea-bo-ke-wu-fa-zai-ru-css-yang-shi-de-jie-jue-ban-fa/">
        </link>
        <updated>2020-05-31T11:06:05.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ‘‰ä»Šæ—¥åœ¨ä½¿ç”¨Grideaå®¢æˆ·ç«¯æ›´æ–°åšå®¢çš„è¿‡ç¨‹ä¸­,æ¨é€åˆ°è¿œç«¯ä»“åº“åå†…å®¹æ˜¾ç¤ºæ­£å¸¸,ä½†æ˜¯æ— æ³•è½½å…¥ä¸»é¢˜æ ·å¼,å°±æ˜¯æ²¡æœ‰è½½å…¥CSSæ ·å¼,æŠ˜è…¾äº†ä¸€ä¸‹åˆåœ¨ææ‡‚é—®é¢˜å‡ºåœ¨å“ªé‡Œäº†,ä¸‹é¢è¯´ä¸€ä¸‹è‡ªå·±çš„è§£å†³æ€è·¯.</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ‘‰ä»Šæ—¥åœ¨ä½¿ç”¨Grideaå®¢æˆ·ç«¯æ›´æ–°åšå®¢çš„è¿‡ç¨‹ä¸­,æ¨é€åˆ°è¿œç«¯ä»“åº“åå†…å®¹æ˜¾ç¤ºæ­£å¸¸,ä½†æ˜¯æ— æ³•è½½å…¥ä¸»é¢˜æ ·å¼,å°±æ˜¯æ²¡æœ‰è½½å…¥CSSæ ·å¼,æŠ˜è…¾äº†ä¸€ä¸‹åˆåœ¨ææ‡‚é—®é¢˜å‡ºåœ¨å“ªé‡Œäº†,ä¸‹é¢è¯´ä¸€ä¸‹è‡ªå·±çš„è§£å†³æ€è·¯.</p>
<!-- more -->
<h4 id="é—®é¢˜æè¿°">é—®é¢˜æè¿°</h4>
<p>ğŸ˜µé¦–å…ˆ,æ–‡ç« å†™å®Œå,pushåˆ°è¿œç¨‹ä»“åº“,æŸ¥çœ‹ç½‘ç«™å‘ç°CSSæ ·å¼æ²¡æœ‰è½½å…¥,è®¾ç½®çš„ä¸»é¢˜æ²¡æœ‰ç”Ÿæ•ˆ,ç„¶åæ€€ç–‘æ˜¯CSSæ ·å¼æ–‡ä»¶çš„é—®é¢˜,åˆé‡æ–°pushäº†ä¸€é,é—®é¢˜ä¾æ—§.</p>
<h4 id="è§£å†³è¿‡ç¨‹">è§£å†³è¿‡ç¨‹</h4>
<p>ç„¶åæ€€ç–‘å¯èƒ½æ˜¯è¿œç¨‹ä»“åº“çš„åŸå› ,pushæ“ä½œæ²¡æœ‰æ›´æ–°CSSæ–‡ä»¶,ç„¶åç›´æ¥ä¸Šä¼ äº†æœ¬åœ°çš„CSSæ–‡ä»¶,å‘ç°é—®é¢˜ä¾æ—§å­˜åœ¨.<br>
ç„¶ååˆæ€€ç–‘æ˜¯æœ¬åœ°ä»“åº“çš„é—®é¢˜,å°†outputæ–‡ä»¶å¤¹æ–‡ä»¶å†…å®¹åˆ é™¤å,é‡æ–°push,ç„¶è€Œè¿˜æ˜¯æ²¡æœ‰è§£å†³.<br>
ç„¶ååˆåœ¨å®˜ç½‘é‡æ–°ä¸‹è½½äº†Grideaå®¢æˆ·ç«¯(å‘ç”Ÿäº†ä¸€ä¸ªå°æ’æ›²,ç½‘é¡µä¸Šæ”¾äº†GitHubå’ŒGiteeçš„æº,å‘ç°Giteeçš„ä¸‹è½½é€Ÿåº¦è¿˜ä¸å¦‚GitHubçš„ä¸‹è½½é€Ÿåº¦),é‡æ–°å®‰è£….push,è¿˜æ˜¯æ²¡è§£å†³.</p>
<h4 id="è§£å†³åŠæ³•">è§£å†³åŠæ³•</h4>
<p>ğŸ˜„æœ€åçªç„¶æƒ³åˆ°è‡ªå·±çš„è¿œç¨‹é…ç½®é¡µé¢åŸŸåé‡æ–°é…ç½®è¿‡,å†™çš„æ˜¯ä»“åº“çš„åŸŸå,æ›´æ¢ä¸ºé™æ€é¡µé¢çš„åŸŸååé—®é¢˜é¡ºåˆ©è§£å†³.</p>
<h4 id="é—®é¢˜æ€è€ƒ">é—®é¢˜æ€è€ƒ</h4>
<p>ğŸ™„æ¨æµ‹æ˜¯Grideaç”ŸæˆHTMLç½‘é¡µæ—¶CSSçš„linkåœ°å€æ˜¯æ ¹æ®åŸŸåæ¥çš„,ç”±äºæˆ‘å¡«çš„æ˜¯é¡¹ç›®çš„åŸŸå,å¯¼è‡´æ— æ³•æ‰¾åˆ°æ–‡ä»¶,è€Œä¸”åœ¨éƒ¨ç½²å®Œæˆçš„ä¸»é¡µå†…ç‚¹å‡»ä»»ä½•é“¾æ¥éƒ½ä¼šè·³è½¬åˆ°Codingçš„ç™»å½•é¡µé¢,æ‰€ä»¥å¯¼è‡´æ— æ³•æ­£ç¡®è½½å…¥æ–‡ä»¶,ä¸åªæ˜¯CSSæ–‡ä»¶,åº”è¯¥æ˜¯æ‰€æœ‰çš„æ–‡ä»¶éƒ½æ— æ³•è½½å…¥.</p>
<h4 id="é…ç½®å‚è€ƒå›¾ç‰‡">é…ç½®å‚è€ƒå›¾ç‰‡</h4>
<p><strong>æ­£ç¡®é…ç½®åŸŸåä¿¡æ¯</strong> (é™æ€é¡µé¢åŸŸå)<br>
<img src="https://shmebluk.github.io//post-images/1590924410945.jpg" alt="" loading="lazy"><br>
<img src="https://shmebluk.github.io//post-images/1590924522127.jpg" alt="" loading="lazy"><br>
<strong>é”™è¯¯é…ç½®åŸŸåä¿¡æ¯</strong> (é¡¹ç›®åŸŸå)<br>
<img src="https://shmebluk.github.io//post-images/1590924493053.jpg" alt="" loading="lazy"><br>
<img src="https://shmebluk.github.io//post-images/1590924531297.jpg" alt="" loading="lazy"></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[MySQL]]></title>
        <id>https://shmebluk.github.io/post/mysql/</id>
        <link href="https://shmebluk.github.io/post/mysql/">
        </link>
        <updated>2020-05-31T04:50:54.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="mysqlå­¦ä¹ è®°å½•">MySQLå­¦ä¹ è®°å½•</h2>
<p>DDL : æ•°æ®åº“å®šä¹‰è¯­å¥(Datebase Define Language)<br>
DML : æ•°æ®ç®¡ç†è¯­å¥(Datebase Manage Language)<br>
DQL : æ•°æ®åº“æŸ¥è¯¢è¯­è¨€(Datebase Query Language)</p>
]]></summary>
        <content type="html"><![CDATA[<h2 id="mysqlå­¦ä¹ è®°å½•">MySQLå­¦ä¹ è®°å½•</h2>
<p>DDL : æ•°æ®åº“å®šä¹‰è¯­å¥(Datebase Define Language)<br>
DML : æ•°æ®ç®¡ç†è¯­å¥(Datebase Manage Language)<br>
DQL : æ•°æ®åº“æŸ¥è¯¢è¯­è¨€(Datebase Query Language)</p>
<!-- more -->
<h5 id="æ•°æ®åº“å®šä¹‰è¯­å¥datebase-define-language">æ•°æ®åº“å®šä¹‰è¯­å¥(Datebase Define Language)</h5>
<pre><code class="language-sql">-- DDLè¯­å¥
SHOW DATABASES; -- åˆ—å‡ºæ‰€æœ‰æ•°æ®åº“
CREATE DATABASE `dailytext`; -- åˆ›å»ºæ•°æ®åº“
DROP DATABASE `dailyText`; -- åˆ é™¤æ•°æ®åº“
USE `dailytext`; -- æ›´æ¢æ•°æ®åº“
SHOW TABLES; -- åˆ—å‡ºæ•°æ®è¡¨
CREATE TABLE IF NOT EXISTS `person` (
	`id` INT AUTO_INCREMENT,
	`name` VARCHAR(10) NOT NULL,
	`age` INT,
	`gender` ENUM ('man','woman','other'),
	`bd` DATE,
	PRIMARY KEY (`id`)
)ENGINE=INNODB ,CHARSET=utf8 ; -- åˆ›å»ºè¡¨
DESC person; -- æ˜¾ç¤ºè¡¨ç»“æ„
ALTER TABLE persons RENAME person; -- é‡å‘½åè¡¨å
ALTER TABLE person ADD gender VARCHAR(3) DEFAULT 'ç”·' COMMENT 'æ€§åˆ«'; -- æ·»åŠ å­—æ®µ
ALTER TABLE `person` ADD `married` ENUM('yes','no') DEFAULT NULL first/after Column_Name; -- æŒ‡å®šä½ç½®æ·»åŠ å­—æ®µ
ALTER TABLE `person` MODIFY `married` VARCHAR(5) DEFAULT NULL; -- åªèƒ½ä¿®æ”¹å­—æ®µå±æ€§ä»¥åŠå­—æ®µé•¿åº¦
ALTER TABLE `person` CHANGE `married` `marry` VARCHAR(10) DEFAULT NULL; -- ä¿®æ”¹å­—æ®µå,å­—æ®µå±æ€§ä»¥åŠå­—æ®µé•¿åº¦
ALTER TABLE `person` DROP `marryy`; -- åˆ é™¤å­—æ®µ


-- deleteï¼Œdropï¼Œtruncate éƒ½æœ‰åˆ é™¤è¡¨çš„ä½œç”¨ï¼ŒåŒºåˆ«åœ¨äºï¼š
/*
 1ã€delete å’Œ truncate ä»…ä»…åˆ é™¤è¡¨æ•°æ®ï¼Œdrop è¿è¡¨æ•°æ®å’Œè¡¨ç»“æ„ä¸€èµ·åˆ é™¤ï¼Œæ‰“ä¸ªæ¯”æ–¹ï¼Œdelete æ˜¯å•æ€ï¼Œtruncate æ˜¯å›¢ç­ï¼Œdrop æ˜¯æŠŠç”µè„‘æ‘”äº†ã€‚
 2ã€delete æ˜¯ DML è¯­å¥ï¼Œæ“ä½œå®Œä»¥åå¦‚æœæ²¡æœ‰ä¸æƒ³æäº¤äº‹åŠ¡è¿˜å¯ä»¥å›æ»šï¼Œtruncate å’Œ drop æ˜¯ DDL è¯­å¥ï¼Œæ“ä½œå®Œé©¬ä¸Šç”Ÿæ•ˆï¼Œä¸èƒ½å›æ»šï¼Œæ‰“ä¸ªæ¯”æ–¹ï¼Œdelete æ˜¯å‘å¾®ä¿¡è¯´åˆ†æ‰‹ï¼Œåæ‚”è¿˜å¯ä»¥æ’¤å›ï¼Œtruncate å’Œ drop æ˜¯ç›´æ¥æ‰‡è€³å…‰è¯´æ»šï¼Œä¸èƒ½åæ‚”ã€‚
 3ã€æ‰§è¡Œçš„é€Ÿåº¦ä¸Šï¼Œdrop&gt;truncate&gt;deleteï¼Œæ‰“ä¸ªæ¯”æ–¹ï¼Œdrop æ˜¯ç¥èˆŸç«ç®­ï¼Œtruncate æ˜¯å’Œè°å·åŠ¨è½¦ï¼Œdelete æ˜¯è‡ªè¡Œè½¦ã€‚
 */
TRUNCATE TABLE `person`; -- åˆ é™¤è¡¨å†…å®¹,è‡ªå¢åˆ—è®¡æ•°å™¨æ¸…ç©º
DELETE TABLE `person`; -- åˆ é™¤è¡¨å†…å®¹,è‡ªå¢åˆ—è®¡æ•°å™¨ä¸æ¸…ç©º
							-- è‹¥æ•°æ®è¡¨ä½¿ç”¨InnoDBå¼•æ“,é‡å¯æ•°æ®åº“åè‡ªå¢åˆ—ä¼šæ¸…é›¶,æ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­
							-- è‹¥æ•°æ®è¡¨ä½¿ç”¨MyISAMå¼•æ“,é‡å¯æ•°æ®åº“åè‡ªå¢åˆ—ä¹Ÿä¸ä¼šæ¸…é›¶,æ•°æ®ä¿å­˜åœ¨æ–‡ä»¶ä¸­
DROP TABLE `person`; -- åˆ é™¤è¡¨å†…å®¹å’Œç»“æ„
</code></pre>
<h5 id="æ•°æ®ç®¡ç†è¯­å¥datebase-manage-language">æ•°æ®ç®¡ç†è¯­å¥(Datebase Manage Language)</h5>
<pre><code class="language-sql">-- DMLè¯­å¥
   -- æ·»åŠ ä¸€æ¡æ•°æ®
      -- æ–¹å¼ä¸€
	INSERT INTO person
	VALUES (NULL,'Mariya',12,'å¥³');
      -- æ–¹å¼äºŒ
        INSERT INTO person
        (`name`,`age`,`gender`,`birthday`)
        VALUES
        ('jicka',16,'å¥³',NOW());

   -- ä¿®æ”¹ä¸€æ¡æ•°æ®
	UPDATE person
	SET `name`='Rick' ,`age`=13 , `gender`=DEFAULT
	WHERE `name`='Mariya' OR `age`=12; 
	
	UPDATE person
	SET age=50
	WHERE `name`='Rick';
	
	UPDATE person
	SET `birthday`='1956-02-29' -- è®¾ç½®æ—¶é—´æ ¼å¼ä¸ºå­—ç¬¦ä¸²
	WHERE `name`='Rick';
	
	UPDATE person
	SET `birthday`=CURRENT_TIME
	WHERE id&gt;1 AND id &lt;14;
	
	
	-- åˆ é™¤ä¸€æ¡æ•°æ®(è‡ªå¢åˆ—ä¸æ¸…é™¤,ä¼šç»§ç»­åŸæ¥çš„å¢åŠ )
    DELETE FROM `person`
    WHERE `name`='Gazor';
</code></pre>
<h5 id="æ•°æ®åº“æŸ¥è¯¢è¯­è¨€datebase-query-language">æ•°æ®åº“æŸ¥è¯¢è¯­è¨€(Datebase Query Language)</h5>
<pre><code class="language-sql">-- DQLè¯­å¥
-- åŸºæœ¬æŸ¥è¯¢è¯­å¥:
SELECT * FROM cartoon;

-- è¿æ¥æŸ¥è¯¢
/* 
å†…è¿æ¥ :æ˜¾ç¤ºä¸¤è¡¨éƒ½æœ‰çš„å†…å®¹,whereå’Œonæ— åŒºåˆ«,åº”æ­é…on
è¯­æ³•:
	select column_name 
	from A 
	inner join B 
	where/on A.column_name=B.column_name
*/
SELECT c.`name` å§“å,c.`married` å·²å©š,p.`age` å¹´é¾„,p.`gender` æ€§åˆ«1,c.`gender` æ€§åˆ«2
FROM `cartoon` c
INNER JOIN `person` p
ON c.`name` = p.`name`
ORDER BY c.`id`;


/* å·¦è¿æ¥ :å·¦è¡¨ä¸ºä¸»è¡¨(A),ç»“æœæ˜¾ç¤ºå·¦è¡¨ä¸­å…¨éƒ¨ä¿¡æ¯,å³è¡¨ä¸­ä¸å­˜åœ¨çš„å­—æ®µåç”¨ NULL å¡«å……
è¯­æ³•: 
	select column_name 
	from A 
	left join B 
	on A.column_name=B.column_name
*/
SELECT p.`name` å§“å,p.`gender` æ€§åˆ«1,c.`gender` æ€§åˆ«2,c.`married` å·²å©š
FROM person p LEFT JOIN cartoon c
ON p.`name`=c.`name`;


/* å³è¿æ¥ :å³è¡¨ä¸ºä¸»è¡¨(A),ç»“æœæ˜¾ç¤ºå³è¡¨ä¸­å…¨éƒ¨ä¿¡æ¯,å·¦è¡¨ä¸­ä¸å­˜åœ¨çš„å­—æ®µå†…å®¹ç”¨ NULL å¡«å……
è¯­æ³•: 
	select column_name 
	from A 
	right join B 
	on A.column_name=B.column_name
*/
SELECT p.`name` å§“å,p.`gender` æ€§åˆ«1,c.`gender` æ€§åˆ«2,c.`married` å·²å©š
FROM person p RIGHT JOIN cartoon c
ON p.`name`=c.`name`;

SELECT p.`name` å§“å,p.`gender` æ€§åˆ«1,c.`gender` æ€§åˆ«2,c.`married` å·²å©š
FROM cartoon c RIGHT JOIN person p
ON p.`name`=c.`name`; -- æ­¤ç»“æœå’Œä¸Šé¢å·¦è¿æ¥æŸ¥è¯¢ä¾‹å­ä¸€è‡´

SELECT p.`name` å§“å,p.`gender` æ€§åˆ«1,c.`gender` æ€§åˆ«2,c.`married` å·²å©š
FROM dailytext.`cartoon` c RIGHT JOIN shmebluk.`person` p
ON p.`name`=c.`name`; -- å¯é€‰æ‹©ä¸åŒæ•°æ®åº“çš„è¡¨è¿æ¥,ç”¨ datebase.table_name é€‰æ‹©
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Arduino+DS18b20+OLED Display]]></title>
        <id>https://shmebluk.github.io/post/arduino_ds18b20_oled-display/</id>
        <link href="https://shmebluk.github.io/post/arduino_ds18b20_oled-display/">
        </link>
        <updated>2020-03-28T14:00:57.000Z</updated>
        <summary type="html"><![CDATA[<p>DS18b20è·å–åˆ°æ¸©åº¦æ•°å€¼ä¿å­˜åˆ°å˜é‡ä¸­ï¼Œç„¶åå’Œå¤©æ°”å›¾æ ‡è¿˜æœ‰æ»šåŠ¨å­—å¹•ä¸€èµ·å‘é€åˆ°OLED å±å¹•ä¸Šæ˜¾ç¤º</p>
]]></summary>
        <content type="html"><![CDATA[<p>DS18b20è·å–åˆ°æ¸©åº¦æ•°å€¼ä¿å­˜åˆ°å˜é‡ä¸­ï¼Œç„¶åå’Œå¤©æ°”å›¾æ ‡è¿˜æœ‰æ»šåŠ¨å­—å¹•ä¸€èµ·å‘é€åˆ°OLED å±å¹•ä¸Šæ˜¾ç¤º</p>
<!-- more -->
<p>éœ€è¦ç”¨åˆ°çš„åº“å‡å¯åœ¨Arduinoåº“ç®¡ç†å™¨ä¸‹è½½ã€‚<br>
ç”µè·¯å›¾ï¼š<br>
<img src="https://shmebluk.github.io//post-images/1585405671072.png" alt="" loading="lazy"><br>
å›¾ä¸­å±å¹•æ¥çº¿å·²åœ¨ä»£ç ä¸­å†™å‡ºï¼Œæ¸©åº¦ä¼ æ„Ÿå™¨dateå£éœ€è¦æ¥ä¸€ä¸ª4.7kæ¬§çš„ç”µé˜»ï¼›<br>
æœ€ç»ˆæ•ˆæœå¦‚ä¸‹å›¾ï¼š<br>
<img src="https://shmebluk.github.io//post-images/1585404643686.jpg" alt="" loading="lazy"><br>
ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-c++">#include &lt;Arduino.h&gt;
#include &lt;U8g2lib.h&gt;

#include &lt;OneWire.h&gt;
#include &lt;DallasTemperature.h&gt;

// DS18b20æ•°æ®è¾“å‡ºè„šæ¥å¼€å‘æ¿æ•°å­—å¼•è„š
#define ONE_WIRE_BUS 8

OneWire oneWire(ONE_WIRE_BUS);
DallasTemperature sensors(&amp;oneWire);

#ifdef U8X8_HAVE_HW_SPI
#include &lt;SPI.h&gt;
#endif
#ifdef U8X8_HAVE_HW_I2C
#include &lt;Wire.h&gt;
#endif
//é€‰æ‹©è‡ªå·±çš„å±å¹•é©±åŠ¨
U8G2_SSD1306_128X64_NONAME_F_4W_SW_SPI u8g2(U8G2_R0, /* clock=*/ 4, /* data=*/ 5, /* cs=*/ 3, /* dc=*/ 7, /* reset=*/ 6);

#define SUN_CLOUD  1
//ç»˜åˆ¶å¤©æ°”å›¾æ ‡
void drawWeatherSymbol(u8g2_uint_t x, u8g2_uint_t y, uint8_t symbol)
{ 
  switch(symbol)
  {
    case SUN_CLOUD:
      u8g2.setFont(u8g2_font_open_iconic_weather_6x_t);
      u8g2.drawGlyph(x, y, 65); 
      break;      
  }
}
//ç»˜åˆ¶æ˜¾ç¤ºç•Œé¢
void drawWeather(uint8_t symbol, int val)
{
  //ç»˜åˆ¶å¤©æ°”ç¬¦å·
  drawWeatherSymbol(0, 48, symbol);
  //ç»˜åˆ¶æ¸©åº¦
  u8g2.setFont(u8g2_font_logisoso32_tf);
  u8g2.setCursor(48+3, 42);
  u8g2.print(val);
  u8g2.print(&quot;Â°C&quot;);   // requires enableUTF8Print()
}
//ç»˜åˆ¶æ»šåŠ¨å­—å¹•
void drawScrollString(int16_t offset, const char *s)
{
  static char buf[36];  // should for screen with up to 256 pixel width 
  size_t len;
  size_t char_offset = 0;
  u8g2_uint_t dx = 0;
  size_t visible = 0;
  

  u8g2.setDrawColor(0);   // clear the scrolling area
  u8g2.drawBox(0, 49, u8g2.getDisplayWidth()-1, u8g2.getDisplayHeight()-1);
  u8g2.setDrawColor(1);   // set the color for the text
    
  
  len = strlen(s);
  if ( offset &lt; 0 )
  {
    char_offset = (-offset)/8;
    dx = offset + char_offset*8;
    if ( char_offset &gt;= u8g2.getDisplayWidth()/8 )
      return;
    visible = u8g2.getDisplayWidth()/8-char_offset+1;
    strncpy(buf, s, visible);
    buf[visible] = '\0';
    u8g2.setFont(u8g2_font_8x13_mf);
    u8g2.drawStr(char_offset*8-dx, 62, buf);
  }
  else
  {
    char_offset = offset / 8;
    if ( char_offset &gt;= len )
      return; // nothing visible
    dx = offset - char_offset*8;
    visible = len - char_offset;
    if ( visible &gt; u8g2.getDisplayWidth()/8+1 )
      visible = u8g2.getDisplayWidth()/8+1;
    strncpy(buf, s+char_offset, visible);
    buf[visible] = '\0';
    u8g2.setFont(u8g2_font_8x13_mf);
    u8g2.drawStr(-dx, 62, buf);
  }
  
}

void draw(const char *s, uint8_t symbol, int val)
{
  int16_t offset = -(int16_t)u8g2.getDisplayWidth();
  int16_t len = strlen(s);
  
  u8g2.clearBuffer();         // clear the internal memory
  drawWeather(symbol, val);    // draw the icon and degree only once
  for(;;)             // then do the scrolling
  {
  
    drawScrollString(offset, s);        // no clearBuffer required, screen will be partially cleared here
    u8g2.sendBuffer();        // transfer internal memory to the display

    delay(20);
    offset+=2;
    if ( offset &gt; len*8+1 )
      break;
  }
}


void setup(void) {
  Serial.begin(9600);
  sensors.begin(); //åˆå§‹åŒ–DS18b20
  u8g2.begin();  //åˆå§‹åŒ–OLED
  u8g2.enableUTF8Print();//æ‰“å¼€UTF8è¾“å‡º
}

void loop(void) {
    sensors.requestTemperatures(); // å‘é€å‘½ä»¤è·å–æ¸©åº¦
    int val = sensors.getTempCByIndex(0);//å°†è·å–åˆ°çš„æ¸©åº¦æ•°å€¼ä¿å­˜åœ¨å˜é‡ä¸­
    draw(&quot;What a beautiful day!&quot;, SUN_CLOUD, val);//è°ƒç”¨å‡½æ•°ç»˜åˆ¶æœ€ç»ˆç•Œé¢
}
</code></pre>
]]></content>
    </entry>
</feed>